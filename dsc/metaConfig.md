---
ms.date: 2017-10-11
author: eslesar;mgreenegit
ms.topic: conceptual
keywords: dsc,powershell,configuration,installation
title: Configuration du Gestionnaire de configuration local
ms.openlocfilehash: 98470f45ca7c11ea63d68da7dec9fcd844f06192
ms.sourcegitcommit: 9a5da3f739b1eebb81ede58bd4fc8037bad87224
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/16/2017
---
# <a name="configuring-the-local-configuration-manager"></a><span data-ttu-id="2beb4-103">Configuration du Gestionnaire de configuration local</span><span class="sxs-lookup"><span data-stu-id="2beb4-103">Configuring the Local Configuration Manager</span></span>

> <span data-ttu-id="2beb4-104">S’applique à : Windows PowerShell 5.0</span><span class="sxs-lookup"><span data-stu-id="2beb4-104">Applies To: Windows PowerShell 5.0</span></span>

<span data-ttu-id="2beb4-105">Le Gestionnaire de configuration local est le moteur de la fonctionnalité DSC (Desired State Configuration).</span><span class="sxs-lookup"><span data-stu-id="2beb4-105">The Local Configuration Manager (LCM) is the engine of Desired State Configuration (DSC).</span></span>
<span data-ttu-id="2beb4-106">Le LCM s’exécute sur chaque nœud cible pour analyser et appliquer les configurations transmises au nœud.</span><span class="sxs-lookup"><span data-stu-id="2beb4-106">The LCM runs on every target node, and is responsible for parsing and enacting configurations that are sent to the node.</span></span>
<span data-ttu-id="2beb4-107">Il a également en charge plusieurs autres opérations liées à DSC, notamment les suivantes.</span><span class="sxs-lookup"><span data-stu-id="2beb4-107">It is also responsible for a number of other aspects of DSC, including the following.</span></span>

- <span data-ttu-id="2beb4-108">Déterminer le mode d’actualisation (push ou pull).</span><span class="sxs-lookup"><span data-stu-id="2beb4-108">Determining refresh mode (push or pull).</span></span>
- <span data-ttu-id="2beb4-109">Spécifier la fréquence à laquelle un nœud extrait et applique les configurations.</span><span class="sxs-lookup"><span data-stu-id="2beb4-109">Specifying how often a node pulls and enacts configurations.</span></span>
- <span data-ttu-id="2beb4-110">Associer le nœud à un service d’extraction.</span><span class="sxs-lookup"><span data-stu-id="2beb4-110">Associating the node with pull service.</span></span>
- <span data-ttu-id="2beb4-111">Spécifier des configurations partielles.</span><span class="sxs-lookup"><span data-stu-id="2beb4-111">Specifying partial configurations.</span></span>

<span data-ttu-id="2beb4-112">Un type spécial de configuration vous permet de configurer le LCM pour définir chacun de ces comportements.</span><span class="sxs-lookup"><span data-stu-id="2beb4-112">You use a special type of configuration to configure the LCM to specify each of these behaviors.</span></span>
<span data-ttu-id="2beb4-113">Les sections qui suivent décrivent comment configurer le LCM.</span><span class="sxs-lookup"><span data-stu-id="2beb4-113">The following sections describe how to configure the LCM.</span></span>

> <span data-ttu-id="2beb4-114">**Remarque** : Cette rubrique concerne le gestionnaire de configuration local introduit dans Windows PowerShell 5.0.</span><span class="sxs-lookup"><span data-stu-id="2beb4-114">**Note**: This topic applies to the LCM introduced in Windows PowerShell 5.0.</span></span>
<span data-ttu-id="2beb4-115">Pour plus d’informations sur la configuration du LCM dans Windows PowerShell 4.0, consultez [Gestionnaire de configuration local DSC Windows PowerShell 4.0](metaconfig4.md).</span><span class="sxs-lookup"><span data-stu-id="2beb4-115">For information about configuring the LCM in Windows PowerShell 4.0, see [Windows PowerShell 4.0 Desired State Configuration Local Configuration Manager](metaconfig4.md).</span></span>

## <a name="writing-and-enacting-an-lcm-configuration"></a><span data-ttu-id="2beb4-116">Création et application d’une configuration du LCM</span><span class="sxs-lookup"><span data-stu-id="2beb4-116">Writing and enacting an LCM configuration</span></span>

<span data-ttu-id="2beb4-117">Pour configurer le LCM, vous devez créer et exécuter un type spécial de configuration appliquant les paramètres du LCM.</span><span class="sxs-lookup"><span data-stu-id="2beb4-117">To configure the LCM, you create and run a special type of configuration that applies LCM settings.</span></span>
<span data-ttu-id="2beb4-118">Pour spécifier une configuration du LCM, utilisez l’attribut DscLocalConfigurationManager.</span><span class="sxs-lookup"><span data-stu-id="2beb4-118">To specify an LCM configuration, you use the DscLocalConfigurationManager attribute.</span></span>
<span data-ttu-id="2beb4-119">L’exemple ci-dessous montre une configuration simple qui définit le LCM en mode par envoi.</span><span class="sxs-lookup"><span data-stu-id="2beb4-119">The following shows a simple configuration that sets the LCM to push mode.</span></span>

```powershell
[DSCLocalConfigurationManager()]
configuration LCMConfig
{
    Node localhost
    {
        Settings
        {
            RefreshMode = 'Push'
        }
    }
} 
```

<span data-ttu-id="2beb4-120">Le processus d’application des paramètres au Gestionnaire de configuration local est similaire à l’application d’une configuration DSC.</span><span class="sxs-lookup"><span data-stu-id="2beb4-120">The process of applying settings to LCM is similar to applying a DSC configuration.</span></span>
<span data-ttu-id="2beb4-121">Vous allez créer une configuration du LCM, la compiler dans un fichier MOF, puis l’appliquer au nœud.</span><span class="sxs-lookup"><span data-stu-id="2beb4-121">You will create an LCM configuration, compile it to a MOF file, and apply it to the node.</span></span>
<span data-ttu-id="2beb4-122">À la différence des configurations DSC, vous n’appliquez pas de configuration du gestionnaire de configuration local en appelant l’applet de commande [Start-DscConfiguration](https://technet.microsoft.com/en-us/library/dn521623.aspx).</span><span class="sxs-lookup"><span data-stu-id="2beb4-122">Unlike DSC configurations, you do not enact an LCM configuration by calling the [Start-DscConfiguration](https://technet.microsoft.com/en-us/library/dn521623.aspx) cmdlet.</span></span>
<span data-ttu-id="2beb4-123">Au lieu de cela, vous appelez [DscLocalConfigurationManager](https://technet.microsoft.com/en-us/library/dn521621.aspx) en spécifiant le chemin du fichier MOF de configuration du LCM comme paramètre.</span><span class="sxs-lookup"><span data-stu-id="2beb4-123">Instead, you call [Set-DscLocalConfigurationManager](https://technet.microsoft.com/en-us/library/dn521621.aspx), supplying the path to the LCM configuration MOF as a parameter.</span></span>
<span data-ttu-id="2beb4-124">Après avoir appliqué la configuration du LCM, vous pouvez afficher ses propriétés en appelant l’applet de commande [Get-DscLocalConfigurationManager](https://technet.microsoft.com/en-us/library/dn407378.aspx).</span><span class="sxs-lookup"><span data-stu-id="2beb4-124">After you enact the LCM configuration, you can see the properties of the LCM by calling the [Get-DscLocalConfigurationManager](https://technet.microsoft.com/en-us/library/dn407378.aspx) cmdlet.</span></span>

<span data-ttu-id="2beb4-125">Une configuration du LCM peut contenir des blocs pour un ensemble limité de ressources uniquement.</span><span class="sxs-lookup"><span data-stu-id="2beb4-125">An LCM configuration can contain blocks only for a limited set of resources.</span></span>
<span data-ttu-id="2beb4-126">Dans l’exemple précédent, **Settings** est la seule ressource appelée.</span><span class="sxs-lookup"><span data-stu-id="2beb4-126">In the previous example, the only resource called is **Settings**.</span></span>
<span data-ttu-id="2beb4-127">Voici les autres ressources disponibles :</span><span class="sxs-lookup"><span data-stu-id="2beb4-127">The other available resources are:</span></span>

* <span data-ttu-id="2beb4-128">**ConfigurationRepositoryWeb** : spécifie un service d’extraction HTTP pour les configurations.</span><span class="sxs-lookup"><span data-stu-id="2beb4-128">**ConfigurationRepositoryWeb**: specifies an HTTP pull service for configurations.</span></span>
* <span data-ttu-id="2beb4-129">**ConfigurationRepositoryShare** : spécifie un partage SMB pour les configurations.</span><span class="sxs-lookup"><span data-stu-id="2beb4-129">**ConfigurationRepositoryShare**: specifies an SMB share for configurations.</span></span>
* <span data-ttu-id="2beb4-130">**ResourceRepositoryWeb** : spécifie un service d’extraction HTTP pour les modules.</span><span class="sxs-lookup"><span data-stu-id="2beb4-130">**ResourceRepositoryWeb**: specifies an HTTP pull service for modules.</span></span>
* <span data-ttu-id="2beb4-131">**ResourceRepositoryShare** : spécifie un partage SMB pour les modules.</span><span class="sxs-lookup"><span data-stu-id="2beb4-131">**ResourceRepositoryShare**: specifies an SMB share for modules.</span></span>
* <span data-ttu-id="2beb4-132">**ReportServerWeb** : spécifie un service d’extraction HTTP auquel les rapports sont envoyés.</span><span class="sxs-lookup"><span data-stu-id="2beb4-132">**ReportServerWeb**: specifies an HTTP pull service to which reports are sent.</span></span>
* <span data-ttu-id="2beb4-133">**PartialConfiguration** : fournit des données pour activer des configurations partielles.</span><span class="sxs-lookup"><span data-stu-id="2beb4-133">**PartialConfiguration**: provides data to enable partial configurations.</span></span>

## <a name="basic-settings"></a><span data-ttu-id="2beb4-134">Paramètres de base</span><span class="sxs-lookup"><span data-stu-id="2beb4-134">Basic settings</span></span>

<span data-ttu-id="2beb4-135">À la différence de la spécification de points de terminaison/de chemins et de configurations partielles du service d’extraction, toutes les propriétés du Gestionnaire de configuration local sont configurées dans un bloc **Paramètres**.</span><span class="sxs-lookup"><span data-stu-id="2beb4-135">Other than specifying pull service endpoints/paths and partial configurations, all of the properties of the LCM are configured in a **Settings** block.</span></span>
<span data-ttu-id="2beb4-136">Un bloc **Settings** définit les propriétés suivantes.</span><span class="sxs-lookup"><span data-stu-id="2beb4-136">The following properties are available in a **Settings** block.</span></span>

|  <span data-ttu-id="2beb4-137">Propriété</span><span class="sxs-lookup"><span data-stu-id="2beb4-137">Property</span></span>  |  <span data-ttu-id="2beb4-138">Type</span><span class="sxs-lookup"><span data-stu-id="2beb4-138">Type</span></span>  |  <span data-ttu-id="2beb4-139">Description</span><span class="sxs-lookup"><span data-stu-id="2beb4-139">Description</span></span>   |
|----------- |------- |--------------- |
| <span data-ttu-id="2beb4-140">ActionAfterReboot</span><span class="sxs-lookup"><span data-stu-id="2beb4-140">ActionAfterReboot</span></span>| <span data-ttu-id="2beb4-141">string</span><span class="sxs-lookup"><span data-stu-id="2beb4-141">string</span></span>| <span data-ttu-id="2beb4-142">Spécifie le comportement après un redémarrage survenant pendant l’application d’une configuration.</span><span class="sxs-lookup"><span data-stu-id="2beb4-142">Specifies what happens after a reboot during the application of a configuration.</span></span> <span data-ttu-id="2beb4-143">Les valeurs possibles sont __ContinueConfiguration__ et __StopConfiguration__.</span><span class="sxs-lookup"><span data-stu-id="2beb4-143">The possible values are __"ContinueConfiguration"__ and __"StopConfiguration"__.</span></span> <ul><li> <span data-ttu-id="2beb4-144">Avec la valeur __ContinueConfiguration__, l’application de la configuration actuelle se poursuit après le redémarrage de l’ordinateur.</span><span class="sxs-lookup"><span data-stu-id="2beb4-144">__ContinueConfiguration__: Continue applying the current configuration after machine reboot.</span></span> <span data-ttu-id="2beb4-145">Il s’agit de la valeur par défaut.</span><span class="sxs-lookup"><span data-stu-id="2beb4-145">This is the default falue</span></span></li><li><span data-ttu-id="2beb4-146">Avec la valeur __StopConfiguration__, l’application de la configuration actuelle s’arrête après le redémarrage de l’ordinateur.</span><span class="sxs-lookup"><span data-stu-id="2beb4-146">__StopConfiguration__: Stop the current configuration after machine reboot.</span></span></li></ul>|
| <span data-ttu-id="2beb4-147">AllowModuleOverwrite</span><span class="sxs-lookup"><span data-stu-id="2beb4-147">AllowModuleOverwrite</span></span>| <span data-ttu-id="2beb4-148">bool</span><span class="sxs-lookup"><span data-stu-id="2beb4-148">bool</span></span>| <span data-ttu-id="2beb4-149">__$TRUE__ si de nouvelles configurations téléchargées dans le service d’extraction sont autorisées à remplacer les anciennes sur le nœud cible.</span><span class="sxs-lookup"><span data-stu-id="2beb4-149">__$TRUE__ if new configurations downloaded from the pull service are allowed to overwrite the old ones on the target node.</span></span> <span data-ttu-id="2beb4-150">Autrement, définissez-la sur $FALSE.</span><span class="sxs-lookup"><span data-stu-id="2beb4-150">Otherwise, $FALSE.</span></span>|
| <span data-ttu-id="2beb4-151">CertificateID</span><span class="sxs-lookup"><span data-stu-id="2beb4-151">CertificateID</span></span>| <span data-ttu-id="2beb4-152">string</span><span class="sxs-lookup"><span data-stu-id="2beb4-152">string</span></span>| <span data-ttu-id="2beb4-153">Empreinte d’un certificat utilisée pour sécuriser les informations d’identification transmise dans une configuration.</span><span class="sxs-lookup"><span data-stu-id="2beb4-153">The thumbprint of a certificate used to secure credentials passed in a configuration.</span></span> <span data-ttu-id="2beb4-154">Pour plus d’informations, consultez [Want to secure credentials in Windows PowerShell Desired State Configuration](http://blogs.msdn.com/b/powershell/archive/2014/01/31/want-to-secure-credentials-in-windows-powershell-desired-state-configuration.aspx)? (Sécuriser les informations d’identification dans DSC Windows PowerShell).</span><span class="sxs-lookup"><span data-stu-id="2beb4-154">For more information see [Want to secure credentials in Windows PowerShell Desired State Configuration](http://blogs.msdn.com/b/powershell/archive/2014/01/31/want-to-secure-credentials-in-windows-powershell-desired-state-configuration.aspx)?.</span></span> <br> <span data-ttu-id="2beb4-155">__Remarque :__ ceci est géré automatiquement si vous utilisez le service d’extraction Azure Automation DSC.</span><span class="sxs-lookup"><span data-stu-id="2beb4-155">__Note:__ this is managed automatically if using Azure Automation DSC pull service.</span></span>|
| <span data-ttu-id="2beb4-156">ConfigurationDownloadManagers</span><span class="sxs-lookup"><span data-stu-id="2beb4-156">ConfigurationDownloadManagers</span></span>| <span data-ttu-id="2beb4-157">CimInstance[]</span><span class="sxs-lookup"><span data-stu-id="2beb4-157">CimInstance[]</span></span>| <span data-ttu-id="2beb4-158">Obsolète.</span><span class="sxs-lookup"><span data-stu-id="2beb4-158">Obsolete.</span></span> <span data-ttu-id="2beb4-159">Utilisez les blocs __ConfigurationRepositoryWeb__ et __ConfigurationRepositoryShare__ pour définir les points de terminaison du service d’extraction de configuration.</span><span class="sxs-lookup"><span data-stu-id="2beb4-159">Use __ConfigurationRepositoryWeb__ and __ConfigurationRepositoryShare__ blocks to define configuration pull service endpoints.</span></span>|
| <span data-ttu-id="2beb4-160">ConfigurationID</span><span class="sxs-lookup"><span data-stu-id="2beb4-160">ConfigurationID</span></span>| <span data-ttu-id="2beb4-161">string</span><span class="sxs-lookup"><span data-stu-id="2beb4-161">string</span></span>| <span data-ttu-id="2beb4-162">Pour la rétrocompatibilité avec des versions plus anciennes du service d’extraction.</span><span class="sxs-lookup"><span data-stu-id="2beb4-162">For backwards compatibility with older pull service versions.</span></span> <span data-ttu-id="2beb4-163">Un GUID qui identifie le fichier de configuration à obtenir d’un service d’extraction.</span><span class="sxs-lookup"><span data-stu-id="2beb4-163">A GUID that identifies the configuration file to get from a pull service.</span></span> <span data-ttu-id="2beb4-164">Le nœud extrait les configurations du service d’extraction si le nom du fichier de configuration MOF est ConfigurationID.mof.</span><span class="sxs-lookup"><span data-stu-id="2beb4-164">The node will pull configurations on the pull service if the name of the configuration MOF is named ConfigurationID.mof.</span></span><br> <span data-ttu-id="2beb4-165">__Remarque__ : si vous définissez cette propriété, l’enregistrement du nœud auprès d’un service d’extraction avec __RegistrationKey__ ne fonctionne pas.</span><span class="sxs-lookup"><span data-stu-id="2beb4-165">__Note:__ If you set this property, registering the node with a pull service by using __RegistrationKey__ does not work.</span></span> <span data-ttu-id="2beb4-166">Pour plus d’informations, consultez [Configuration d’un client collecteur à l’aide du nom de configuration](pullClientConfigNames.md).</span><span class="sxs-lookup"><span data-stu-id="2beb4-166">For more information, see [Setting up a pull client with configuration names](pullClientConfigNames.md).</span></span>|
| <span data-ttu-id="2beb4-167">ConfigurationMode</span><span class="sxs-lookup"><span data-stu-id="2beb4-167">ConfigurationMode</span></span>| <span data-ttu-id="2beb4-168">string</span><span class="sxs-lookup"><span data-stu-id="2beb4-168">string</span></span> | <span data-ttu-id="2beb4-169">Spécifie de quelle façon le LCM applique réellement la configuration aux nœuds cibles.</span><span class="sxs-lookup"><span data-stu-id="2beb4-169">Specifies how the LCM actually applies the configuration to the target nodes.</span></span> <span data-ttu-id="2beb4-170">Les valeurs possibles sont __ApplyOnly__, __ApplyandMonitor__ et __ApplyandAutoCorrect__.</span><span class="sxs-lookup"><span data-stu-id="2beb4-170">Possible values are __"ApplyOnly"__,__"ApplyandMonitior"__, and __"ApplyandAutoCorrect"__.</span></span> <ul><li><span data-ttu-id="2beb4-171">La valeur __ApplyOnly__ indique à DSC d’appliquer la configuration et de ne faire aucune autre opération, sauf si une nouvelle configuration est transmise au nœud cible ou est extraite d’un service.</span><span class="sxs-lookup"><span data-stu-id="2beb4-171">__ApplyOnly__: DSC applies the configuration and does nothing further unless a new configuration is pushed to the target node or when a new configuration is pulled from a service.</span></span> <span data-ttu-id="2beb4-172">Après l’application initiale d’une nouvelle configuration, DSC ne vérifie pas si le nœud cible est encore dans l’état précédemment configuré.</span><span class="sxs-lookup"><span data-stu-id="2beb4-172">After initial application of a new configuration, DSC does not check for drift from a previously configured state.</span></span> <span data-ttu-id="2beb4-173">Notez que DSC tente d’appliquer la configuration jusqu’à ce que l’opération aboutisse avant que __ApplyOnly__ ne prenne effet.</span><span class="sxs-lookup"><span data-stu-id="2beb4-173">Note that DSC will attempt to apply the configuration until it is successful before __ApplyOnly__ takes effect.</span></span> </li><li> <span data-ttu-id="2beb4-174">La valeur __ApplyAndMonitor__ est la valeur par défaut.</span><span class="sxs-lookup"><span data-stu-id="2beb4-174">__ApplyAndMonitor__: This is the default value.</span></span> <span data-ttu-id="2beb4-175">indique au LCM d’appliquer chaque nouvelle configuration.</span><span class="sxs-lookup"><span data-stu-id="2beb4-175">The LCM applies any new configurations.</span></span> <span data-ttu-id="2beb4-176">Après l’application initiale d’une nouvelle configuration, DSC vérifie si le nœud cible est dans l’état souhaité et, si ce n’est pas le cas, signale l’écart dans les journaux.</span><span class="sxs-lookup"><span data-stu-id="2beb4-176">After initial application of a new configuration, if the target node drifts from the desired state, DSC reports the discrepancy in logs.</span></span> <span data-ttu-id="2beb4-177">Notez que DSC tente d’appliquer la configuration jusqu’à ce que l’opération aboutisse avant que __ApplyAndMonitor__ ne prenne effet.</span><span class="sxs-lookup"><span data-stu-id="2beb4-177">Note that DSC will attempt to apply the configuration until it is successful before __ApplyAndMonitor__ takes effect.</span></span></li><li><span data-ttu-id="2beb4-178">La valeur __ApplyAndAutoCorrect__ indique à DSC d’appliquer chaque nouvelle configuration.</span><span class="sxs-lookup"><span data-stu-id="2beb4-178">__ApplyAndAutoCorrect__: DSC applies any new configurations.</span></span> <span data-ttu-id="2beb4-179">Après l’application initiale d’une nouvelle configuration, DSC vérifie si le nœud cible est dans l’état souhaité et, si ce n’est pas le cas, il signale l’écart dans les journaux, puis il réapplique la configuration actuelle.</span><span class="sxs-lookup"><span data-stu-id="2beb4-179">After initial application of a new configuration, if the target node drifts from the desired state, DSC reports the discrepancy in logs, and then re-applies the current configuration.</span></span></li></ul>|
| <span data-ttu-id="2beb4-180">ConfigurationModeFrequencyMins</span><span class="sxs-lookup"><span data-stu-id="2beb4-180">ConfigurationModeFrequencyMins</span></span>| <span data-ttu-id="2beb4-181">UInt32</span><span class="sxs-lookup"><span data-stu-id="2beb4-181">UInt32</span></span>| <span data-ttu-id="2beb4-182">Fréquence, en minutes, à laquelle la configuration actuelle est vérifiée et appliquée.</span><span class="sxs-lookup"><span data-stu-id="2beb4-182">How often, in minutes, the current configuration is checked and applied.</span></span> <span data-ttu-id="2beb4-183">Cette propriété est ignorée si la propriété ConfigurationMode est définie sur ApplyOnly.</span><span class="sxs-lookup"><span data-stu-id="2beb4-183">This property is ignored if the ConfigurationMode property is set to ApplyOnly.</span></span> <span data-ttu-id="2beb4-184">La valeur par défaut est 15.</span><span class="sxs-lookup"><span data-stu-id="2beb4-184">The default value is 15.</span></span>|
| <span data-ttu-id="2beb4-185">DebugMode</span><span class="sxs-lookup"><span data-stu-id="2beb4-185">DebugMode</span></span>| <span data-ttu-id="2beb4-186">string</span><span class="sxs-lookup"><span data-stu-id="2beb4-186">string</span></span>| <span data-ttu-id="2beb4-187">Les valeurs possibles sont __None__, __ForceModuleImport__ et __All__.</span><span class="sxs-lookup"><span data-stu-id="2beb4-187">Possible values are __None__, __ForceModuleImport__, and __All__.</span></span> <ul><li><span data-ttu-id="2beb4-188">Définissez cette propriété sur __None__ pour utiliser les ressources mises en cache.</span><span class="sxs-lookup"><span data-stu-id="2beb4-188">Set to __None__ to use cached resources.</span></span> <span data-ttu-id="2beb4-189">Il s’agit de la valeur par défaut qui doit être utilisée dans les scénarios de production.</span><span class="sxs-lookup"><span data-stu-id="2beb4-189">This is the default and should be used in production scenarios.</span></span></li><li><span data-ttu-id="2beb4-190">Définissez cette propriété sur __ForceModuleImport__ pour forcer le gestionnaire de configuration local à recharger tous les modules de ressources DSC, même ceux ayant déjà été chargés et mis en cache.</span><span class="sxs-lookup"><span data-stu-id="2beb4-190">Setting to __ForceModuleImport__, causes the LCM to reload any DSC resource modules, even if they have been previously loaded and cached.</span></span> <span data-ttu-id="2beb4-191">Ce comportement diminue les performances de DSC, car chaque module utilisé est systématiquement rechargé.</span><span class="sxs-lookup"><span data-stu-id="2beb4-191">This impacts the performance of DSC operations as each module is reloaded on use.</span></span> <span data-ttu-id="2beb4-192">En général, vous utilisez cette valeur lors du débogage d’une ressource.</span><span class="sxs-lookup"><span data-stu-id="2beb4-192">Typically you would use this value while debugging a resource</span></span></li><li><span data-ttu-id="2beb4-193">Dans cette version, __All__ est équivalent à __ForceModuleImport__</span><span class="sxs-lookup"><span data-stu-id="2beb4-193">In this release, __All__ is same as __ForceModuleImport__</span></span></li></ul> |
| <span data-ttu-id="2beb4-194">RebootNodeIfNeeded</span><span class="sxs-lookup"><span data-stu-id="2beb4-194">RebootNodeIfNeeded</span></span>| <span data-ttu-id="2beb4-195">bool</span><span class="sxs-lookup"><span data-stu-id="2beb4-195">bool</span></span>| <span data-ttu-id="2beb4-196">Définissez cette propriété sur __$true__ pour redémarrer automatiquement le nœud après l’application d’une configuration nécessitant un redémarrage.</span><span class="sxs-lookup"><span data-stu-id="2beb4-196">Set this to __$true__ to automatically reboot the node after a configuration that requires reboot is applied.</span></span> <span data-ttu-id="2beb4-197">Sinon, vous devez redémarrer manuellement le nœud.</span><span class="sxs-lookup"><span data-stu-id="2beb4-197">Otherwise, you will have to manually reboot the node for any configuration that requires it.</span></span> <span data-ttu-id="2beb4-198">La valeur par défaut est __$false__.</span><span class="sxs-lookup"><span data-stu-id="2beb4-198">The default value is __$false__.</span></span> <span data-ttu-id="2beb4-199">Pour utiliser ce paramètre lorsqu’une condition de redémarrage est imposée par autre chose que DSC (par exemple Windows Installer), combinez ce paramètre avec le module [xPendingReboot](https://github.com/powershell/xpendingreboot).</span><span class="sxs-lookup"><span data-stu-id="2beb4-199">To use this setting when a reboot condition is enacted by something other than DSC (such as Windows Installer), combine this setting with the [xPendingReboot](https://github.com/powershell/xpendingreboot) module.</span></span>|
| <span data-ttu-id="2beb4-200">RefreshMode</span><span class="sxs-lookup"><span data-stu-id="2beb4-200">RefreshMode</span></span>| <span data-ttu-id="2beb4-201">string</span><span class="sxs-lookup"><span data-stu-id="2beb4-201">string</span></span>| <span data-ttu-id="2beb4-202">Spécifie de quelle façon le LCM obtient les configurations.</span><span class="sxs-lookup"><span data-stu-id="2beb4-202">Specifies how the LCM gets configurations.</span></span> <span data-ttu-id="2beb4-203">Les valeurs possibles sont __Disabled__, __Push__ et __Pull__.</span><span class="sxs-lookup"><span data-stu-id="2beb4-203">The possible values are __"Disabled"__, __"Push"__, and __"Pull"__.</span></span> <ul><li><span data-ttu-id="2beb4-204">La valeur __Disabled__ désactive les configurations DSC pour ce nœud.</span><span class="sxs-lookup"><span data-stu-id="2beb4-204">__Disabled__: DSC configurations are disabled for this node.</span></span></li><li> <span data-ttu-id="2beb4-205">La valeur __Push__ lance les configurations en appelant l’applet de commande [Start-DscConfiguration](https://technet.microsoft.com/en-us/library/dn521623.aspx).</span><span class="sxs-lookup"><span data-stu-id="2beb4-205">__Push__: Configurations are initiated by calling the [Start-DscConfiguration](https://technet.microsoft.com/en-us/library/dn521623.aspx) cmdlet.</span></span> <span data-ttu-id="2beb4-206">Chaque configuration est immédiatement appliquée au nœud.</span><span class="sxs-lookup"><span data-stu-id="2beb4-206">The configuration is applied immediately to the node.</span></span> <span data-ttu-id="2beb4-207">Il s’agit de la valeur par défaut.</span><span class="sxs-lookup"><span data-stu-id="2beb4-207">This is the default value.</span></span></li><li><span data-ttu-id="2beb4-208">__Pull__ : le nœud est configuré pour vérifier régulièrement les configurations disponibles sur un service d’extraction ou un chemin SMB.</span><span class="sxs-lookup"><span data-stu-id="2beb4-208">__Pull:__ The node is configured to regularly check for configurations from a pull service or SMB path.</span></span> <span data-ttu-id="2beb4-209">Si cette propriété a la valeur __Pull__, vous devez spécifier un chemin HTTP (service) ou SMB (partage) dans un bloc __ConfigurationRepositoryWeb__ ou __ConfigurationRepositoryShare__.</span><span class="sxs-lookup"><span data-stu-id="2beb4-209">If this property is set to __Pull__, you must specify an HTTP (service) or SMB (share) path in a __ConfigurationRepositoryWeb__ or __ConfigurationRepositoryShare__ block.</span></span></li></ul>|
| <span data-ttu-id="2beb4-210">RefreshFrequencyMins</span><span class="sxs-lookup"><span data-stu-id="2beb4-210">RefreshFrequencyMins</span></span>| <span data-ttu-id="2beb4-211">Uint32</span><span class="sxs-lookup"><span data-stu-id="2beb4-211">Uint32</span></span>| <span data-ttu-id="2beb4-212">L’intervalle de temps, en minutes, auquel le LCM contrôle un service d’extraction pour obtenir des configurations mises à jour.</span><span class="sxs-lookup"><span data-stu-id="2beb4-212">The time interval, in minutes, at which the LCM checks a pull service to get updated configurations.</span></span> <span data-ttu-id="2beb4-213">Cette valeur est ignorée si le LCM n’est pas configuré en mode d’extraction.</span><span class="sxs-lookup"><span data-stu-id="2beb4-213">This value is ignored if the LCM is not configured in pull mode.</span></span> <span data-ttu-id="2beb4-214">La valeur par défaut est 30.</span><span class="sxs-lookup"><span data-stu-id="2beb4-214">The default value is 30.</span></span>|
| <span data-ttu-id="2beb4-215">ReportManagers</span><span class="sxs-lookup"><span data-stu-id="2beb4-215">ReportManagers</span></span>| <span data-ttu-id="2beb4-216">CimInstance[]</span><span class="sxs-lookup"><span data-stu-id="2beb4-216">CimInstance[]</span></span>| <span data-ttu-id="2beb4-217">Obsolète.</span><span class="sxs-lookup"><span data-stu-id="2beb4-217">Obsolete.</span></span> <span data-ttu-id="2beb4-218">Utilisez des blocs __ReportServerWeb__ pour définir un point de terminaison permettant d’envoyer les données de rapport à un service d’extraction.</span><span class="sxs-lookup"><span data-stu-id="2beb4-218">Use __ReportServerWeb__ blocks to define an endpoint to send reporting data to a pull service.</span></span>|
| <span data-ttu-id="2beb4-219">ResourceModuleManagers</span><span class="sxs-lookup"><span data-stu-id="2beb4-219">ResourceModuleManagers</span></span>| <span data-ttu-id="2beb4-220">CimInstance[]</span><span class="sxs-lookup"><span data-stu-id="2beb4-220">CimInstance[]</span></span>| <span data-ttu-id="2beb4-221">Obsolète.</span><span class="sxs-lookup"><span data-stu-id="2beb4-221">Obsolete.</span></span> <span data-ttu-id="2beb4-222">Utilisez des blocs __ResourceRepositoryWeb__ et __ResourceRepositoryShare__ pour définir respectivement les points de terminaison HTTP ou les chemins SMB du service d’extraction.</span><span class="sxs-lookup"><span data-stu-id="2beb4-222">Use __ResourceRepositoryWeb__ and __ResourceRepositoryShare__ blocks to define pull service HTTP endpoints or SMB paths, respectively.</span></span>|
| <span data-ttu-id="2beb4-223">PartialConfigurations</span><span class="sxs-lookup"><span data-stu-id="2beb4-223">PartialConfigurations</span></span>| <span data-ttu-id="2beb4-224">CimInstance</span><span class="sxs-lookup"><span data-stu-id="2beb4-224">CimInstance</span></span>| <span data-ttu-id="2beb4-225">Non implémentée.</span><span class="sxs-lookup"><span data-stu-id="2beb4-225">Not implemented.</span></span> <span data-ttu-id="2beb4-226">Ne pas utiliser.</span><span class="sxs-lookup"><span data-stu-id="2beb4-226">Do not use.</span></span>|
| <span data-ttu-id="2beb4-227">StatusRetentionTimeInDays</span><span class="sxs-lookup"><span data-stu-id="2beb4-227">StatusRetentionTimeInDays</span></span> | <span data-ttu-id="2beb4-228">UInt32</span><span class="sxs-lookup"><span data-stu-id="2beb4-228">UInt32</span></span>| <span data-ttu-id="2beb4-229">Nombre de jours pendant lesquels le LCM conserve l’état de la configuration actuelle.</span><span class="sxs-lookup"><span data-stu-id="2beb4-229">The number of days the LCM keeps the status of the current configuration.</span></span>|

## <a name="pull-service"></a><span data-ttu-id="2beb4-230">Service d’extraction</span><span class="sxs-lookup"><span data-stu-id="2beb4-230">Pull service</span></span>

<span data-ttu-id="2beb4-231">Les paramètres DSC permettent de gérer un nœud en extrayant des configurations et des modules, et en publiant des données de rapports à un emplacement distant.</span><span class="sxs-lookup"><span data-stu-id="2beb4-231">DSC settings allow a node to be managed by pulling configurations and modules, and publishing reporting data, to a remote location.</span></span>
<span data-ttu-id="2beb4-232">Les options actuelles du service d’extraction sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="2beb4-232">The current options for pull service include:</span></span>

- <span data-ttu-id="2beb4-233">Service de Configuration d’état souhaité d’Azure Automation</span><span class="sxs-lookup"><span data-stu-id="2beb4-233">Azure Automation Desired State Configuration service</span></span>
- <span data-ttu-id="2beb4-234">Une instance du service d’extraction exécutée sur Windows Server</span><span class="sxs-lookup"><span data-stu-id="2beb4-234">A pull service instance running on Windows Server</span></span>
- <span data-ttu-id="2beb4-235">Un partage SMB (ne prend pas en charge la publication de données de rapports)</span><span class="sxs-lookup"><span data-stu-id="2beb4-235">An SMB share (does not support publishing reporting data)</span></span>

<span data-ttu-id="2beb4-236">La configuration du LCM permet de définir les types de services d’extraction suivants :</span><span class="sxs-lookup"><span data-stu-id="2beb4-236">LCM configuration supports defining the following types of pull service endpoints:</span></span>

- <span data-ttu-id="2beb4-237">**Serveur de configuration** : référentiel pour les configurations DSC.</span><span class="sxs-lookup"><span data-stu-id="2beb4-237">**Configuration server**: A repository for DSC configurations.</span></span> <span data-ttu-id="2beb4-238">Définissez les serveurs de configuration à l’aide des blocs **ConfigurationRepositoryWeb** (pour les serveurs web) et **ConfigurationRepositoryShare** (pour les serveurs SMB).</span><span class="sxs-lookup"><span data-stu-id="2beb4-238">Define configuration servers by using **ConfigurationRepositoryWeb** (for web-based servers) and **ConfigurationRepositoryShare** (for SMB-based servers) blocks.</span></span>
- <span data-ttu-id="2beb4-239">**Serveur de ressources** : référentiel pour les ressources DSC, packagées comme modules PowerShell.</span><span class="sxs-lookup"><span data-stu-id="2beb4-239">**Resource server**: A repository for DSC resources, packaged as PowerShell modules.</span></span> <span data-ttu-id="2beb4-240">Définissez les serveurs de ressources à l’aide des blocs **ResourceRepositoryWeb** (pour les serveurs web) et **ResourceRepositoryShare** (pour les serveurs SMB).</span><span class="sxs-lookup"><span data-stu-id="2beb4-240">Define resource servers by using **ResourceRepositoryWeb** (for web-based servers) and **ResourceRepositoryShare** (for SMB-based servers) blocks.</span></span>
- <span data-ttu-id="2beb4-241">**Serveur de rapports** : service vers lequel DSC envoie les données de rapports.</span><span class="sxs-lookup"><span data-stu-id="2beb4-241">**Report server**: A service that DSC sends report data to.</span></span> <span data-ttu-id="2beb4-242">Définissez les serveurs de rapports à l’aide des blocs **ReportServerWeb**.</span><span class="sxs-lookup"><span data-stu-id="2beb4-242">Define report servers by using **ReportServerWeb** blocks.</span></span> <span data-ttu-id="2beb4-243">Un serveur de rapports doit être un service web.</span><span class="sxs-lookup"><span data-stu-id="2beb4-243">A report server must be a web service.</span></span>

<span data-ttu-id="2beb4-244">**La solution recommandée**, qui est à la fois l’option offrant le plus de fonctionnalités, est [Azure Automation DSC](https://docs.microsoft.com/en-us/azure/automation/automation-dsc-getting-started).</span><span class="sxs-lookup"><span data-stu-id="2beb4-244">**The recommended solution**, and the option with the most features available, is [Azure Automation DSC](https://docs.microsoft.com/en-us/azure/automation/automation-dsc-getting-started).</span></span>

<span data-ttu-id="2beb4-245">Le service Azure peut gérer les nœuds locaux dans des centres de données privés ou dans des clouds publics tels qu’Azure et AWS.</span><span class="sxs-lookup"><span data-stu-id="2beb4-245">The Azure service can manage nodes on-premises in private datacenters, or in public clouds such as Azure and AWS.</span></span>
<span data-ttu-id="2beb4-246">Pour les environnements où les serveurs ne peut pas se connecter directement à Internet, envisagez de limiter le trafic sortant à la seule plage IP Azure publiée (voir [Plages d’adresses IP Azure Datacenter](https://www.microsoft.com/en-us/download/details.aspx?id=41653)).</span><span class="sxs-lookup"><span data-stu-id="2beb4-246">For private environments where servers cannot directly connect to the Internet, consider limiting outbound traffic to only the published Azure IP range (see [Azure Datacenter IP Ranges](https://www.microsoft.com/en-us/download/details.aspx?id=41653)).</span></span>

<span data-ttu-id="2beb4-247">Fonctionnalités du service en ligne qui ne sont actuellement pas disponibles dans le service d’extraction sur Windows Server :</span><span class="sxs-lookup"><span data-stu-id="2beb4-247">Features of the online service that are not currently available in the pull service on Windows Server include:</span></span>
- <span data-ttu-id="2beb4-248">Toutes les données sont chiffrées, en transit comme au repos</span><span class="sxs-lookup"><span data-stu-id="2beb4-248">All data is encrypted in transit and at rest</span></span>
- <span data-ttu-id="2beb4-249">Les certificats clients sont créés et gérés automatiquement</span><span class="sxs-lookup"><span data-stu-id="2beb4-249">Client certificates are created and managed automatically</span></span>
- <span data-ttu-id="2beb4-250">Magasin des secrets pour une gestion centralisée des [mots de passe/informations d’identification](https://docs.microsoft.com/en-us/azure/automation/automation-credentials), ou des [variables](https://docs.microsoft.com/en-us/azure/automation/automation-variables) telles que les noms des serveurs ou les chaînes de connexion</span><span class="sxs-lookup"><span data-stu-id="2beb4-250">Secrets store for centrally managing [passwords/credentials](https://docs.microsoft.com/en-us/azure/automation/automation-credentials), or [variables](https://docs.microsoft.com/en-us/azure/automation/automation-variables) such as server names or connection strings</span></span>
- <span data-ttu-id="2beb4-251">Gestion centralisée du nœud [configuration du LCM](metaConfig.md#basic-settings)</span><span class="sxs-lookup"><span data-stu-id="2beb4-251">Centrally manage node [LCM configuration](metaConfig.md#basic-settings)</span></span>
- <span data-ttu-id="2beb4-252">Assignation centralisée de configurations aux nœuds clients</span><span class="sxs-lookup"><span data-stu-id="2beb4-252">Centrally assign configurations to client nodes</span></span>
- <span data-ttu-id="2beb4-253">Mise des modifications de la configuration en « groupes de contrôle de validité » pour effectuer des tests avant la production</span><span class="sxs-lookup"><span data-stu-id="2beb4-253">Release configuration changes to "canary groups" for testing before reaching production</span></span>
- <span data-ttu-id="2beb4-254">Création de rapports graphiques</span><span class="sxs-lookup"><span data-stu-id="2beb4-254">Graphical reporting</span></span>
  - <span data-ttu-id="2beb4-255">Détails de l’état au niveau de la granularité de la ressource DSC</span><span class="sxs-lookup"><span data-stu-id="2beb4-255">Status detail at the DSC resource level of granularity</span></span>
  - <span data-ttu-id="2beb4-256">Messages d’erreur en clair des ordinateurs clients pour la résolution des problèmes</span><span class="sxs-lookup"><span data-stu-id="2beb4-256">Verbose error messages from client machines for troubleshooting</span></span>
- <span data-ttu-id="2beb4-257">[Intégration à Azure Log Analytics](https://docs.microsoft.com/en-us/azure/automation/automation-dsc-diagnostics) pour les alertes, tâches automatisées, application Android/iOS pour les rapports et les alertes</span><span class="sxs-lookup"><span data-stu-id="2beb4-257">[Integration with Azure Log Analytics](https://docs.microsoft.com/en-us/azure/automation/automation-dsc-diagnostics) for alerting, automated tasks, Android/iOS app for reporting and alerting</span></span>

<span data-ttu-id="2beb4-258">Pour plus d’informations sur la configuration et l’utilisation du service d’extraction HTTP sur Windows Server, consultez [Configuration d’un service d’extraction DSC](pullServer.md).</span><span class="sxs-lookup"><span data-stu-id="2beb4-258">Alternatively, for information about setting up and using HTTP pull service on Windows Server, see [Setting up a DSC pull server](pullServer.md).</span></span>
<span data-ttu-id="2beb4-259">Veuillez noter qu’il s’agit d’une implémentation limitée, avec uniquement les fonctionnalités de base permettant le stockage des configurations/modules et la capture de données de rapports dans une base de données locale.</span><span class="sxs-lookup"><span data-stu-id="2beb4-259">Please be advised that it is a limited implementation with only basic capabilities of storing configurations/modules and capturing report data in to a local database.</span></span>

## <a name="configuration-server-blocks"></a><span data-ttu-id="2beb4-260">Blocs de serveur de configuration</span><span class="sxs-lookup"><span data-stu-id="2beb4-260">Configuration server blocks</span></span>

<span data-ttu-id="2beb4-261">Pour définir un serveur de configuration web, créez un bloc **ConfigurationRepositoryWeb**.</span><span class="sxs-lookup"><span data-stu-id="2beb4-261">To define a web-based configuration server, you create a **ConfigurationRepositoryWeb** block.</span></span>
<span data-ttu-id="2beb4-262">Un bloc **ConfigurationRepositoryWeb** définit les propriétés suivantes.</span><span class="sxs-lookup"><span data-stu-id="2beb4-262">A **ConfigurationRepositoryWeb** defines the following properties.</span></span>

|<span data-ttu-id="2beb4-263">Propriété</span><span class="sxs-lookup"><span data-stu-id="2beb4-263">Property</span></span>|<span data-ttu-id="2beb4-264">Type</span><span class="sxs-lookup"><span data-stu-id="2beb4-264">Type</span></span>|<span data-ttu-id="2beb4-265">Description</span><span class="sxs-lookup"><span data-stu-id="2beb4-265">Description</span></span>|
|---|---|---| 
|<span data-ttu-id="2beb4-266">AllowUnsecureConnection</span><span class="sxs-lookup"><span data-stu-id="2beb4-266">AllowUnsecureConnection</span></span>|<span data-ttu-id="2beb4-267">bool</span><span class="sxs-lookup"><span data-stu-id="2beb4-267">bool</span></span>|<span data-ttu-id="2beb4-268">Définissez cette propriété sur **$TRUE** pour autoriser le nœud à se connecter au serveur sans authentification.</span><span class="sxs-lookup"><span data-stu-id="2beb4-268">Set to **$TRUE** to allow connections from the node to the server without authentication.</span></span> <span data-ttu-id="2beb4-269">Définissez-la sur **$FALSE** pour rendre l’authentification obligatoire.</span><span class="sxs-lookup"><span data-stu-id="2beb4-269">Set to **$FALSE** to require authentication.</span></span>|
|<span data-ttu-id="2beb4-270">CertificateID</span><span class="sxs-lookup"><span data-stu-id="2beb4-270">CertificateID</span></span>|<span data-ttu-id="2beb4-271">string</span><span class="sxs-lookup"><span data-stu-id="2beb4-271">string</span></span>|<span data-ttu-id="2beb4-272">Empreinte d’un certificat utilisée pour l’authentification auprès du serveur.</span><span class="sxs-lookup"><span data-stu-id="2beb4-272">The thumbprint of a certificate used to authenticate to the server.</span></span>|
|<span data-ttu-id="2beb4-273">ConfigurationNames</span><span class="sxs-lookup"><span data-stu-id="2beb4-273">ConfigurationNames</span></span>|<span data-ttu-id="2beb4-274">String[]</span><span class="sxs-lookup"><span data-stu-id="2beb4-274">String[]</span></span>|<span data-ttu-id="2beb4-275">Tableau des noms des configurations à extraire par le nœud cible.</span><span class="sxs-lookup"><span data-stu-id="2beb4-275">An array of names of configurations to be pulled by the target node.</span></span> <span data-ttu-id="2beb4-276">Ils sont utilisés uniquement si le nœud est enregistré auprès du service d’extraction à l’aide d’une propriété **RegistrationKey**.</span><span class="sxs-lookup"><span data-stu-id="2beb4-276">These are used only if the node is registered with the pull service by using a **RegistrationKey**.</span></span> <span data-ttu-id="2beb4-277">Pour plus d’informations, consultez [Configuration d’un client collecteur à l’aide du nom de configuration](pullClientConfigNames.md).</span><span class="sxs-lookup"><span data-stu-id="2beb4-277">For more information, see [Setting up a pull client with configuration names](pullClientConfigNames.md).</span></span>|
|<span data-ttu-id="2beb4-278">RegistrationKey</span><span class="sxs-lookup"><span data-stu-id="2beb4-278">RegistrationKey</span></span>|<span data-ttu-id="2beb4-279">string</span><span class="sxs-lookup"><span data-stu-id="2beb4-279">string</span></span>|<span data-ttu-id="2beb4-280">Un GUID sous lequel le nœud est enregistré auprès du service d’extraction.</span><span class="sxs-lookup"><span data-stu-id="2beb4-280">A GUID that registers the node with the pull service.</span></span> <span data-ttu-id="2beb4-281">Pour plus d’informations, consultez [Configuration d’un client collecteur à l’aide du nom de configuration](pullClientConfigNames.md).</span><span class="sxs-lookup"><span data-stu-id="2beb4-281">For more information, see [Setting up a pull client with configuration names](pullClientConfigNames.md).</span></span>|
|<span data-ttu-id="2beb4-282">ServerURL</span><span class="sxs-lookup"><span data-stu-id="2beb4-282">ServerURL</span></span>|<span data-ttu-id="2beb4-283">string</span><span class="sxs-lookup"><span data-stu-id="2beb4-283">string</span></span>|<span data-ttu-id="2beb4-284">L’URL du service de configuration.</span><span class="sxs-lookup"><span data-stu-id="2beb4-284">The URL of the configuration service.</span></span>|

<span data-ttu-id="2beb4-285">Un exemple de script pour simplifier la valeur ConfigurationRepositoryWeb pour des nœuds locaux est disponible – consultez [Génération de configurations DSC](https://docs.microsoft.com/en-us/azure/automation/automation-dsc-onboarding#generating-dsc-metaconfigurations)</span><span class="sxs-lookup"><span data-stu-id="2beb4-285">An example script to simplify configuring the ConfigurationRepositoryWeb value for on-premises nodes is available - see [Generating DSC metaconfigurations](https://docs.microsoft.com/en-us/azure/automation/automation-dsc-onboarding#generating-dsc-metaconfigurations)</span></span>

<span data-ttu-id="2beb4-286">Pour définir un serveur de configuration SMB, créez un bloc **ConfigurationRepositoryShare**.</span><span class="sxs-lookup"><span data-stu-id="2beb4-286">To define an SMB-based configuration server, you create a **ConfigurationRepositoryShare** block.</span></span>
<span data-ttu-id="2beb4-287">Un bloc **ConfigurationRepositoryShare** définit les propriétés suivantes.</span><span class="sxs-lookup"><span data-stu-id="2beb4-287">A **ConfigurationRepositoryShare** defines the following properties.</span></span>

|<span data-ttu-id="2beb4-288">Propriété</span><span class="sxs-lookup"><span data-stu-id="2beb4-288">Property</span></span>|<span data-ttu-id="2beb4-289">Type</span><span class="sxs-lookup"><span data-stu-id="2beb4-289">Type</span></span>|<span data-ttu-id="2beb4-290">Description</span><span class="sxs-lookup"><span data-stu-id="2beb4-290">Description</span></span>|
|---|---|---|
|<span data-ttu-id="2beb4-291">Credential</span><span class="sxs-lookup"><span data-stu-id="2beb4-291">Credential</span></span>|<span data-ttu-id="2beb4-292">MSFT_Credential</span><span class="sxs-lookup"><span data-stu-id="2beb4-292">MSFT_Credential</span></span>|<span data-ttu-id="2beb4-293">Informations d’identification utilisées pour l’authentification auprès du partage SMB.</span><span class="sxs-lookup"><span data-stu-id="2beb4-293">The credential used to authenticate to the SMB share.</span></span>|
|<span data-ttu-id="2beb4-294">SourcePath</span><span class="sxs-lookup"><span data-stu-id="2beb4-294">SourcePath</span></span>|<span data-ttu-id="2beb4-295">string</span><span class="sxs-lookup"><span data-stu-id="2beb4-295">string</span></span>|<span data-ttu-id="2beb4-296">Chemin du partage SMB.</span><span class="sxs-lookup"><span data-stu-id="2beb4-296">The path of the SMB share.</span></span>|

## <a name="resource-server-blocks"></a><span data-ttu-id="2beb4-297">Blocs de serveur de ressources</span><span class="sxs-lookup"><span data-stu-id="2beb4-297">Resource server blocks</span></span>

<span data-ttu-id="2beb4-298">Pour définir un serveur de ressources web, créez un bloc **ResourceRepositoryWeb**.</span><span class="sxs-lookup"><span data-stu-id="2beb4-298">To define a web-based resource server, you create a **ResourceRepositoryWeb** block.</span></span>
<span data-ttu-id="2beb4-299">Un bloc **ResourceRepositoryWeb** définit les propriétés suivantes.</span><span class="sxs-lookup"><span data-stu-id="2beb4-299">A **ResourceRepositoryWeb** defines the following properties.</span></span>

|<span data-ttu-id="2beb4-300">Propriété</span><span class="sxs-lookup"><span data-stu-id="2beb4-300">Property</span></span>|<span data-ttu-id="2beb4-301">Type</span><span class="sxs-lookup"><span data-stu-id="2beb4-301">Type</span></span>|<span data-ttu-id="2beb4-302">Description</span><span class="sxs-lookup"><span data-stu-id="2beb4-302">Description</span></span>|
|---|---|---|
|<span data-ttu-id="2beb4-303">AllowUnsecureConnection</span><span class="sxs-lookup"><span data-stu-id="2beb4-303">AllowUnsecureConnection</span></span>|<span data-ttu-id="2beb4-304">bool</span><span class="sxs-lookup"><span data-stu-id="2beb4-304">bool</span></span>|<span data-ttu-id="2beb4-305">Définissez cette propriété sur **$TRUE** pour autoriser le nœud à se connecter au serveur sans authentification.</span><span class="sxs-lookup"><span data-stu-id="2beb4-305">Set to **$TRUE** to allow connections from the node to the server without authentication.</span></span> <span data-ttu-id="2beb4-306">Définissez-la sur **$FALSE** pour rendre l’authentification obligatoire.</span><span class="sxs-lookup"><span data-stu-id="2beb4-306">Set to **$FALSE** to require authentication.</span></span>|
|<span data-ttu-id="2beb4-307">CertificateID</span><span class="sxs-lookup"><span data-stu-id="2beb4-307">CertificateID</span></span>|<span data-ttu-id="2beb4-308">string</span><span class="sxs-lookup"><span data-stu-id="2beb4-308">string</span></span>|<span data-ttu-id="2beb4-309">Empreinte d’un certificat utilisée pour l’authentification auprès du serveur.</span><span class="sxs-lookup"><span data-stu-id="2beb4-309">The thumbprint of a certificate used to authenticate to the server.</span></span>|
|<span data-ttu-id="2beb4-310">RegistrationKey</span><span class="sxs-lookup"><span data-stu-id="2beb4-310">RegistrationKey</span></span>|<span data-ttu-id="2beb4-311">string</span><span class="sxs-lookup"><span data-stu-id="2beb4-311">string</span></span>|<span data-ttu-id="2beb4-312">Un GUID qui identifie le nœud inscrit auprès du service d’extraction.</span><span class="sxs-lookup"><span data-stu-id="2beb4-312">A GUID that identifies the node to the pull service.</span></span>|
|<span data-ttu-id="2beb4-313">ServerURL</span><span class="sxs-lookup"><span data-stu-id="2beb4-313">ServerURL</span></span>|<span data-ttu-id="2beb4-314">string</span><span class="sxs-lookup"><span data-stu-id="2beb4-314">string</span></span>|<span data-ttu-id="2beb4-315">URL du serveur de configuration.</span><span class="sxs-lookup"><span data-stu-id="2beb4-315">The URL of the configuration server.</span></span>|

<span data-ttu-id="2beb4-316">Un exemple de script pour simplifier la configuration de la valeur ConfigurationRepositoryWeb pour des nœuds locaux est disponible – consultez [Génération de métaconfigurations DSC](https://docs.microsoft.com/en-us/azure/automation/automation-dsc-onboarding#generating-dsc-metaconfigurations)</span><span class="sxs-lookup"><span data-stu-id="2beb4-316">An example script to simplify configuring the ResourceRepositoryWeb value for on-premises nodes is available - see [Generating DSC metaconfigurations](https://docs.microsoft.com/en-us/azure/automation/automation-dsc-onboarding#generating-dsc-metaconfigurations)</span></span>

<span data-ttu-id="2beb4-317">Pour définir un serveur de ressources SMB, créez un bloc **ResourceRepositoryShare**.</span><span class="sxs-lookup"><span data-stu-id="2beb4-317">To define an SMB-based resource server, you create a **ResourceRepositoryShare** block.</span></span>
<span data-ttu-id="2beb4-318">Un bloc **ResourceRepositoryShare** définit les propriétés suivantes.</span><span class="sxs-lookup"><span data-stu-id="2beb4-318">**ResourceRepositoryShare** defines the following properties.</span></span>

|<span data-ttu-id="2beb4-319">Propriété</span><span class="sxs-lookup"><span data-stu-id="2beb4-319">Property</span></span>|<span data-ttu-id="2beb4-320">Type</span><span class="sxs-lookup"><span data-stu-id="2beb4-320">Type</span></span>|<span data-ttu-id="2beb4-321">Description</span><span class="sxs-lookup"><span data-stu-id="2beb4-321">Description</span></span>|
|---|---|---|
|<span data-ttu-id="2beb4-322">Credential</span><span class="sxs-lookup"><span data-stu-id="2beb4-322">Credential</span></span>|<span data-ttu-id="2beb4-323">MSFT_Credential</span><span class="sxs-lookup"><span data-stu-id="2beb4-323">MSFT_Credential</span></span>|<span data-ttu-id="2beb4-324">Informations d’identification utilisées pour l’authentification auprès du partage SMB.</span><span class="sxs-lookup"><span data-stu-id="2beb4-324">The credential used to authenticate to the SMB share.</span></span> <span data-ttu-id="2beb4-325">Pour obtenir un exemple de transmission d’informations d’identification, consultez [Configuration d’un serveur d’extraction SMB DSC](pullServerSMB.md)</span><span class="sxs-lookup"><span data-stu-id="2beb4-325">For an example of passing credentials, see [Setting up a DSC SMB pull server](pullServerSMB.md)</span></span>|
|<span data-ttu-id="2beb4-326">SourcePath</span><span class="sxs-lookup"><span data-stu-id="2beb4-326">SourcePath</span></span>|<span data-ttu-id="2beb4-327">string</span><span class="sxs-lookup"><span data-stu-id="2beb4-327">string</span></span>|<span data-ttu-id="2beb4-328">Chemin du partage SMB.</span><span class="sxs-lookup"><span data-stu-id="2beb4-328">The path of the SMB share.</span></span>|

## <a name="report-server-blocks"></a><span data-ttu-id="2beb4-329">Blocs de serveur de rapports</span><span class="sxs-lookup"><span data-stu-id="2beb4-329">Report server blocks</span></span>

<span data-ttu-id="2beb4-330">Pour définir un serveur de rapports, créez un bloc **ReportServerWeb**.</span><span class="sxs-lookup"><span data-stu-id="2beb4-330">To define a report server, you create a **ReportServerWeb** block.</span></span>
<span data-ttu-id="2beb4-331">Le rôle de serveur de rapports n’est pas compatible avec le service d’extraction basé sur SMB.</span><span class="sxs-lookup"><span data-stu-id="2beb4-331">The report server role is not compatible with SMB based pull service.</span></span>
<span data-ttu-id="2beb4-332">Un bloc **ReportServerWeb** définit les propriétés suivantes.</span><span class="sxs-lookup"><span data-stu-id="2beb4-332">**ReportServerWeb** defines the following properties.</span></span>

|<span data-ttu-id="2beb4-333">Propriété</span><span class="sxs-lookup"><span data-stu-id="2beb4-333">Property</span></span>|<span data-ttu-id="2beb4-334">Type</span><span class="sxs-lookup"><span data-stu-id="2beb4-334">Type</span></span>|<span data-ttu-id="2beb4-335">Description</span><span class="sxs-lookup"><span data-stu-id="2beb4-335">Description</span></span>|
|---|---|---|
|<span data-ttu-id="2beb4-336">AllowUnsecureConnection</span><span class="sxs-lookup"><span data-stu-id="2beb4-336">AllowUnsecureConnection</span></span>|<span data-ttu-id="2beb4-337">bool</span><span class="sxs-lookup"><span data-stu-id="2beb4-337">bool</span></span>|<span data-ttu-id="2beb4-338">Définissez cette propriété sur **$TRUE** pour autoriser le nœud à se connecter au serveur sans authentification.</span><span class="sxs-lookup"><span data-stu-id="2beb4-338">Set to **$TRUE** to allow connections from the node to the server without authentication.</span></span> <span data-ttu-id="2beb4-339">Définissez-la sur **$FALSE** pour rendre l’authentification obligatoire.</span><span class="sxs-lookup"><span data-stu-id="2beb4-339">Set to **$FALSE** to require authentication.</span></span>|
|<span data-ttu-id="2beb4-340">CertificateID</span><span class="sxs-lookup"><span data-stu-id="2beb4-340">CertificateID</span></span>|<span data-ttu-id="2beb4-341">string</span><span class="sxs-lookup"><span data-stu-id="2beb4-341">string</span></span>|<span data-ttu-id="2beb4-342">Empreinte d’un certificat utilisée pour l’authentification auprès du serveur.</span><span class="sxs-lookup"><span data-stu-id="2beb4-342">The thumbprint of a certificate used to authenticate to the server.</span></span>|
|<span data-ttu-id="2beb4-343">RegistrationKey</span><span class="sxs-lookup"><span data-stu-id="2beb4-343">RegistrationKey</span></span>|<span data-ttu-id="2beb4-344">string</span><span class="sxs-lookup"><span data-stu-id="2beb4-344">string</span></span>|<span data-ttu-id="2beb4-345">Un GUID qui identifie le nœud inscrit auprès du service d’extraction.</span><span class="sxs-lookup"><span data-stu-id="2beb4-345">A GUID that identifies the node to the pull service.</span></span>|
|<span data-ttu-id="2beb4-346">ServerURL</span><span class="sxs-lookup"><span data-stu-id="2beb4-346">ServerURL</span></span>|<span data-ttu-id="2beb4-347">string</span><span class="sxs-lookup"><span data-stu-id="2beb4-347">string</span></span>|<span data-ttu-id="2beb4-348">URL du serveur de configuration.</span><span class="sxs-lookup"><span data-stu-id="2beb4-348">The URL of the configuration server.</span></span>|

<span data-ttu-id="2beb4-349">Un exemple de script pour simplifier la configuration de la valeur ReportServerWeb pour des nœuds locaux est disponible – consultez [Génération de métaconfigurations DSC](https://docs.microsoft.com/en-us/azure/automation/automation-dsc-onboarding#generating-dsc-metaconfigurations)</span><span class="sxs-lookup"><span data-stu-id="2beb4-349">An example script to simplify configuring the ReportServerWeb value for on-premises nodes is available - see [Generating DSC metaconfigurations](https://docs.microsoft.com/en-us/azure/automation/automation-dsc-onboarding#generating-dsc-metaconfigurations)</span></span>

## <a name="partial-configurations"></a><span data-ttu-id="2beb4-350">Configurations partielles</span><span class="sxs-lookup"><span data-stu-id="2beb4-350">Partial configurations</span></span>

<span data-ttu-id="2beb4-351">Pour définir une configuration partielle, créez un bloc **PartialConfiguration**.</span><span class="sxs-lookup"><span data-stu-id="2beb4-351">To define a partial configuration, you create a **PartialConfiguration** block.</span></span>
<span data-ttu-id="2beb4-352">Pour plus d’informations sur les configurations partielles, consultez [Configurations partielles DSC](partialConfigs.md).</span><span class="sxs-lookup"><span data-stu-id="2beb4-352">For more information about partial configurations, see [DSC Partial configurations](partialConfigs.md).</span></span>
<span data-ttu-id="2beb4-353">Un bloc **PartialConfiguration** définit les propriétés suivantes.</span><span class="sxs-lookup"><span data-stu-id="2beb4-353">**PartialConfiguration** defines the following properties.</span></span>

|<span data-ttu-id="2beb4-354">Propriété</span><span class="sxs-lookup"><span data-stu-id="2beb4-354">Property</span></span>|<span data-ttu-id="2beb4-355">Type</span><span class="sxs-lookup"><span data-stu-id="2beb4-355">Type</span></span>|<span data-ttu-id="2beb4-356">Description</span><span class="sxs-lookup"><span data-stu-id="2beb4-356">Description</span></span>|
|---|---|---| 
|<span data-ttu-id="2beb4-357">ConfigurationSource</span><span class="sxs-lookup"><span data-stu-id="2beb4-357">ConfigurationSource</span></span>|<span data-ttu-id="2beb4-358">string[]</span><span class="sxs-lookup"><span data-stu-id="2beb4-358">string[]</span></span>|<span data-ttu-id="2beb4-359">Tableau des noms des serveurs de configuration, définis précédemment dans les blocs **ConfigurationRepositoryWeb** et **ConfigurationRepositoryShare**, à partir desquels la configuration partielle est extraite.</span><span class="sxs-lookup"><span data-stu-id="2beb4-359">An array of names of configuration servers, previously defined in **ConfigurationRepositoryWeb** and **ConfigurationRepositoryShare** blocks, where the partial configuration is pulled from.</span></span>|
|<span data-ttu-id="2beb4-360">DependsOn</span><span class="sxs-lookup"><span data-stu-id="2beb4-360">DependsOn</span></span>|<span data-ttu-id="2beb4-361">string{}</span><span class="sxs-lookup"><span data-stu-id="2beb4-361">string{}</span></span>|<span data-ttu-id="2beb4-362">Liste des noms des autres configurations à exécuter avant l’application de cette configuration partielle.</span><span class="sxs-lookup"><span data-stu-id="2beb4-362">A list of names of other configurations that must be completed before this partial configuration is applied.</span></span>|
|<span data-ttu-id="2beb4-363">Description</span><span class="sxs-lookup"><span data-stu-id="2beb4-363">Description</span></span>|<span data-ttu-id="2beb4-364">string</span><span class="sxs-lookup"><span data-stu-id="2beb4-364">string</span></span>|<span data-ttu-id="2beb4-365">Texte qui décrit la configuration partielle.</span><span class="sxs-lookup"><span data-stu-id="2beb4-365">Text used to describe the partial configuration.</span></span>|
|<span data-ttu-id="2beb4-366">ExclusiveResources</span><span class="sxs-lookup"><span data-stu-id="2beb4-366">ExclusiveResources</span></span>|<span data-ttu-id="2beb4-367">string[]</span><span class="sxs-lookup"><span data-stu-id="2beb4-367">string[]</span></span>|<span data-ttu-id="2beb4-368">Tableau des ressources exclusives de cette configuration partielle.</span><span class="sxs-lookup"><span data-stu-id="2beb4-368">An array of resources exclusive to this partial configuration.</span></span>|
|<span data-ttu-id="2beb4-369">RefreshMode</span><span class="sxs-lookup"><span data-stu-id="2beb4-369">RefreshMode</span></span>|<span data-ttu-id="2beb4-370">string</span><span class="sxs-lookup"><span data-stu-id="2beb4-370">string</span></span>|<span data-ttu-id="2beb4-371">Spécifie de quelle façon le gestionnaire de configuration local obtient cette configuration partielle.</span><span class="sxs-lookup"><span data-stu-id="2beb4-371">Specifies how the LCM gets this partial configuration.</span></span> <span data-ttu-id="2beb4-372">Les valeurs possibles sont __Disabled__, __Push__ et __Pull__.</span><span class="sxs-lookup"><span data-stu-id="2beb4-372">The possible values are __"Disabled"__, __"Push"__, and __"Pull"__.</span></span> <ul><li><span data-ttu-id="2beb4-373">La valeur __Disabled__ désactive cette configuration partielle.</span><span class="sxs-lookup"><span data-stu-id="2beb4-373">__Disabled__: This partial configuration is disabled.</span></span></li><li> <span data-ttu-id="2beb4-374">__Push__ : la configuration partielle est transmise au nœud en appelant l’applet de commande [Publish-DscConfiguration](https://technet.microsoft.com/en-us/library/mt517875.aspx).</span><span class="sxs-lookup"><span data-stu-id="2beb4-374">__Push__: The partial configuration is pushed to the node by calling the [Publish-DscConfiguration](https://technet.microsoft.com/en-us/library/mt517875.aspx) cmdlet.</span></span> <span data-ttu-id="2beb4-375">Une fois que toutes les configurations partielles pour le nœud ont été obtenues d’un service en mode push ou pull, la configuration peut être démarrée en appelant `Start-DscConfiguration –UseExisting`.</span><span class="sxs-lookup"><span data-stu-id="2beb4-375">After all partial configurations for the node are either pushed or pulled from a service, the configuration can be started by calling `Start-DscConfiguration –UseExisting`.</span></span> <span data-ttu-id="2beb4-376">Il s’agit de la valeur par défaut.</span><span class="sxs-lookup"><span data-stu-id="2beb4-376">This is the default value.</span></span></li><li><span data-ttu-id="2beb4-377">La valeur __Pull__ configure le nœud pour vérifier régulièrement si la configuration partielle est disponible sur un service d’extraction.</span><span class="sxs-lookup"><span data-stu-id="2beb4-377">__Pull:__ The node is configured to regularly check for partial configuration from a pull service.</span></span> <span data-ttu-id="2beb4-378">Si cette propriété a la valeur __Pull__, vous devez spécifier un service d’extraction dans une propriété __ConfigurationSource__.</span><span class="sxs-lookup"><span data-stu-id="2beb4-378">If this property is set to __Pull__, you must specify a pull service in a __ConfigurationSource__ property.</span></span> <span data-ttu-id="2beb4-379">Pour plus d’informations sur le service d’extraction Azure Automation, consultez [Vue d’ensemble d’Azure Automation DSC](https://docs.microsoft.com/en-us/azure/automation/automation-dsc-overview).</span><span class="sxs-lookup"><span data-stu-id="2beb4-379">For more information about Azure Automation pull service, see [Azure Automation DSC Overview](https://docs.microsoft.com/en-us/azure/automation/automation-dsc-overview).</span></span></li></ul>|
|<span data-ttu-id="2beb4-380">ResourceModuleSource</span><span class="sxs-lookup"><span data-stu-id="2beb4-380">ResourceModuleSource</span></span>|<span data-ttu-id="2beb4-381">string[]</span><span class="sxs-lookup"><span data-stu-id="2beb4-381">string[]</span></span>|<span data-ttu-id="2beb4-382">Tableau des noms des serveurs de ressources à partir desquels télécharger les ressources nécessaires pour cette configuration partielle.</span><span class="sxs-lookup"><span data-stu-id="2beb4-382">An array of the names of resource servers from which to download required resources for this partial configuration.</span></span> <span data-ttu-id="2beb4-383">Ces noms doivent être ceux des points de terminaison du service définis précédemment dans les blocs **ResourceRepositoryWeb** et **ResourceRepositoryShare**.</span><span class="sxs-lookup"><span data-stu-id="2beb4-383">These names must refer to service endpoints previously defined in **ResourceRepositoryWeb** and **ResourceRepositoryShare** blocks.</span></span>|

<span data-ttu-id="2beb4-384">__Remarque :__ les configurations partielles sont prises en charge avec Azure Automation DSC, mais une seule configuration peut être extraite du compte Automation de chaque nœud.</span><span class="sxs-lookup"><span data-stu-id="2beb4-384">__Note:__ partial configurations are supported with Azure Automation DSC, but only one configuration can be pulled from each automation account per node.</span></span>

## <a name="see-also"></a><span data-ttu-id="2beb4-385">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="2beb4-385">See Also</span></span> 

### <a name="concepts"></a><span data-ttu-id="2beb4-386">Concepts</span><span class="sxs-lookup"><span data-stu-id="2beb4-386">Concepts</span></span>
[<span data-ttu-id="2beb4-387">Vue d’ensemble de la configuration d'état souhaité</span><span class="sxs-lookup"><span data-stu-id="2beb4-387">Desired State Configuration Overview</span></span>](overview.md)
 
[<span data-ttu-id="2beb4-388">Bien démarrer avec Azure Automation DSC</span><span class="sxs-lookup"><span data-stu-id="2beb4-388">Getting started with Azure Automation DSC</span></span>](https://docs.microsoft.com/en-us/azure/automation/automation-dsc-getting-started)

### <a name="other-resources"></a><span data-ttu-id="2beb4-389">Autres ressources</span><span class="sxs-lookup"><span data-stu-id="2beb4-389">Other Resources</span></span>

[<span data-ttu-id="2beb4-390">Set-DscLocalConfigurationManager</span><span class="sxs-lookup"><span data-stu-id="2beb4-390">Set-DscLocalConfigurationManager</span></span>](https://technet.microsoft.com/en-us/library/dn521621.aspx)

[<span data-ttu-id="2beb4-391">Configuration d’un client collecteur à l’aide du nom de configuration</span><span class="sxs-lookup"><span data-stu-id="2beb4-391">Setting up a pull client with configuration names</span></span>](pullClientConfigNames.md)
