---
title: Erreur de Windows PowerShell enregistre | Microsoft Docs
ms.custom: ''
ms.date: 09/13/2016
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- error category [PowerShell SDK]
- error identifier [PowerShell SDK]
- error records [PowerShell SDK]
- error category string [PowerShell SDK]
ms.assetid: bdd66fea-eb63-4bb6-9cbe-9a799e5e0db5
caps.latest.revision: 9
ms.openlocfilehash: bbe04a8fb556f0f6807bc0eae6634e3cf505759e
ms.sourcegitcommit: b6871f21bd666f9cd71dd336bb3f844cf472b56c
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/03/2019
ms.locfileid: "56861975"
---
# <a name="windows-powershell-error-records"></a><span data-ttu-id="bb40d-102">Enregistrements d’erreurs Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="bb40d-102">Windows PowerShell Error Records</span></span>

<span data-ttu-id="bb40d-103">Applets de commande doit passer un [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord) objet qui identifie la condition d’erreur pour les erreurs avec fin d’exécution et sans fin d’exécution.</span><span class="sxs-lookup"><span data-stu-id="bb40d-103">Cmdlets must pass an [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord) object that identifies the error condition for terminating and non-terminating errors.</span></span>

<span data-ttu-id="bb40d-104">Le [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord) objet contient les informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="bb40d-104">The [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord) object contains the following information:</span></span>

- <span data-ttu-id="bb40d-105">Exception qui décrit l’erreur.</span><span class="sxs-lookup"><span data-stu-id="bb40d-105">The exception that describes the error.</span></span> <span data-ttu-id="bb40d-106">Souvent, il s’agit d’une exception qui l’applet de commande interceptées et converti en un enregistrement d’erreur.</span><span class="sxs-lookup"><span data-stu-id="bb40d-106">Often, this is an exception that the cmdlet caught and converted into an error record.</span></span> <span data-ttu-id="bb40d-107">Chaque enregistrement d’erreur doit contenir une exception.</span><span class="sxs-lookup"><span data-stu-id="bb40d-107">Every error record must contain an exception.</span></span>

<span data-ttu-id="bb40d-108">Si l’applet de commande ne pas intercepter une exception, il doit créer une exception et choisissez la classe d’exception qui décrit le mieux la condition d’erreur.</span><span class="sxs-lookup"><span data-stu-id="bb40d-108">If the cmdlet did not catch an exception, it must create a new exception and choose the exception class that best describes the error condition.</span></span> <span data-ttu-id="bb40d-109">Toutefois, vous n’avez pas besoin lever l’exception, car il est accessible via la [System.Management.Automation.Errorrecord.Exception\*](/dotnet/api/System.Management.Automation.ErrorRecord.Exception) propriété de la [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord) objet.</span><span class="sxs-lookup"><span data-stu-id="bb40d-109">However, you do not need to throw the exception because it can be accessed through the [System.Management.Automation.Errorrecord.Exception\*](/dotnet/api/System.Management.Automation.ErrorRecord.Exception) property of the [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord) object.</span></span>

- <span data-ttu-id="bb40d-110">Un identificateur de l’erreur qui fournit un indicateur ciblé utilisables pour faciliter le diagnostic et les scripts Windows PowerShell pour gérer les conditions d’erreur spécifiques avec les gestionnaires d’erreurs spécifiques.</span><span class="sxs-lookup"><span data-stu-id="bb40d-110">An error identifier that provides a targeted designator that can be used for diagnostic purposes and by Windows PowerShell scripts to handle specific error conditions with specific error handlers.</span></span> <span data-ttu-id="bb40d-111">Chaque enregistrement d’erreur doit contenir un identificateur de l’erreur (voir l’identificateur de l’erreur).</span><span class="sxs-lookup"><span data-stu-id="bb40d-111">Every error record must contain an error identifier (see Error Identifier).</span></span>

- <span data-ttu-id="bb40d-112">Une catégorie d’erreur qui fournit un indicateur général qui peut être utilisé pour faciliter le diagnostic.</span><span class="sxs-lookup"><span data-stu-id="bb40d-112">An error category that provides a general designator that can be used for diagnostic purposes.</span></span> <span data-ttu-id="bb40d-113">Chaque enregistrement d’erreur doit spécifier une catégorie d’erreur (voir la catégorie d’erreur).</span><span class="sxs-lookup"><span data-stu-id="bb40d-113">Every error record must specify an error category (see Error Category).</span></span>

- <span data-ttu-id="bb40d-114">Un message d’erreur facultatif de remplacement et l’action recommandée (voir le Message d’erreur de remplacement).</span><span class="sxs-lookup"><span data-stu-id="bb40d-114">An optional replacement error message and a recommended action (see Replacement Error Message).</span></span>

- <span data-ttu-id="bb40d-115">Informations d’appel facultatif sur l’applet de commande qui a généré l’erreur.</span><span class="sxs-lookup"><span data-stu-id="bb40d-115">Optional invocation information about the cmdlet that threw the error.</span></span> <span data-ttu-id="bb40d-116">Ces informations sont spécifiées par Windows PowerShell (voir le Message d’appel).</span><span class="sxs-lookup"><span data-stu-id="bb40d-116">This information is specified by Windows PowerShell (see Invocation Message).</span></span>

- <span data-ttu-id="bb40d-117">L’objet cible qui était traitée lorsque l’erreur s’est produite.</span><span class="sxs-lookup"><span data-stu-id="bb40d-117">The target object that was being processed when the error occurred.</span></span> <span data-ttu-id="bb40d-118">Cela peut être l’objet d’entrée, ou il peut être un autre objet votre applet de commande était en cours.</span><span class="sxs-lookup"><span data-stu-id="bb40d-118">This might be the input object, or it might be another object that your cmdlet was processing.</span></span> <span data-ttu-id="bb40d-119">Par exemple, pour la commande `remove-item -recurse c:\somedirectory`, l’erreur peut être une instance d’un objet FileInfo pour « c:\somedirectory\lockedfile ».</span><span class="sxs-lookup"><span data-stu-id="bb40d-119">For example, for the command `remove-item -recurse c:\somedirectory`, the error might be an instance of a FileInfo object for "c:\somedirectory\lockedfile".</span></span> <span data-ttu-id="bb40d-120">Les informations d’objet cible sont facultatives.</span><span class="sxs-lookup"><span data-stu-id="bb40d-120">The target object information is optional.</span></span>

## <a name="error-identifier"></a><span data-ttu-id="bb40d-121">Identificateur de l’erreur</span><span class="sxs-lookup"><span data-stu-id="bb40d-121">Error Identifier</span></span>

<span data-ttu-id="bb40d-122">Lorsque vous créez un enregistrement d’erreur, spécifiez un identificateur qui désigne la condition d’erreur dans votre applet de commande.</span><span class="sxs-lookup"><span data-stu-id="bb40d-122">When you create an error record, specify an identifier that designates the error condition within your cmdlet.</span></span> <span data-ttu-id="bb40d-123">Windows PowerShell associe l’identificateur ciblé par le nom de votre applet de commande pour créer un identificateur d’erreur complet.</span><span class="sxs-lookup"><span data-stu-id="bb40d-123">Windows PowerShell combines the targeted identifier with the name of your cmdlet to create a fully qualified error identifier.</span></span> <span data-ttu-id="bb40d-124">Identificateur de l’erreur qualifié complet est accessible via la [System.Management.Automation.Errorrecord.Fullyqualifiederrorid\*](/dotnet/api/System.Management.Automation.ErrorRecord.FullyQualifiedErrorId) propriété de la [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord)objet.</span><span class="sxs-lookup"><span data-stu-id="bb40d-124">The fully qualified error identifier can be accessed through the [System.Management.Automation.Errorrecord.Fullyqualifiederrorid\*](/dotnet/api/System.Management.Automation.ErrorRecord.FullyQualifiedErrorId) property of the [System.Management.Automation.Errorrecord](/dotnet/api/System.Management.Automation.ErrorRecord) object.</span></span> <span data-ttu-id="bb40d-125">Identificateur de l’erreur n’est pas disponible par lui-même.</span><span class="sxs-lookup"><span data-stu-id="bb40d-125">The error identifier is not available by itself.</span></span> <span data-ttu-id="bb40d-126">Il est disponible uniquement dans le cadre de l’identificateur d’erreur complet.</span><span class="sxs-lookup"><span data-stu-id="bb40d-126">It is available only as part of the fully qualified error identifier.</span></span>

<span data-ttu-id="bb40d-127">Utilisez les instructions suivantes pour générer des identificateurs d’erreur lorsque vous créez des enregistrements d’erreur :</span><span class="sxs-lookup"><span data-stu-id="bb40d-127">Use the following guidelines to generate error identifiers when you create error records:</span></span>

- <span data-ttu-id="bb40d-128">Rendre les identificateurs d’erreur spécifique à une condition d’erreur.</span><span class="sxs-lookup"><span data-stu-id="bb40d-128">Make error identifiers specific to an error condition.</span></span> <span data-ttu-id="bb40d-129">Cibler les identificateurs d’erreur pour faciliter le diagnostic et pour les scripts qui gèrent les conditions d’erreur spécifiques avec les gestionnaires d’erreurs spécifiques.</span><span class="sxs-lookup"><span data-stu-id="bb40d-129">Target the error identifiers for diagnostic purposes and for scripts that handle specific error conditions with specific error handlers.</span></span> <span data-ttu-id="bb40d-130">Un utilisateur doit être en mesure d’utiliser l’identificateur de l’erreur pour identifier l’erreur et sa source.</span><span class="sxs-lookup"><span data-stu-id="bb40d-130">A user should be able to use the error identifier to identify the error and its source.</span></span> <span data-ttu-id="bb40d-131">Identificateurs d’erreur également activer la création de rapports pour les conditions d’erreur spécifiques à partir des exceptions existantes afin que les nouveaux sous-classes d’exception ne sont pas nécessaires.</span><span class="sxs-lookup"><span data-stu-id="bb40d-131">Error identifiers also enable reporting for specific error conditions from existing exceptions so that new exception subclasses are not required.</span></span>

- <span data-ttu-id="bb40d-132">En règle générale, affecter des identificateurs d’erreur différents pour différents chemins de code.</span><span class="sxs-lookup"><span data-stu-id="bb40d-132">In general, assign different error identifiers to different code paths.</span></span> <span data-ttu-id="bb40d-133">L’utilisateur final tire parti des identificateurs spécifiques.</span><span class="sxs-lookup"><span data-stu-id="bb40d-133">The end-user benefits from specific identifiers.</span></span> <span data-ttu-id="bb40d-134">Souvent, chaque chemin de code qui appelle [System.Management.Automation.Cmdlet.Writeerror\*](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) ou [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) a son propre identificateur.</span><span class="sxs-lookup"><span data-stu-id="bb40d-134">Often, each code path that calls [System.Management.Automation.Cmdlet.Writeerror\*](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) or [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) has its own identifier.</span></span> <span data-ttu-id="bb40d-135">En règle générale, définissez un nouvel identificateur lorsque vous définissez une nouvelle chaîne de modèle pour le message d’erreur et vice versa.</span><span class="sxs-lookup"><span data-stu-id="bb40d-135">As a rule, define a new identifier when you define a new template string for the error message, and vice-versa.</span></span> <span data-ttu-id="bb40d-136">N’utilisez pas le message d’erreur en tant qu’identificateur.</span><span class="sxs-lookup"><span data-stu-id="bb40d-136">Do not use the error message as an identifier.</span></span>

- <span data-ttu-id="bb40d-137">Lorsque vous publiez le code à l’aide d’un identificateur d’erreur particulier, vous établissez que la sémantique d’erreurs avec cet identificateur pour votre produit complète prend en charge le cycle de vie.</span><span class="sxs-lookup"><span data-stu-id="bb40d-137">When you publish code using a particular error identifier, you establish the semantics of errors with that identifier for your complete product support lifecycle.</span></span> <span data-ttu-id="bb40d-138">Ne réutilisez pas dans un contexte qui est sémantiquement différente selon le contexte d’origine.</span><span class="sxs-lookup"><span data-stu-id="bb40d-138">Do not reuse it in a context that is semantically different from the original context.</span></span> <span data-ttu-id="bb40d-139">Si la sémantique de cette erreur modifier, créer, puis utilisez un nouvel identificateur.</span><span class="sxs-lookup"><span data-stu-id="bb40d-139">If the semantics of this error change, create and then use a new identifier.</span></span>

- <span data-ttu-id="bb40d-140">Vous devez généralement utiliser un identificateur de l’erreur particulière uniquement pour les exceptions d’un type particulier de CLR.</span><span class="sxs-lookup"><span data-stu-id="bb40d-140">You should generally use a particular error identifier only for exceptions of a particular CLR type.</span></span> <span data-ttu-id="bb40d-141">Si le type de l’exception ou le type de l’objet cible change, créer, puis utilisez un nouvel identificateur.</span><span class="sxs-lookup"><span data-stu-id="bb40d-141">If the type of the exception or the type of the target object changes, create and then use a new identifier.</span></span>

- <span data-ttu-id="bb40d-142">Choisissez le texte pour votre identificateur d’erreur plus concise correspond à l’erreur que vous signalez.</span><span class="sxs-lookup"><span data-stu-id="bb40d-142">Choose text for your error identifier that concisely corresponds to the error that you are reporting.</span></span> <span data-ttu-id="bb40d-143">Utilisez les conventions de dénomination et la mise en majuscules standard de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="bb40d-143">Use standard .NET Framework naming and capitalization conventions.</span></span> <span data-ttu-id="bb40d-144">N’utilisez pas les espaces blancs ou des signes de ponctuation.</span><span class="sxs-lookup"><span data-stu-id="bb40d-144">Do not use white space or punctuation.</span></span> <span data-ttu-id="bb40d-145">Ne localisez pas les identificateurs d’erreur.</span><span class="sxs-lookup"><span data-stu-id="bb40d-145">Do not localize error identifiers.</span></span>

- <span data-ttu-id="bb40d-146">Ne générez pas les identificateurs d’erreur dynamiquement d’une manière non reproductibles.</span><span class="sxs-lookup"><span data-stu-id="bb40d-146">Do not dynamically generate error identifiers in a non-reproducible way.</span></span> <span data-ttu-id="bb40d-147">Par exemple, n’intègrent pas les informations d’erreur comme un ID de processus.</span><span class="sxs-lookup"><span data-stu-id="bb40d-147">For example, do not incorporate error information such as a process ID.</span></span> <span data-ttu-id="bb40d-148">Identificateurs d’erreur sont utiles uniquement si elles correspondent aux identificateurs erreur vues par d’autres utilisateurs qui rencontrent la même condition d’erreur.</span><span class="sxs-lookup"><span data-stu-id="bb40d-148">Error identifiers are useful only if they correspond to the error identifiers seen by other users who are experiencing the same error condition.</span></span>

## <a name="error-category"></a><span data-ttu-id="bb40d-149">Catégorie d’erreur</span><span class="sxs-lookup"><span data-stu-id="bb40d-149">Error Category</span></span>

<span data-ttu-id="bb40d-150">Lorsque vous créez un enregistrement d’erreur, spécifiez la catégorie de l’erreur en utilisant l’une des constantes définies par le [System.Management.Automation.Errorcategory](/dotnet/api/System.Management.Automation.ErrorCategory) énumération.</span><span class="sxs-lookup"><span data-stu-id="bb40d-150">When you create an error record, specify the category of the error using one of the constants defined by the [System.Management.Automation.Errorcategory](/dotnet/api/System.Management.Automation.ErrorCategory) enumeration.</span></span> <span data-ttu-id="bb40d-151">Windows PowerShell utilise la catégorie d’erreur pour afficher les informations d’erreur lorsque les utilisateurs définissent le `$ErrorView` à la variable `"CategoryView"`.</span><span class="sxs-lookup"><span data-stu-id="bb40d-151">Windows PowerShell uses the error category to display error information when users set the `$ErrorView` variable to `"CategoryView"`.</span></span>

<span data-ttu-id="bb40d-152">Évitez d’utiliser le [System.Management.Automation.Errorcategory.Notspecified](/dotnet/api/System.Management.Automation.ErrorCategory.NotSpecified) constante.</span><span class="sxs-lookup"><span data-stu-id="bb40d-152">Avoid using the [System.Management.Automation.Errorcategory.Notspecified](/dotnet/api/System.Management.Automation.ErrorCategory.NotSpecified) constant.</span></span> <span data-ttu-id="bb40d-153">Si vous avez toutes les informations sur l’erreur ou sur l’opération qui a provoqué l’erreur, choisissez la catégorie qui décrit le mieux l’erreur ou l’opération, même si la catégorie n’est pas une correspondance parfaite.</span><span class="sxs-lookup"><span data-stu-id="bb40d-153">If you have any information about the error or about the operation that caused the error, choose the category that best describes the error or the operation, even if the category is not a perfect match.</span></span>

<span data-ttu-id="bb40d-154">Les informations affichées par Windows PowerShell correspond à la chaîne d’affichage des catégories et est générées à partir des propriétés de la [System.Management.Automation.Errorcategoryinfo](/dotnet/api/System.Management.Automation.ErrorCategoryInfo) classe.</span><span class="sxs-lookup"><span data-stu-id="bb40d-154">The information displayed by Windows PowerShell is referred to as the category-view string and is built from the properties of the [System.Management.Automation.Errorcategoryinfo](/dotnet/api/System.Management.Automation.ErrorCategoryInfo) class.</span></span> <span data-ttu-id="bb40d-155">(Cette classe est accessible via l’erreur [System.Management.Automation.Errorrecord.Categoryinfo\*](/dotnet/api/System.Management.Automation.ErrorRecord.CategoryInfo) propriété.)</span><span class="sxs-lookup"><span data-stu-id="bb40d-155">(This class is accessed through the error [System.Management.Automation.Errorrecord.Categoryinfo\*](/dotnet/api/System.Management.Automation.ErrorRecord.CategoryInfo) property.)</span></span>

```
{Category}: ({TargetName}:{TargetType}):[{Activity}], {Reason}
```

<span data-ttu-id="bb40d-156">La liste suivante décrit les informations affichées :</span><span class="sxs-lookup"><span data-stu-id="bb40d-156">The following list describes the information displayed:</span></span>

- <span data-ttu-id="bb40d-157">Catégorie : Défini par le Windows PowerShell [System.Management.Automation.Errorcategory](/dotnet/api/System.Management.Automation.ErrorCategory) constante.</span><span class="sxs-lookup"><span data-stu-id="bb40d-157">Category: A Windows PowerShell-defined [System.Management.Automation.Errorcategory](/dotnet/api/System.Management.Automation.ErrorCategory) constant.</span></span>

- <span data-ttu-id="bb40d-158">TargetName : Par défaut, le nom de l’objet de l’applet de commande traitait lorsque l’erreur s’est produite.</span><span class="sxs-lookup"><span data-stu-id="bb40d-158">TargetName: By default, the name of the object the cmdlet was processing when the error occurred.</span></span> <span data-ttu-id="bb40d-159">Ou bien, une autre chaîne définie par l’applet de commande.</span><span class="sxs-lookup"><span data-stu-id="bb40d-159">Or, another cmdlet-defined string.</span></span>

- <span data-ttu-id="bb40d-160">TargetType: Par défaut, le type de l’objet cible.</span><span class="sxs-lookup"><span data-stu-id="bb40d-160">TargetType: By default, the type of the target object.</span></span> <span data-ttu-id="bb40d-161">Ou bien, une autre chaîne définie par l’applet de commande.</span><span class="sxs-lookup"><span data-stu-id="bb40d-161">Or, another cmdlet-defined string.</span></span>

- <span data-ttu-id="bb40d-162">Activité : Par défaut, le nom de l’applet de commande qui a créé l’enregistrement d’erreur.</span><span class="sxs-lookup"><span data-stu-id="bb40d-162">Activity: By default, the name of the cmdlet that created the error record.</span></span> <span data-ttu-id="bb40d-163">Ou une autre chaîne définie par l’applet de commande.</span><span class="sxs-lookup"><span data-stu-id="bb40d-163">Or, some other cmdlet-defined string.</span></span>

- <span data-ttu-id="bb40d-164">Raison : Par défaut, le type d’exception.</span><span class="sxs-lookup"><span data-stu-id="bb40d-164">Reason: By default, the exception type.</span></span> <span data-ttu-id="bb40d-165">Ou bien, une autre chaîne définie par l’applet de commande.</span><span class="sxs-lookup"><span data-stu-id="bb40d-165">Or, another cmdlet-defined string.</span></span>

## <a name="replacement-error-message"></a><span data-ttu-id="bb40d-166">Message d’erreur de remplacement</span><span class="sxs-lookup"><span data-stu-id="bb40d-166">Replacement Error Message</span></span>

<span data-ttu-id="bb40d-167">Lorsque vous développez un enregistrement d’erreur pour une applet de commande, le message d’erreur par défaut pour l’erreur provient le texte du message par défaut dans le [System.Exception.Message](/dotnet/api/System.Exception.Message) propriété.</span><span class="sxs-lookup"><span data-stu-id="bb40d-167">When you develop an error record for a cmdlet, the default error message for the error comes from the default message text in the [System.Exception.Message](/dotnet/api/System.Exception.Message) property.</span></span> <span data-ttu-id="bb40d-168">Il s’agit d’une propriété en lecture seule dont texte du message est destiné uniquement à des fins (selon les indications du .NET Framework).</span><span class="sxs-lookup"><span data-stu-id="bb40d-168">This is a read-only property whose message text is intended only for debugging purposes (according to the .NET Framework guidelines).</span></span> <span data-ttu-id="bb40d-169">Nous vous recommandons de créer un message d’erreur qui remplace ou complète le texte du message par défaut.</span><span class="sxs-lookup"><span data-stu-id="bb40d-169">We recommend that you create an error message that replaces or augments the default message text.</span></span> <span data-ttu-id="bb40d-170">Vérifiez le message plus conviviales et plus spécifiques à l’applet de commande.</span><span class="sxs-lookup"><span data-stu-id="bb40d-170">Make the message more user-friendly and more specific to the cmdlet.</span></span>

<span data-ttu-id="bb40d-171">Le message de remplacement est fourni par un [System.Management.Automation.Errordetails](/dotnet/api/System.Management.Automation.ErrorDetails) objet.</span><span class="sxs-lookup"><span data-stu-id="bb40d-171">The replacement message is provided by an [System.Management.Automation.Errordetails](/dotnet/api/System.Management.Automation.ErrorDetails) object.</span></span> <span data-ttu-id="bb40d-172">Utilisez un des constructeurs suivants de cet objet, car ils fournissent des informations de localisation supplémentaire qui peuvent être utilisées par Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="bb40d-172">Use one of the following constructors of this object because they provide additional localization information that can be used by Windows PowerShell.</span></span>

- <span data-ttu-id="bb40d-173">[ErrorDetails.ErrorDetails (applet de commande, chaîne, chaîne, objet\[System.Management.Automation.Errordetails.%23Ctor%28System.Management.Automation.Cmdlet%2Csystem.String%2Csystem.String%2Csystem.Object%5B%5D%29 ? Displayproperty = Fullname](/dotnet/api/System.Management.Automation.ErrorDetails.%23ctor%28System.Management.Automation.Cmdlet%2CSystem.String%2CSystem.String%2CSystem.Object%5B%5D%29): Utilisez ce constructeur si votre chaîne de modèle est une chaîne de ressource dans le même assembly dans lequel l’applet de commande est implémentée ou si vous souhaitez charger la chaîne de modèle via une substitution de la [System.Management.Automation.Cmdlet.Getresourcestring\* ](/dotnet/api/System.Management.Automation.Cmdlet.GetResourceString) (méthode).</span><span class="sxs-lookup"><span data-stu-id="bb40d-173">[ErrorDetails.ErrorDetails(Cmdlet, String, String, Object\[System.Management.Automation.Errordetails.%23Ctor%28System.Management.Automation.Cmdlet%2Csystem.String%2Csystem.String%2Csystem.Object%5B%5D%29?Displayproperty=Fullname](/dotnet/api/System.Management.Automation.ErrorDetails.%23ctor%28System.Management.Automation.Cmdlet%2CSystem.String%2CSystem.String%2CSystem.Object%5B%5D%29): Use this constructor if your template string is a resource string in the same assembly in which the cmdlet is implemented or if you want to load the template string through an override of the  [System.Management.Automation.Cmdlet.Getresourcestring\*](/dotnet/api/System.Management.Automation.Cmdlet.GetResourceString) method.</span></span>

- <span data-ttu-id="bb40d-174">[ErrorDetails.ErrorDetails (Assembly, chaîne, chaîne, objet\[System.Management.Automation.Errordetails.%23Ctor%28System.Reflection.Assembly%2Csystem.String%2Csystem.String%2Csystem.Object%5B%5D%29 ? Displayproperty = Fullname](/dotnet/api/System.Management.Automation.ErrorDetails.%23ctor%28System.Reflection.Assembly%2CSystem.String%2CSystem.String%2CSystem.Object%5B%5D%29): Utilisez ce constructeur si la chaîne de modèle est dans un autre assembly et que vous ne le chargez pas via une substitution de [System.Management.Automation.Cmdlet.Getresourcestring\*](/dotnet/api/System.Management.Automation.Cmdlet.GetResourceString).</span><span class="sxs-lookup"><span data-stu-id="bb40d-174">[ErrorDetails.ErrorDetails(Assembly, String, String, Object\[System.Management.Automation.Errordetails.%23Ctor%28System.Reflection.Assembly%2Csystem.String%2Csystem.String%2Csystem.Object%5B%5D%29?Displayproperty=Fullname](/dotnet/api/System.Management.Automation.ErrorDetails.%23ctor%28System.Reflection.Assembly%2CSystem.String%2CSystem.String%2CSystem.Object%5B%5D%29): Use this constructor if the template string is in another assembly and you do not load it through an override of [System.Management.Automation.Cmdlet.Getresourcestring\*](/dotnet/api/System.Management.Automation.Cmdlet.GetResourceString).</span></span>

<span data-ttu-id="bb40d-175">Le message de remplacement doit respecter les règles de conception de .NET Framework pour l’écriture de messages d’exception avec une petite différence.</span><span class="sxs-lookup"><span data-stu-id="bb40d-175">The replacement message should conform to the .NET Framework design guidelines for writing exception messages with a small difference.</span></span> <span data-ttu-id="bb40d-176">L’état de directives messages d’exception doivent être écrit pour les développeurs.</span><span class="sxs-lookup"><span data-stu-id="bb40d-176">The guidelines state that exception messages should be written for developers.</span></span> <span data-ttu-id="bb40d-177">Ces messages de remplacement doivent être écrit pour l’utilisateur de l’applet de commande.</span><span class="sxs-lookup"><span data-stu-id="bb40d-177">These replacement messages should be written for the cmdlet user.</span></span>

<span data-ttu-id="bb40d-178">Le message d’erreur de remplacement doit être ajouté avant le [System.Management.Automation.Cmdlet.Writeerror\*](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) ou [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) méthodes sont appelées. .</span><span class="sxs-lookup"><span data-stu-id="bb40d-178">The replacement error message must be added before the [System.Management.Automation.Cmdlet.Writeerror\*](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) or [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) methods are called.</span></span> <span data-ttu-id="bb40d-179">Pour ajouter un message de remplacement, définissez la [System.Management.Automation.Errorrecord.Errordetails\*](/dotnet/api/System.Management.Automation.ErrorRecord.ErrorDetails) propriété de l’enregistrement d’erreur.</span><span class="sxs-lookup"><span data-stu-id="bb40d-179">To add a replacement message, set the [System.Management.Automation.Errorrecord.Errordetails\*](/dotnet/api/System.Management.Automation.ErrorRecord.ErrorDetails) property of the error record.</span></span> <span data-ttu-id="bb40d-180">Lorsque cette propriété est définie, Windows PowerShell affiche le [System.Management.Automation.Errordetails.Message\*](/dotnet/api/System.Management.Automation.ErrorDetails.Message) propriété au lieu du texte du message par défaut.</span><span class="sxs-lookup"><span data-stu-id="bb40d-180">When this property is set, Windows PowerShell displays the [System.Management.Automation.Errordetails.Message\*](/dotnet/api/System.Management.Automation.ErrorDetails.Message) property instead of the default message text.</span></span>

## <a name="recommended-action-information"></a><span data-ttu-id="bb40d-181">Informations sur l’Action de recommandé</span><span class="sxs-lookup"><span data-stu-id="bb40d-181">Recommended Action Information</span></span>

<span data-ttu-id="bb40d-182">Le [System.Management.Automation.Errordetails](/dotnet/api/System.Management.Automation.ErrorDetails) objet peut fournir également des informations sur les actions qui sont recommandées lorsque l’erreur se produit.</span><span class="sxs-lookup"><span data-stu-id="bb40d-182">The [System.Management.Automation.Errordetails](/dotnet/api/System.Management.Automation.ErrorDetails) object can also provide information about what actions are recommended when the error occurs.</span></span>

## <a name="invocation-information"></a><span data-ttu-id="bb40d-183">Informations d’appel</span><span class="sxs-lookup"><span data-stu-id="bb40d-183">Invocation information</span></span>

<span data-ttu-id="bb40d-184">Quand une applet de commande utilise [System.Management.Automation.Cmdlet.Writeerror\*](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) ou [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) pour signaler un enregistrement d’erreur, Windows PowerShell ajoute automatiquement des informations qui décrivent la commande qui a été appelée lors de l’erreur s’est produite.</span><span class="sxs-lookup"><span data-stu-id="bb40d-184">When a cmdlet uses [System.Management.Automation.Cmdlet.Writeerror\*](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) or [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) to report an error record, Windows PowerShell automatically adds information that describes the command that was invoked when the error occurred.</span></span> <span data-ttu-id="bb40d-185">Ces informations sont fournies par un [System.Management.Automation.Invocationinfo](/dotnet/api/System.Management.Automation.InvocationInfo) objet qui contient le nom de l’applet de commande qui a été appelée par la commande, la commande elle-même et des informations sur le pipeline ou d’un script.</span><span class="sxs-lookup"><span data-stu-id="bb40d-185">This information is provided by a [System.Management.Automation.Invocationinfo](/dotnet/api/System.Management.Automation.InvocationInfo) object that contains the name of the cmdlet that was invoked by the command, the command itself, and information about the pipeline or script.</span></span> <span data-ttu-id="bb40d-186">Cette propriété est en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="bb40d-186">This property is read-only.</span></span>

## <a name="see-also"></a><span data-ttu-id="bb40d-187">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="bb40d-187">See Also</span></span>

[<span data-ttu-id="bb40d-188">System.Management.Automation.Cmdlet.Writeerror\*</span><span class="sxs-lookup"><span data-stu-id="bb40d-188">System.Management.Automation.Cmdlet.Writeerror\*</span></span>](/dotnet/api/System.Management.Automation.Cmdlet.WriteError)

[<span data-ttu-id="bb40d-189">System.Management.Automation.Cmdlet.Throwterminatingerror\*</span><span class="sxs-lookup"><span data-stu-id="bb40d-189">System.Management.Automation.Cmdlet.Throwterminatingerror\*</span></span>](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError)

[<span data-ttu-id="bb40d-190">System.Management.Automation.Errorcategory</span><span class="sxs-lookup"><span data-stu-id="bb40d-190">System.Management.Automation.Errorcategory</span></span>](/dotnet/api/System.Management.Automation.ErrorCategory)

[<span data-ttu-id="bb40d-191">System.Management.Automation.Errorcategoryinfo</span><span class="sxs-lookup"><span data-stu-id="bb40d-191">System.Management.Automation.Errorcategoryinfo</span></span>](/dotnet/api/System.Management.Automation.ErrorCategoryInfo)

[<span data-ttu-id="bb40d-192">System.Management.Automation.Errorrecord</span><span class="sxs-lookup"><span data-stu-id="bb40d-192">System.Management.Automation.Errorrecord</span></span>](/dotnet/api/System.Management.Automation.ErrorRecord)

[<span data-ttu-id="bb40d-193">System.Management.Automation.Errordetails</span><span class="sxs-lookup"><span data-stu-id="bb40d-193">System.Management.Automation.Errordetails</span></span>](/dotnet/api/System.Management.Automation.ErrorDetails)

[<span data-ttu-id="bb40d-194">System.Management.Automation.Invocationinfo</span><span class="sxs-lookup"><span data-stu-id="bb40d-194">System.Management.Automation.Invocationinfo</span></span>](/dotnet/api/System.Management.Automation.InvocationInfo)

[<span data-ttu-id="bb40d-195">Rapport d’erreurs Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="bb40d-195">Windows PowerShell Error Reporting</span></span>](./error-reporting-concepts.md)

[<span data-ttu-id="bb40d-196">Écriture d’une applet de commande Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="bb40d-196">Writing a Windows PowerShell Cmdlet</span></span>](./writing-a-windows-powershell-cmdlet.md)
