---
ms.date: 06/12/2017
contributor: JKeithB, SydneyhSmith
keywords: gallery,powershell,applet de commande,psgallery
description: Recommandations pour les éditeurs
title: Instructions et bonnes pratiques de publication PowerShell Gallery
ms.openlocfilehash: c58b23b0021e0745ee690a78f7e42c821d59cdb0
ms.sourcegitcommit: 0907b8c6322d2c7c61b17f8168d53452c8964b41
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/05/2020
ms.locfileid: "87777861"
---
# <a name="powershellgallery-publishing-guidelines-and-best-practices"></a><span data-ttu-id="a9a9a-104">Instructions et bonnes pratiques de publication PowerShell Gallery</span><span class="sxs-lookup"><span data-stu-id="a9a9a-104">PowerShellGallery Publishing Guidelines and Best Practices</span></span>

<span data-ttu-id="a9a9a-105">Cet article décrit les étapes recommandées suivies par les équipes Microsoft pour garantir que les packages publiés sur PowerShell Gallery seront largement adoptés et seront sources de valeur ajoutée pour les utilisateurs, en fonction de la manière dont PowerShell Gallery gère les données de manifeste et des nombreux commentaires envoyés par les utilisateurs de PowerShell Gallery.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-105">This article describes recommended steps used by Microsoft teams to ensure the packages published to the PowerShell Gallery will be widely adopted and provide high value to users, based on how the PowerShell Gallery handles manifest data and on feedback from large numbers of PowerShell Gallery users.</span></span> <span data-ttu-id="a9a9a-106">Les packages publiés suivant ces recommandations ont plus de chances d’être installés, approuvés et plébiscités par les utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-106">Packages that are published following these guidelines will be more likely to be installed, trusted, and attract more users.</span></span>

<span data-ttu-id="a9a9a-107">Voici des recommandations sur ce qui constitue un bon package PowerShell Gallery, les paramètres de manifeste facultatifs les plus importants, les moyens d’améliorer son code grâce aux commentaires des premiers réviseurs et aux informations fournies par [l’analyseur de script PowerShell](https://aka.ms/psscriptanalyzer), le contrôle de version des modules, la documentation, les tests et les exemples pour apprendre à utiliser le package partagé.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-107">Included below are guidelines for what makes a good PowerShell Gallery package, what optional Manifest settings are most important, improving your code with feedback from initial reviewers and [Powershell Script Analyzer](https://aka.ms/psscriptanalyzer), versioning your module, documentation, tests and examples for how to use what you have shared.</span></span> <span data-ttu-id="a9a9a-108">Une grande partie de cette documentation suit les instructions pour publier [des modules de ressources DSC haute qualité](https://github.com/PowerShell/DscResources/blob/master/HighQualityModuleGuidelines.md).</span><span class="sxs-lookup"><span data-stu-id="a9a9a-108">Much of this documentation follows the guidelines for publishing [High Quality DSC Resource Modules](https://github.com/PowerShell/DscResources/blob/master/HighQualityModuleGuidelines.md).</span></span>

<span data-ttu-id="a9a9a-109">Pour connaître le mécanisme de publication d’un package sur PowerShell Gallery, voir [Créer et publier un package](../how-to/publishing-packages/publishing-a-package.md).</span><span class="sxs-lookup"><span data-stu-id="a9a9a-109">For the mechanics of publishing a package to the PowerShell Gallery, see [Creating and Publishing a Package](../how-to/publishing-packages/publishing-a-package.md).</span></span>

<span data-ttu-id="a9a9a-110">Les commentaires sur ces instructions sont les bienvenus.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-110">Feedback on these guidelines is welcomed.</span></span> <span data-ttu-id="a9a9a-111">Si vous avez des commentaires, faites-le-nous savoir dans le [dépôt de notre documentation GitHub](https://github.com/powershell/powershell-docs/issues).</span><span class="sxs-lookup"><span data-stu-id="a9a9a-111">If you do have feedback, please open issues in our [GitHub documentation repository](https://github.com/powershell/powershell-docs/issues).</span></span>

## <a name="best-practices-for-publishing-packages"></a><span data-ttu-id="a9a9a-112">Meilleures pratiques pour publier des packages</span><span class="sxs-lookup"><span data-stu-id="a9a9a-112">Best practices for publishing packages</span></span>

<span data-ttu-id="a9a9a-113">Les bonnes pratiques suivantes reflètent ce que les utilisateurs d’éléments de PowerShell Gallery jugent important, et sont répertoriées par ordre de priorité nominal.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-113">The following best practices are what the users of PowerShell Gallery items say is important, and are listed in nominal priority order.</span></span> <span data-ttu-id="a9a9a-114">Les packages qui suivent ces recommandations ont beaucoup plus de chances d’être téléchargés et adoptés par d’autres d’utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-114">Packages that follow these guidelines are far more likely to be downloaded and adopted by others.</span></span>

- <span data-ttu-id="a9a9a-115">Utiliser PSScriptAnalyzer</span><span class="sxs-lookup"><span data-stu-id="a9a9a-115">Use PSScriptAnalyzer</span></span>
- <span data-ttu-id="a9a9a-116">Inclure une documentation et des exemples</span><span class="sxs-lookup"><span data-stu-id="a9a9a-116">Include documentation and examples</span></span>
- <span data-ttu-id="a9a9a-117">Répondre aux commentaires</span><span class="sxs-lookup"><span data-stu-id="a9a9a-117">Be responsive to feedback</span></span>
- <span data-ttu-id="a9a9a-118">Fournir des modules plutôt que des scripts</span><span class="sxs-lookup"><span data-stu-id="a9a9a-118">Provide modules rather than scripts</span></span>
- <span data-ttu-id="a9a9a-119">Fournir des liens vers un site de projet</span><span class="sxs-lookup"><span data-stu-id="a9a9a-119">Provide links to a project site</span></span>
- <span data-ttu-id="a9a9a-120">Baliser votre package avec les plateformes et PSEdition(s) compatibles</span><span class="sxs-lookup"><span data-stu-id="a9a9a-120">Tag your package with the compatible PSEdition(s) and platforms</span></span>
- <span data-ttu-id="a9a9a-121">Inclure des tests incluant vos modules</span><span class="sxs-lookup"><span data-stu-id="a9a9a-121">Include tests with your modules</span></span>
- <span data-ttu-id="a9a9a-122">Inclure et/ou lier les termes du contrat de licence</span><span class="sxs-lookup"><span data-stu-id="a9a9a-122">Include and/or link to license terms</span></span>
- <span data-ttu-id="a9a9a-123">Signer votre code</span><span class="sxs-lookup"><span data-stu-id="a9a9a-123">Sign your code</span></span>
- <span data-ttu-id="a9a9a-124">Suivre les instructions [SemVer](https://semver.org/) pour la gestion de versions</span><span class="sxs-lookup"><span data-stu-id="a9a9a-124">Follow [SemVer](https://semver.org/) guidelines for versioning</span></span>
- <span data-ttu-id="a9a9a-125">Utiliser des balises courantes, comme expliqué dans les balises courantes de PowerShell Gallery</span><span class="sxs-lookup"><span data-stu-id="a9a9a-125">Use common tags, as documented in Common PowerShell Gallery tags</span></span>
- <span data-ttu-id="a9a9a-126">Tester la publication à l’aide d’un dépôt local</span><span class="sxs-lookup"><span data-stu-id="a9a9a-126">Test publishing using a local repository</span></span>
- <span data-ttu-id="a9a9a-127">Utiliser PowerShellGet pour publier</span><span class="sxs-lookup"><span data-stu-id="a9a9a-127">Use PowerShellGet to publish</span></span>

<span data-ttu-id="a9a9a-128">Chacun de ces points est brièvement présenté dans les sections ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-128">Each of these is covered briefly in the sections below.</span></span>

## <a name="use-psscriptanalyzer"></a><span data-ttu-id="a9a9a-129">Utiliser PSScriptAnalyzer</span><span class="sxs-lookup"><span data-stu-id="a9a9a-129">Use PSScriptAnalyzer</span></span>

<span data-ttu-id="a9a9a-130">[PSScriptAnalyzer](https://www.powershellgallery.com/packages/PSScriptAnalyzer) est un outil d’analyse de code statique gratuit qui fonctionne sur le code PowerShell.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-130">[PSScriptAnalyzer](https://www.powershellgallery.com/packages/PSScriptAnalyzer) is a free static code analysis tool that works on PowerShell code.</span></span> <span data-ttu-id="a9a9a-131">**PSScriptAnalyzer** identifie les problèmes les plus courants dans le code PowerShell et fournit souvent une recommandation pour résoudre le problème.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-131">**PSScriptAnalyzer** will identify the most common issues seen in PowerShell code, and often a recommendation for how to fix the issue.</span></span> <span data-ttu-id="a9a9a-132">Cet outil est facile à utiliser et classe les problèmes en erreurs (graves, à corriger), avertissements (à examiner et à corriger) et informations (à examiner pour définir de bonnes pratiques).</span><span class="sxs-lookup"><span data-stu-id="a9a9a-132">The tool is easy to use, and categorizes the issues as Errors (severe, must be addressed), Warning (need to be reviewed and should be addressed), and Information (worth checking out for best practices).</span></span> <span data-ttu-id="a9a9a-133">Tous les packages publiés sur PowerShell Gallery sont analysés avec **PSScriptAnalyzer**, et toutes les erreurs sont renvoyées au propriétaire, qui devra les corriger.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-133">All packages published to the PowerShell Gallery will be scanned using **PSScriptAnalyzer**, and any errors will be reported back to the owner and must be addressed.</span></span>

<span data-ttu-id="a9a9a-134">La meilleure pratique consiste à exécuter `Invoke-ScriptAnalyzer` avec `-Recurse` et un avertissement `-Severity`.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-134">The best practice is to run `Invoke-ScriptAnalyzer` with `-Recurse` and `-Severity` Warning.</span></span>

<span data-ttu-id="a9a9a-135">Examinez les résultats et vérifiez que :</span><span class="sxs-lookup"><span data-stu-id="a9a9a-135">Review the results, and ensure that:</span></span>

- <span data-ttu-id="a9a9a-136">Toutes les erreurs ont été corrigées ou traitées dans votre documentation.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-136">All Errors are corrected or addressed in your documentation.</span></span>
- <span data-ttu-id="a9a9a-137">Tous les avertissements ont été examinés et traités le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-137">All Warnings are reviewed, and addressed where applicable.</span></span>

<span data-ttu-id="a9a9a-138">Les utilisateurs qui téléchargent des packages à partir de PowerShell Gallery sont fortement encouragés à exécuter **PSScriptAnalyzer** et à examiner toutes les erreurs et tous les avertissements.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-138">Users who download packages from the PowerShell Gallery are strongly encouraged to run **PSScriptAnalyzer** and evaluate all Errors and Warnings.</span></span> <span data-ttu-id="a9a9a-139">Ils contacteront très certainement les propriétaires des packages si **PSScriptAnalyzer** leur signale une erreur.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-139">Users are very likely to contact package owners if they see that there's an error reported by **PSScriptAnalyzer**.</span></span> <span data-ttu-id="a9a9a-140">S’il existe une raison valable pour que votre package conserve du code identifié comme une erreur, ajoutez ces informations à votre documentation pour éviter d’avoir à répondre plusieurs fois à la même question.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-140">If there's a compelling reason for your package to keep code that is flagged as an error, add that information to your documentation to avoid having to answer the same question many times.</span></span>

## <a name="include-documentation-and-examples"></a><span data-ttu-id="a9a9a-141">Inclure une documentation et des exemples</span><span class="sxs-lookup"><span data-stu-id="a9a9a-141">Include documentation and examples</span></span>

<span data-ttu-id="a9a9a-142">La meilleure façon de s’assurer que les utilisateurs tirent parti de n’importe quel code partagé est de leur fournir une documentation et des exemples.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-142">Documentation and examples are the best way to ensure users can take advantage of any shared code.</span></span>

<span data-ttu-id="a9a9a-143">La documentation est l’élément le plus utile à inclure dans les packages publiés sur PowerShell Gallery.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-143">Documentation is the most helpful thing to include in packages published to the PowerShell Gallery.</span></span>
<span data-ttu-id="a9a9a-144">Les utilisateurs ignorent généralement les packages sans documentation, afin d’éviter d’avoir à lire le code pour comprendre ce que le package représente et comment l’utiliser.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-144">Users will generally bypass packages without documentation, as the alternative is to read the code to understand what the package is and how to use it.</span></span> <span data-ttu-id="a9a9a-145">Plusieurs articles expliquent comment ajouter de la documentation à des packages PowerShell, notamment :</span><span class="sxs-lookup"><span data-stu-id="a9a9a-145">There are several articles available about how to provide documentation with PowerShell packages, including:</span></span>

- <span data-ttu-id="a9a9a-146">La rubrique [Comment rédiger l’aide sur une applet de commande](https://go.microsoft.com/fwlink/?LinkID=123415).</span><span class="sxs-lookup"><span data-stu-id="a9a9a-146">Guidelines for providing help are in [How to Write Cmdlet Help](https://go.microsoft.com/fwlink/?LinkID=123415).</span></span>
- <span data-ttu-id="a9a9a-147">La création de l’aide sur une applet de commande est la meilleure approche, qu’il s’agisse d’un script, d’une fonction ou d’une applet de commande PowerShell.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-147">Creating cmdlet help, which is the best approach for any PowerShell script, function, or cmdlet.</span></span>
  <span data-ttu-id="a9a9a-148">Pour plus d’informations sur la création de l’aide d’une cmdlet, commencez par [Guide pratique pour écrire l’aide d’une cmdlet](https://go.microsoft.com/fwlink/?LinkID=123415).</span><span class="sxs-lookup"><span data-stu-id="a9a9a-148">For information about how to create cmdlet help, start with [How to Write Cmdlet Help](https://go.microsoft.com/fwlink/?LinkID=123415).</span></span>
  <span data-ttu-id="a9a9a-149">Pour ajouter une aide dans un script, consultez [À propos de l’aide d’un commentaire](/powershell/module/microsoft.powershell.core/about/about_comment_based_help).</span><span class="sxs-lookup"><span data-stu-id="a9a9a-149">To add help within a script, see [About Comment Based Help](/powershell/module/microsoft.powershell.core/about/about_comment_based_help).</span></span>
- <span data-ttu-id="a9a9a-150">De nombreux modules incluent également une documentation au format texte, par exemple les fichiers MarkDown.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-150">Many modules also include documentation in text format, such as MarkDown files.</span></span> <span data-ttu-id="a9a9a-151">Cela peut s’avérer particulièrement utile lorsque GitHub contient un projet dans lequel le format Markdown est très utilisé.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-151">This can be particularly helpful when there's a project site in GitHub, where Markdown is a heavily used format.</span></span> <span data-ttu-id="a9a9a-152">La meilleure pratique consiste à utiliser un [format Markdown spécialement adapté à GitHub](https://help.github.com/categories/writing-on-github/).</span><span class="sxs-lookup"><span data-stu-id="a9a9a-152">The best practice is to use [GitHub-flavored Markdown](https://help.github.com/categories/writing-on-github/).</span></span>

<span data-ttu-id="a9a9a-153">Des exemples montrent comment utiliser le package.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-153">Examples show users how the package is intended to be used.</span></span> <span data-ttu-id="a9a9a-154">De nombreux développeurs préfèrent consulter la documentation pour comprendre comment utiliser un élément.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-154">Many developers will say that they look at examples before documentation to understand how to use something.</span></span> <span data-ttu-id="a9a9a-155">Les meilleurs exemples montrent un cas d’utilisation basique, un cas d’utilisation réaliste simulé, et le code est bien commenté.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-155">The best types of examples show basic use, plus a simulated realistic use case, and the code is well-commented.</span></span> <span data-ttu-id="a9a9a-156">Les exemples pour les modules publiés dans PowerShell Gallery doivent figurer dans le dossier Exemples à la racine du module.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-156">Examples for modules published to the PowerShell Gallery should be in an Examples folder under the module root.</span></span>

<span data-ttu-id="a9a9a-157">Vous trouverez de bons exemples dans le [module PSDscResource](https://www.powershellgallery.com/packages/PSDscResources) du dossier `Examples\RegistryResource`.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-157">A good pattern for examples can be found in the [PSDscResource module](https://www.powershellgallery.com/packages/PSDscResources) under the `Examples\RegistryResource` folder.</span></span> <span data-ttu-id="a9a9a-158">Quatre exemples de cas d’utilisation sont disponibles avec, en haut de chaque fichier, une brève description des éléments présentés.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-158">There are four sample use cases with a brief description at the top of each file that documents what is being demonstrated.</span></span>

## <a name="manage-dependencies"></a><span data-ttu-id="a9a9a-159">Gérer les dépendances</span><span class="sxs-lookup"><span data-stu-id="a9a9a-159">Manage Dependencies</span></span>

<span data-ttu-id="a9a9a-160">Il est important de spécifier les modules dont dépend votre module dans le manifeste de module.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-160">It's important to specify modules that your module is dependent on in the Module Manifest.</span></span> <span data-ttu-id="a9a9a-161">Cela permet à l’utilisateur final de ne pas avoir à se soucier de l’installation des versions appropriées des modules sur lesquels le vôtre a une dépendance.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-161">This allows the end user to not have to worry about installing the proper versions of modules that yours take a dependency on.</span></span> <span data-ttu-id="a9a9a-162">Pour spécifier des modules dépendants, vous devez utiliser le champ de module requis dans le manifeste de module.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-162">To specify dependent modules, you should use the required module field in the module manifest.</span></span> <span data-ttu-id="a9a9a-163">Cela a pour effet de charger tous les modules listés dans l’environnement global avant d’importer votre module, sauf s’ils ont déjà été chargés.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-163">This will load any listed modules into the global environment prior to importing your module unless they've already been loaded.</span></span> <span data-ttu-id="a9a9a-164">Par exemple, certains modules peuvent déjà être chargés par un module différent.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-164">For example, some modules may already be loaded by a different module.</span></span> <span data-ttu-id="a9a9a-165">Il est également possible de spécifier une version spécifique à charger à l’aide du champ **RequiredVersion** plutôt que du champ **ModuleVersion**.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-165">It's also possible to specify a specific version to load using the **RequiredVersion** field rather than the **ModuleVersion** field.</span></span> <span data-ttu-id="a9a9a-166">Lors de l’utilisation de **ModuleVersion**, la dernière version disponible est chargée au minimum la version spécifiée.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-166">When using **ModuleVersion**, it will load the newest version available with a minimum of the version specified.</span></span> <span data-ttu-id="a9a9a-167">Lorsque vous n’utilisez pas le champ **RequiredVersion** pour spécifier une version spécifique, il est important de surveiller les mises à jour de version du module requis.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-167">When not using the **RequiredVersion** field, to specify a specific version it's important to monitor version updates to the required module.</span></span> <span data-ttu-id="a9a9a-168">Il est particulièrement important de tenir compte de toutes les modifications avec rupture susceptibles d’avoir une incidence sur l’expérience utilisateur avec votre module.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-168">It's especially important to be aware of any breaking changes that could affect the user experience with your module.</span></span>

```powershell
Example: RequiredModules = @(@{ModuleName="myDependentModule"; ModuleVersion="2.0"; Guid="cfc45206-1e49-459d-a8ad-5b571ef94857"})

Example: RequiredModules = @(@{ModuleName="myDependentModule"; RequiredVersion="1.5"; Guid="cfc45206-1e49-459d-a8ad-5b571ef94857"})
```

## <a name="respond-to-feedback"></a><span data-ttu-id="a9a9a-169">Répondre aux commentaires</span><span class="sxs-lookup"><span data-stu-id="a9a9a-169">Respond to feedback</span></span>

<span data-ttu-id="a9a9a-170">Les propriétaires de packages qui répondent convenablement aux commentaires sont très appréciés de la communauté.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-170">Package owners who respond properly to feedback are highly valued by the community.</span></span> <span data-ttu-id="a9a9a-171">Il est important de répondre aux utilisateurs qui apportent des commentaires constructifs, car ces derniers se montrent suffisamment intéressés par le package pour aider à l’améliorer.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-171">Users who provide constructive feedback are important to respond to, as they're interested enough in the package to try to help improve it.</span></span>

<span data-ttu-id="a9a9a-172">PowerShell Gallery propose deux méthodes pour fournir des commentaires :</span><span class="sxs-lookup"><span data-stu-id="a9a9a-172">There are two feedback methods available in the PowerShell Gallery:</span></span>

- <span data-ttu-id="a9a9a-173">Contacter le propriétaire : les utilisateurs peuvent ainsi envoyer un e-mail au propriétaire du package.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-173">Contact Owner: This allows a user to send an email to the package owner.</span></span> <span data-ttu-id="a9a9a-174">Il est important pour ce dernier de surveiller le compte de messagerie utilisé avec les packages PowerShell Gallery et de répondre aux problèmes soulevés.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-174">As a package owner, is important to monitor the email address used with the PowerShell Gallery packages, and respond to issues that are raised.</span></span> <span data-ttu-id="a9a9a-175">L’un des inconvénients de cette méthode est que seul l’utilisateur et propriétaire verra la communication et il risque donc de répondre plusieurs fois à la même question.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-175">The one disadvantage to this method is that only the user and owner will ever see the communication, so the owner may have to answer the same question many times.</span></span>
- <span data-ttu-id="a9a9a-176">Commentaires : un champ **Commentaire** est proposé en bas de la page du package.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-176">Comments: At the bottom of the package page is a **Comment** field.</span></span> <span data-ttu-id="a9a9a-177">L’avantage de ce système est que les autres utilisateurs peuvent voir les commentaires et les réponses, ce qui réduit le nombre de fois où ils doivent répondre à une même question.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-177">The advantage to this system is that other users can see the comments and responses, which reduces the number of times any single question must be answered.</span></span> <span data-ttu-id="a9a9a-178">Il est fortement recommandé aux propriétaires de packages de suivre les commentaires de chaque package.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-178">As a package owner, it's strongly recommended that you follow the comments made for each package.</span></span> <span data-ttu-id="a9a9a-179">Consultez la rubrique [Envoi de commentaires via des médias sociaux ou des commentaires](../how-to/working-with-packages/social-media-feedback.md) pour plus d’informations sur la procédure à suivre.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-179">See [Providing Feedback via Social Media or Comments](../how-to/working-with-packages/social-media-feedback.md) for details on how to do that.</span></span>

<span data-ttu-id="a9a9a-180">Les propriétaires qui répondent de manière constructive aux commentaires sont appréciés par la communauté.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-180">Owners who respond to feedback constructively are appreciated by the community.</span></span> <span data-ttu-id="a9a9a-181">Utilisez l’opportunité dans le rapport pour demander plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-181">Use the opportunity in the report to request more information.</span></span> <span data-ttu-id="a9a9a-182">Si nécessaire, fournissez une solution de contournement ou déterminez si une mise à jour résout un problème.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-182">If needed, provide a workaround, or identify if an update fixes a problem.</span></span>

<span data-ttu-id="a9a9a-183">Si vous constatez un comportement inapproprié sur l’un de ces canaux de communication, utilisez la fonctionnalité Signaler un abus de PowerShell Gallery pour contacter les administrateurs.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-183">If there's inappropriate behavior observed from either of these communication channels, use the Report Abuse feature of the PowerShell Gallery to contact the Gallery Administrators.</span></span>

## <a name="modules-versus-scripts"></a><span data-ttu-id="a9a9a-184">Différences entre les modules et les scripts</span><span class="sxs-lookup"><span data-stu-id="a9a9a-184">Modules Versus Scripts</span></span>

<span data-ttu-id="a9a9a-185">Partager un script avec d’autres utilisateurs est une excellente idée qui leur offre d’autres exemples montrant comment résoudre les problèmes qu’ils peuvent rencontrer.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-185">Sharing a script with other users is great, and provides others with examples of how to solve problems they may have.</span></span> <span data-ttu-id="a9a9a-186">Le problème est que les scripts de PowerShell Gallery sont des fichiers sans documentation, exemples ou tests distincts.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-186">The issue is that scripts in the PowerShell Gallery are single files without separate documentation, examples, and tests.</span></span>

<span data-ttu-id="a9a9a-187">Les Modules PowerShell ont une structure de dossiers qui permet d’inclure plusieurs dossiers et fichiers dans le package.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-187">PowerShell Modules have a folder structure that allows multiple folders and files to be included with the package.</span></span> <span data-ttu-id="a9a9a-188">La structure du module permet d’inclure les autres packages que nous avons présentés parmi les meilleures pratiques : aide sur la cmdlet, documentation, exemples et tests.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-188">The module structure enables including the other packages we list as best practices: cmdlet help, documentation, examples, and tests.</span></span> <span data-ttu-id="a9a9a-189">Le principal inconvénient est qu’un script situé à l’intérieur d’un module doit être exposé et utilisé en tant que fonction.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-189">The biggest disadvantage is that a script inside a module must be exposed and used as a function.</span></span> <span data-ttu-id="a9a9a-190">Pour plus d’informations sur la création d’un module, voir [Écrire un module Windows PowerShell](/powershell/scripting/developer/module/writing-a-windows-powershell-module).</span><span class="sxs-lookup"><span data-stu-id="a9a9a-190">For information on how to create a module, see [Writing a Windows PowerShell Module](/powershell/scripting/developer/module/writing-a-windows-powershell-module).</span></span>

<span data-ttu-id="a9a9a-191">Il existe des situations où un script fournit une meilleure expérience à l’utilisateur, en particulier avec les configurations DSC.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-191">There are situations where a script provides a better experience for the user, particularly with DSC configurations.</span></span> <span data-ttu-id="a9a9a-192">Pour les configurations DSC, la meilleure solution consiste à publier la configuration en tant que script avec un module connexe contenant les documents, les exemples et les tests.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-192">The best practice for DSC configurations is to publish the configuration as a script with an accompanying module that contains the docs, examples, and tests.</span></span> <span data-ttu-id="a9a9a-193">Le script répertorie le module associé à l’aide de `RequiredModules = @(Name of the Module)`.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-193">The script lists the accompanying module using `RequiredModules = @(Name of the Module)`.</span></span> <span data-ttu-id="a9a9a-194">Cette approche peut être utilisée avec n’importe quel script.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-194">This approach can be used with any script.</span></span>

<span data-ttu-id="a9a9a-195">Les scripts autonomes qui suivent les bonnes pratiques apportent une vraie valeur à d’autres utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-195">Standalone scripts that follow the other best practices provide real value to other users.</span></span> <span data-ttu-id="a9a9a-196">Il est vivement recommandé de fournir une documentation basée sur des commentaires ainsi qu’un lien vers un site de projet lorsque vous publiez un script dans PowerShell Gallery.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-196">Providing comment-based documentation and a link to a Project Site are highly recommended when publishing a script to the PowerShell Gallery.</span></span>

## <a name="provide-a-link-to-a-project-site"></a><span data-ttu-id="a9a9a-197">Fournir un lien vers un site de projet</span><span class="sxs-lookup"><span data-stu-id="a9a9a-197">Provide a link to a project site</span></span>

<span data-ttu-id="a9a9a-198">C’est sur le Site de projets que l’éditeur peut interagir directement avec les utilisateurs de ses packages PowerShell Gallery.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-198">A Project Site is where a publisher can interact directly with the users of their PowerShell Gallery packages.</span></span> <span data-ttu-id="a9a9a-199">Les utilisateurs préfèrent les packages qui possèdent un Site de projets, car c’est pour eux le moyen d’obtenir plus facilement des informations sur les packages.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-199">Users prefer packages that provide this, as it allows them to get information about the package more easily.</span></span> <span data-ttu-id="a9a9a-200">De nombreux packages de PowerShell Gallery sont développés sur GitHub, tandis que d’autres sont fournis par des organisations qui possèdent une présence web dédiée.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-200">Many packages in the PowerShell Gallery are developed in GitHub, others are provided by organizations with a dedicated web presence.</span></span> <span data-ttu-id="a9a9a-201">Dans les deux cas, il s’agit d’un site de projet.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-201">Each of these can be considered a project site.</span></span>

<span data-ttu-id="a9a9a-202">L’ajout d’un lien s’effectue en incluant ProjectURI dans la section PSData du manifeste, comme suit :</span><span class="sxs-lookup"><span data-stu-id="a9a9a-202">Adding a link is done by including ProjectURI in the PSData section of the manifest as follows:</span></span>

```
  # A URL to the main website for this project.
  ProjectUri = 'https://github.com/powershell/powershell'
```

<span data-ttu-id="a9a9a-203">Lorsqu’un ProjectURI est indiqué, PowerShell Gallery inclut un lien vers le Site de projets sur le côté gauche de la page du package.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-203">When a ProjectURI is provided, the PowerShell Gallery will include a link to the Project Site on the left side of the package page.</span></span>

## <a name="tag-your-package-with-the-compatible-pseditions-and-platforms"></a><span data-ttu-id="a9a9a-204">Baliser votre package avec les plateformes et PSEdition(s) compatibles</span><span class="sxs-lookup"><span data-stu-id="a9a9a-204">Tag your package with the compatible PSEdition(s) and platforms</span></span>

<span data-ttu-id="a9a9a-205">Utilisez les balises suivantes pour montrer aux utilisateurs quels packages fonctionneront correctement avec leur environnement :</span><span class="sxs-lookup"><span data-stu-id="a9a9a-205">Use the following tags to demonstrate to users which packages will work well with their environment:</span></span>

- <span data-ttu-id="a9a9a-206">PSEdition_Desktop : packages compatibles avec Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="a9a9a-206">PSEdition_Desktop: Packages that are compatible with Windows PowerShell</span></span>
- <span data-ttu-id="a9a9a-207">PSEdition_Core : packages compatibles avec PowerShell Core</span><span class="sxs-lookup"><span data-stu-id="a9a9a-207">PSEdition_Core: Packages that are compatible with PowerShell Core</span></span>
- <span data-ttu-id="a9a9a-208">Windows : packages compatibles avec le système d’exploitation Windows</span><span class="sxs-lookup"><span data-stu-id="a9a9a-208">Windows: Packages that are compatible with the Windows Operating System</span></span>
- <span data-ttu-id="a9a9a-209">Linux : packages compatibles avec les systèmes d’exploitation Linux</span><span class="sxs-lookup"><span data-stu-id="a9a9a-209">Linux: Packages that are compatible with Linux Operating Systems</span></span>
- <span data-ttu-id="a9a9a-210">MacOS : packages compatibles avec le système d’exploitation Mac</span><span class="sxs-lookup"><span data-stu-id="a9a9a-210">MacOS: Packages that are compatible with the Mac Operating System</span></span>

<span data-ttu-id="a9a9a-211">Si votre package est balisé avec la ou les plateformes compatibles, il sera inclus dans les filtres de recherche de la galerie dans le volet gauche des résultats de recherche.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-211">By tagging your package with the compatible platform(s) it will be included in the Gallery search filters on the left pane of the search results.</span></span> <span data-ttu-id="a9a9a-212">Si vous hébergez votre package sur GitHub, lorsque vous le balisez, vous pouvez également profiter de nos [protections de compatibilité PowerShell Gallery](https://img.shields.io/powershellgallery/p/:packageName.svg)
![exemple de protection de compatibilité](media/publishing-guidelines/CosmosDB.svg).</span><span class="sxs-lookup"><span data-stu-id="a9a9a-212">If you host your package on GitHub, when you tag your package, you can also take advantage of our [PowerShell Gallery compatibility shields](https://img.shields.io/powershellgallery/p/:packageName.svg)
![compatibility shield example](media/publishing-guidelines/CosmosDB.svg).</span></span>

## <a name="include-tests"></a><span data-ttu-id="a9a9a-213">Inclure des tests</span><span class="sxs-lookup"><span data-stu-id="a9a9a-213">Include tests</span></span>

<span data-ttu-id="a9a9a-214">Il est important de proposer aux utilisateurs des tests avec un code open source car cela leur fournit des garanties sur le contenu que vous validez ainsi que des informations sur le fonctionne de votre code.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-214">Including tests with open-source code is important to users, as it gives them assurance about what you validate, and provides information on how your code works.</span></span> <span data-ttu-id="a9a9a-215">Cela permet également aux utilisateurs de s’assurer qu’ils ne bloquent pas votre fonctionnalité d’origine lorsqu’ils modifient votre code pour l’adapter à leur environnement.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-215">It also allows users to ensure they don't break your original functionality if they modify your code to fit their environment.</span></span>

<span data-ttu-id="a9a9a-216">Il est fortement recommandé d’écrire des tests qui tirent parti de l’infrastructure de test Pester, qui a été spécialement conçue pour PowerShell.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-216">It's strongly recommended that tests be written to take advantage of the Pester test framework, which has been designed specifically for PowerShell.</span></span> <span data-ttu-id="a9a9a-217">Pester est disponible dans [GitHub](https://github.com/Pester/Pester), dans [PowerShell Gallery](https://www.powershellgallery.com/packages/Pester/), et est inclut avec Windows 10, Windows Server 2016, WMF 5.0 et WMF 5.1.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-217">Pester is available in [GitHub](https://github.com/Pester/Pester), the [PowerShell Gallery](https://www.powershellgallery.com/packages/Pester/), and ships in Windows 10, Windows Server 2016, WMF 5.0 and WMF 5.1.</span></span>

<span data-ttu-id="a9a9a-218">Le [site du projet Pester dans GitHub](https://github.com/Pester/Pester) comprend une bonne documentation sur l’écriture de tests de Pester, du démarrage aux bonnes pratiques.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-218">The [Pester project site in GitHub](https://github.com/Pester/Pester) includes good documentation on writing Pester tests, from getting started to best practices.</span></span>

<span data-ttu-id="a9a9a-219">Les cibles pour la couverture de test sont appelées dans la [documentation du module de ressources haute qualité](https://github.com/PowerShell/DscResources/blob/master/HighQualityModuleGuidelines.md), avec une recommandation de couverture du code de test de 70 %.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-219">The targets for test coverage are called out in the [High Quality Resource Module documentation](https://github.com/PowerShell/DscResources/blob/master/HighQualityModuleGuidelines.md), with 70% unit test code coverage recommended.</span></span>

## <a name="include-andor-link-to-license-terms"></a><span data-ttu-id="a9a9a-220">Inclure et/ou lier les termes du contrat de licence</span><span class="sxs-lookup"><span data-stu-id="a9a9a-220">Include and/or link to license terms</span></span>

<span data-ttu-id="a9a9a-221">Tous les packages publiés sur PowerShell Gallery doivent spécifier les termes du contrat de licence ou être liés par la licence incluse dans les [Conditions d’utilisation](https://www.powershellgallery.com/policies/Terms), sous **Annexe A**. La meilleure approche pour spécifier une autre licence consiste à fournir un lien vers la licence à l’aide de **LicenseURI** dans **PSData**.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-221">All packages published to the PowerShell Gallery must specify the license terms, or be bound by the license included in the [Terms of Use](https://www.powershellgallery.com/policies/Terms) under **Exhibit A**. The best approach to specifying a different license is to provide a link to the license using the **LicenseURI** in **PSData**.</span></span> <span data-ttu-id="a9a9a-222">Pour plus d’informations, consultez [Manifeste de packages et interface utilisateur de la galerie](package-manifest-affecting-ui.md).</span><span class="sxs-lookup"><span data-stu-id="a9a9a-222">For more information, see [Packages manifest and Gallery UI](package-manifest-affecting-ui.md).</span></span>

```powershell
PrivateData = @{
    PSData = @{

        # Tags applied to this module. These help with module discovery in online galleries.
        Tags = @('.net','acl','active-directory')

        # A URL to the license for this module.
        LicenseUri = 'http://www.apache.org/licenses/LICENSE-2.0'
```

## <a name="sign-your-code"></a><span data-ttu-id="a9a9a-223">Signer votre code</span><span class="sxs-lookup"><span data-stu-id="a9a9a-223">Sign your code</span></span>

<span data-ttu-id="a9a9a-224">La signature du code offre aux utilisateurs le niveau le plus élevé d’assurance concernant l’éditeur du package, et leur garantit que la copie du code qu’ils acquièrent correspond exactement à ce que ce dernier a publié.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-224">Code signing provides users with the highest level of assurance for who published the package, and that the copy of the code they acquire is exactly what the publisher released.</span></span> <span data-ttu-id="a9a9a-225">Pour en savoir plus sur la signature du code en général, voir [Introduction à la signature du code](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/ms537361(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="a9a9a-225">To learn more about code signing generally, see [Introduction to Code Signing](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/ms537361(v=vs.85)).</span></span>
<span data-ttu-id="a9a9a-226">PowerShell prend en charge la validation de la signature du code via deux approches :</span><span class="sxs-lookup"><span data-stu-id="a9a9a-226">PowerShell supports validation of code signing through two primary approaches:</span></span>

- <span data-ttu-id="a9a9a-227">Signature des fichiers de script</span><span class="sxs-lookup"><span data-stu-id="a9a9a-227">Signing script files</span></span>
- <span data-ttu-id="a9a9a-228">Signature d’un module par un catalogue</span><span class="sxs-lookup"><span data-stu-id="a9a9a-228">Catalog signing a module</span></span>

<span data-ttu-id="a9a9a-229">La signature des fichiers PowerShell est une approche parfaitement établie pour garantir que le code en cours d’exécution a été produit par une source fiable et n’a pas été modifié.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-229">Signing PowerShell files is a well-established approach to ensuring that the code being executed was produced by a reliable source, and hasn't been modified.</span></span> <span data-ttu-id="a9a9a-230">Pour plus d’informations sur la façon de signer des fichiers de script PowerShell, voir l’article [À propose de la signature](/powershell/module/microsoft.powershell.core/about/about_signing).</span><span class="sxs-lookup"><span data-stu-id="a9a9a-230">Details on how to sign PowerShell script files is covered in the [About Signing](/powershell/module/microsoft.powershell.core/about/about_signing) article.</span></span> <span data-ttu-id="a9a9a-231">Pour résumer, une signature peut être ajoutée à tout fichier `.PS1` validé par PowerShell lorsque le script est chargé.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-231">In overview, a signature can be added to any `.PS1` file that PowerShell validates when the script is loaded.</span></span> <span data-ttu-id="a9a9a-232">PowerShell peut être contraint à utiliser les applets de commande de la [stratégie d’exécution](/powershell/module/microsoft.powershell.core/about/about_execution_policies) pour forcer l’utilisation de scripts signés.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-232">PowerShell can be constrained using the [Execution Policy](/powershell/module/microsoft.powershell.core/about/about_execution_policies) cmdlets to ensure use of signed scripts.</span></span>

<span data-ttu-id="a9a9a-233">La signature de modules par un catalogue est une fonctionnalité ajoutée à la version 5.1 de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-233">Catalog signing modules is a feature added to PowerShell in version 5.1.</span></span> <span data-ttu-id="a9a9a-234">La signature d’un module est abordée dans l’article [Applets de commande de catalogue](/powershell/scripting/wmf/whats-new/new-updated-cmdlets#catalog-cmdlets).</span><span class="sxs-lookup"><span data-stu-id="a9a9a-234">How to sign a module is covered in the [Catalog Cmdlets](/powershell/scripting/wmf/whats-new/new-updated-cmdlets#catalog-cmdlets) article.</span></span>
<span data-ttu-id="a9a9a-235">Pour résumer, la signature du catalogue s’effectue en créant un fichier de catalogue contenant une valeur de hachage pour chaque fichier dans le module, puis en signant ce fichier.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-235">In overview, catalog signing is done by creating a catalog file, which contains a hash value for every file in the module, and then signing that file.</span></span>

<span data-ttu-id="a9a9a-236">Les cmdlets **PowerShellGet** `Publish-Module`, `Install-Module` et `Update-Module` vérifient la validité de la signature, puis confirment que la valeur de hachage de chacun des packages correspond à ce qui figure dans le catalogue.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-236">The **PowerShellGet** `Publish-Module`, `Install-Module`, and `Update-Module` cmdlets will check the signature to ensure it's valid, then confirm that the hash value for each package matches what is in the catalog.</span></span> <span data-ttu-id="a9a9a-237">`Save-Module` ne valide pas une signature.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-237">`Save-Module` doesn't validate a signature.</span></span> <span data-ttu-id="a9a9a-238">Si une version précédente du module est installée sur le système, l’applet de commande `Install-Module` confirmera que l’autorité de signature de la nouvelle version correspond à ce qui a été précédemment installé.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-238">If a previous version of the module is installed on the system, `Install-Module` will confirm that the signing authority for the new version matches what was previously installed.</span></span> <span data-ttu-id="a9a9a-239">`Install-Module` et `Update-Module` utiliseront la signature sur un fichier `.PSD1` si le package n’est pas signé par le catalogue.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-239">`Install-Module` and `Update-Module` will use the signature on a `.PSD1` file if the package isn't catalog signed.</span></span> <span data-ttu-id="a9a9a-240">La signature du catalogue complète mais ne remplace pas la signature des fichiers de script.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-240">Catalog signing works with, but doesn't replace signing script files.</span></span> <span data-ttu-id="a9a9a-241">PowerShell ne valide pas les signatures du catalogue lors du chargement du module.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-241">PowerShell doesn't validate catalog signatures at module load time.</span></span>

## <a name="follow-semver-guidelines-for-versioning"></a><span data-ttu-id="a9a9a-242">Suivre les instructions SemVer pour la gestion de versions</span><span class="sxs-lookup"><span data-stu-id="a9a9a-242">Follow SemVer guidelines for versioning</span></span>

<span data-ttu-id="a9a9a-243">[SemVer](https://semver.org/) est une convention publique qui explique comment structurer et changer une version pour faciliter l’interprétation des modifications.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-243">[SemVer](https://semver.org/) is a public convention that describes how to structure and change a version to allow easy interpretation of changes.</span></span> <span data-ttu-id="a9a9a-244">La version de votre package doit être incluse dans les données de manifeste.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-244">The version for your package must be included in the manifest data.</span></span>

- <span data-ttu-id="a9a9a-245">La version doit être structurée sous forme de trois blocs numériques séparés par des points, par exemple `0.1.1` ou `4.11.192`.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-245">The version should be structured as three numeric blocks separated by periods, as in `0.1.1` or `4.11.192`.</span></span>
- <span data-ttu-id="a9a9a-246">Les versions commençant par `0` indiquent que le package n’est pas encore prêt pour la mise en production ; le premier numéro doit commencer par `0` uniquement s’il s’agit du seul numéro utilisé.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-246">Versions starting with `0` indicate that the package isn't yet production ready, and the first number should only begin with `0` if that's the only number used.</span></span>
- <span data-ttu-id="a9a9a-247">Les modifications dans le premier numéro (`1.9.9999` à `2.0.0`) indiquent des modifications majeures et importantes entre les versions.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-247">Changes in the first number (`1.9.9999` to `2.0.0`) indicate major and breaking changes between the versions.</span></span>
- <span data-ttu-id="a9a9a-248">Les modifications du second numéro (`1.1` à `1.2`) indiquent une évolution des fonctionnalités, par exemple, l’ajout de nouvelles cmdlets à un module.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-248">Changes to the second number (`1.1` to `1.2`) indicate feature-level changes, such as adding new cmdlets to a module.</span></span>
- <span data-ttu-id="a9a9a-249">Les modifications dans le troisième numéro indiquent des modifications mineures, par exemple de nouveaux paramètres, des exemples mis à jour ou de nouveaux tests.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-249">Changes to the third number indicate non-breaking changes, such as new parameters, updated samples, or new tests.</span></span>
- <span data-ttu-id="a9a9a-250">Pour répertorier les versions, PowerShell trie les versions sous forme de chaînes, par conséquent `1.01.0` sera considéré comme étant supérieur à `1.001.0`.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-250">When listing versions, PowerShell will sort the versions as strings, so `1.01.0` will be treated as greater than `1.001.0`.</span></span>

<span data-ttu-id="a9a9a-251">Comme PowerShell a été créé avant la publication de SemVer, il prend en charge la plupart mais pas tous les éléments de SemVer, en particulier :</span><span class="sxs-lookup"><span data-stu-id="a9a9a-251">PowerShell was created before SemVer was published, so it provides support for most but not all elements of SemVer, specifically:</span></span>

- <span data-ttu-id="a9a9a-252">Il ne prend pas en charge les chaînes préliminaires dans les numéros de version.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-252">It doesn't support prerelease strings in version numbers.</span></span> <span data-ttu-id="a9a9a-253">Cela est utile lorsqu’un éditeur souhaite fournir une version préliminaire d’une nouvelle version majeure après avoir fourni une version `1.0.0`.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-253">This is useful when a publisher wishes to deliver a preview release of a new major version after providing a version `1.0.0`.</span></span> <span data-ttu-id="a9a9a-254">Cette opération est prise en charge dans une version ultérieure des applets de commande PowerShell Gallery et **PowerShellGet**.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-254">This will be supported in a future release of the PowerShell Gallery and **PowerShellGet** cmdlets.</span></span>
- <span data-ttu-id="a9a9a-255">PowerShell et PowerShell Gallery acceptent des chaînes de version contenant 1, 2 et 4 segments.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-255">PowerShell and the PowerShell Gallery allow version strings with 1, 2, and 4 segments.</span></span> <span data-ttu-id="a9a9a-256">De nombreux modules précédents ne suivaient pas ces instructions, et les versions de produit publiées par Microsoft incluent des informations de build sous forme de blocs à 4 éléments (par exemple `5.1.14393.1066`).</span><span class="sxs-lookup"><span data-stu-id="a9a9a-256">Many early modules did not follow the guidelines, and product releases from Microsoft include build information as a 4th block of numbers (for example `5.1.14393.1066`).</span></span> <span data-ttu-id="a9a9a-257">Du point de vue de la gestion de versions, ces différences sont ignorées.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-257">From a versioning standpoint, these differences are ignored.</span></span>

## <a name="test-using-a-local-repository"></a><span data-ttu-id="a9a9a-258">Tester à l’aide d’un dépôt local</span><span class="sxs-lookup"><span data-stu-id="a9a9a-258">Test using a local repository</span></span>

<span data-ttu-id="a9a9a-259">PowerShell Gallery n’est pas conçu pour être une cible servant à tester le processus de publication.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-259">The PowerShell Gallery isn't designed to be a target for testing the publishing process.</span></span> <span data-ttu-id="a9a9a-260">La meilleure façon de tester le processus de publication de bout en bout dans PowerShell Gallery consiste à configurer et à utiliser votre propre dépôt local.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-260">The best way to test out the end-to-end process of publishing to the PowerShell Gallery is to set up and use your own local repository.</span></span> <span data-ttu-id="a9a9a-261">Vous pouvez effectuer ces opérations de différentes manières, notamment :</span><span class="sxs-lookup"><span data-stu-id="a9a9a-261">This can be done in a few ways, including:</span></span>

- <span data-ttu-id="a9a9a-262">Configurez une instance locale de PowerShell Gallery avec le [projet PS Private Gallery](https://github.com/PowerShell/PSPrivateGallery) dans GitHub.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-262">Set up a local PowerShell Gallery instance, using the [PS Private Gallery project](https://github.com/PowerShell/PSPrivateGallery) in GitHub.</span></span> <span data-ttu-id="a9a9a-263">Ce projet en préversion vous permet de configurer une instance de PowerShell Gallery que vous pouvez contrôler, puis de l’utiliser pour vos tests.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-263">This preview project will help you set up an instance of the PowerShell Gallery that you can control, and use for your tests.</span></span>
- <span data-ttu-id="a9a9a-264">Configurez un [dépôt Nuget interne](https://blogs.msdn.microsoft.com/powershell/2014/05/20/setting-up-an-internal-powershellget-repository/).</span><span class="sxs-lookup"><span data-stu-id="a9a9a-264">Set up an [internal Nuget repository](https://blogs.msdn.microsoft.com/powershell/2014/05/20/setting-up-an-internal-powershellget-repository/).</span></span>
  <span data-ttu-id="a9a9a-265">Cette configuration demande plus de travail mais a l’avantage de valider quelques éléments requis supplémentaires, notamment la validation de l’utilisation d’une clé API et la présence ou non de dépendances dans la cible lors de la publication.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-265">This will require more work to set up, but will have the advantage of validating a few more of the requirements, notably validating use of an API key, and whether or not dependencies are present in the target when you publish.</span></span>
- <span data-ttu-id="a9a9a-266">Configurez un partage de fichiers en tant que **dépôt** de test.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-266">Set up a file share as the test **repository**.</span></span> <span data-ttu-id="a9a9a-267">Cette configuration est facile, mais comme il s’agit d’un partage de fichiers, les validations indiquées ci-dessus n’existent pas.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-267">This is easy to set up, but since it's a file share, the validations noted above will not take place.</span></span> <span data-ttu-id="a9a9a-268">Un avantage potentiel ici est que le partage de fichiers ne vérifie pas la clé API obligatoire, donc vous pouvez utiliser la même clé pour publier dans PowerShell Gallery.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-268">One potential advantage in this case is that the file share doesn't check the required API key, so you can use the same key you would use to publish to the PowerShell Gallery.</span></span>

<span data-ttu-id="a9a9a-269">Avec l’une de ces solutions, utilisez `Register-PSRepository` pour définir un nouveau **dépôt**, que vous utilisez dans le paramètre `-Repository` pour `Publish-Module`.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-269">With any of these solutions, use `Register-PSRepository` to define a new **repository**, which you use in the `-Repository` parameter for `Publish-Module`.</span></span>

<span data-ttu-id="a9a9a-270">Autre point sur la publication de test : il n’est pas possible de supprimer les packages publiés sur PowerShell Gallery sans l’aide de l’équipe des opérations, qui doit confirmer que rien ne dépend du package en question.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-270">One additional point about test publishing: any package you publish to the PowerShell Gallery can't be deleted without help from the operations team, who will confirm that nothing is dependent upon the package you wish to publish.</span></span> <span data-ttu-id="a9a9a-271">Pour cette raison, nous ne prenons pas en charge PowerShell Gallery comme cible de test. Nous contacterons un éditeur qui assure cette prise en charge.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-271">For that reason, we don't support the PowerShell Gallery as a testing target, and will contact any publisher who does so.</span></span>

## <a name="use-powershellget-to-publish"></a><span data-ttu-id="a9a9a-272">Utiliser PowerShellGet pour publier</span><span class="sxs-lookup"><span data-stu-id="a9a9a-272">Use PowerShellGet to publish</span></span>

<span data-ttu-id="a9a9a-273">Il est fortement recommandé aux éditeurs d’utiliser les applets de commande `Publish-Module` et `Publish-Script` avec PowerShell Gallery.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-273">It's strongly recommended that publishers use the `Publish-Module` and `Publish-Script` cmdlets when working with the PowerShell Gallery.</span></span> <span data-ttu-id="a9a9a-274">**PowerShellGet** a été créé pour vous éviter d’avoir à retenir certains détails importants au sujet de l’installation et de la publication sur PowerShell Gallery.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-274">**PowerShellGet** was created to help you avoid remembering important details about installing from and publishing to the PowerShell Gallery.</span></span> <span data-ttu-id="a9a9a-275">À certaines occasions, les éditeurs ont choisi d’ignorer **PowerShellGet** pour utiliser le client **NuGet** ou les applets de commande **PackageManagement** à la place de `Publish-Module`.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-275">On occasion, publishers have chosen to skip **PowerShellGet** and use the **NuGet** client, or **PackageManagement** cmdlets, instead of `Publish-Module`.</span></span> <span data-ttu-id="a9a9a-276">Il est facile d’oublier certains détails, ce qui donne lieu à diverses demandes de support.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-276">There are a number of details that are easily missed, which results in a variety of support requests.</span></span>

<span data-ttu-id="a9a9a-277">Si vous ne pouvez pas utiliser `Publish-Module` ou `Publish-Script`, faites-le nous savoir.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-277">If there's a reason that you can't use `Publish-Module` or `Publish-Script`, please let us know.</span></span>
<span data-ttu-id="a9a9a-278">Signalez un problème dans le dépôt GitHub de **PowerShellGet** et dites-nous ce qui vous a amené à opter pour **NuGet** ou **PackageManagement**.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-278">File an issue in the **PowerShellGet** GitHub repo, and provide the details that cause you to choose **NuGet** or **PackageManagement**.</span></span>

## <a name="recommended-workflow"></a><span data-ttu-id="a9a9a-279">Workflow recommandé</span><span class="sxs-lookup"><span data-stu-id="a9a9a-279">Recommended workflow</span></span>

<span data-ttu-id="a9a9a-280">L’approche la plus efficace que nous ayons trouvée pour les packages publiés sur PowerShell Gallery est la suivante :</span><span class="sxs-lookup"><span data-stu-id="a9a9a-280">The most successful approach we have found for packages published to the PowerShell Gallery is this:</span></span>

- <span data-ttu-id="a9a9a-281">Effectuez un développement initial dans un site de projet open source.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-281">Do initial development in an open-source project site.</span></span> <span data-ttu-id="a9a9a-282">L’équipe PowerShell utilise GitHub.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-282">The PowerShell Team uses GitHub.</span></span>
- <span data-ttu-id="a9a9a-283">Utilisez les commentaires des réviseurs et [l’analyseur de script Powershell](https://aka.ms/psscriptanalyzer) pour amener le code à un état stable.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-283">Use feedback from reviewers and [Powershell Script Analyzer](https://aka.ms/psscriptanalyzer) to get the code to stable state.</span></span>
- <span data-ttu-id="a9a9a-284">Incluez une documentation afin que d’autres utilisateurs puissent profiter de votre travail.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-284">Include documentation, so others know how to use your work.</span></span>
- <span data-ttu-id="a9a9a-285">Tester l’action de publication à l’aide d’un dépôt local.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-285">Test out the publishing action using a local repository.</span></span>
- <span data-ttu-id="a9a9a-286">Publiez une version stable ou une version alpha dans PowerShell Gallery, en veillant à inclure la documentation et un lien vers votre site de projet.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-286">Publish a stable or Alpha release to the PowerShell Gallery, making sure to include the documentation and link to your project site.</span></span>
- <span data-ttu-id="a9a9a-287">Recueillez des commentaires et effectuez une itération sur le code dans votre site de projet, puis publiez des mises à jour stables dans PowerShell Gallery.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-287">Gather feedback and iterate on the code in your project site, then publish stable updates to the PowerShell Gallery.</span></span>
- <span data-ttu-id="a9a9a-288">Ajoutez des exemples et des tests Pester à votre projet et votre module.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-288">Add examples and Pester tests in your project and your module.</span></span>
- <span data-ttu-id="a9a9a-289">Décidez de signer ou non le code de votre package.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-289">Decide if you want to code sign your package.</span></span>
- <span data-ttu-id="a9a9a-290">Lorsque vous estimez que le projet est prêt à être utilisé dans un environnement de production, publiez une version `1.0.0` dans PowerShell Gallery.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-290">When you feel the project is ready to use in a production environment, publish a `1.0.0` version to the PowerShell Gallery.</span></span>
- <span data-ttu-id="a9a9a-291">Continuez à recueillir des commentaires et effectuez une itération sur votre code en fonction des entrées utilisateur.</span><span class="sxs-lookup"><span data-stu-id="a9a9a-291">Continue to gather feedback and iterate on your code based on user input.</span></span>
