---
ms.date: 09/13/2016
ms.topic: reference
title: Enregistrements d’erreurs Windows PowerShell
description: Enregistrements d’erreurs Windows PowerShell
ms.openlocfilehash: 899acf08508b1469b7ec3985d5665367fc2c1531
ms.sourcegitcommit: ba7315a496986451cfc1296b659d73ea2373d3f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/10/2020
ms.locfileid: "93355593"
---
# <a name="windows-powershell-error-records"></a><span data-ttu-id="5c438-103">Enregistrements d’erreurs Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="5c438-103">Windows PowerShell Error Records</span></span>

<span data-ttu-id="5c438-104">Les applets de commande doivent passer un objet [System. Management. Automation. ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) qui identifie la condition d’erreur pour les erreurs de fin et sans fin d’achèvement.</span><span class="sxs-lookup"><span data-stu-id="5c438-104">Cmdlets must pass an [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) object that identifies the error condition for terminating and non-terminating errors.</span></span>

<span data-ttu-id="5c438-105">L’objet [System. Management. Automation. ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) contient les informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="5c438-105">The [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) object contains the following information:</span></span>

- <span data-ttu-id="5c438-106">Exception qui décrit l’erreur.</span><span class="sxs-lookup"><span data-stu-id="5c438-106">The exception that describes the error.</span></span> <span data-ttu-id="5c438-107">Il s’agit souvent d’une exception que l’applet de commande a interceptée et convertie en enregistrement d’erreur.</span><span class="sxs-lookup"><span data-stu-id="5c438-107">Often, this is an exception that the cmdlet caught and converted into an error record.</span></span> <span data-ttu-id="5c438-108">Chaque enregistrement d’erreur doit contenir une exception.</span><span class="sxs-lookup"><span data-stu-id="5c438-108">Every error record must contain an exception.</span></span>

<span data-ttu-id="5c438-109">Si l’applet de commande n’a pas intercepté d’exception, elle doit créer une nouvelle exception et choisir la classe d’exception qui décrit le mieux la condition d’erreur.</span><span class="sxs-lookup"><span data-stu-id="5c438-109">If the cmdlet did not catch an exception, it must create a new exception and choose the exception class that best describes the error condition.</span></span> <span data-ttu-id="5c438-110">Toutefois, vous n’avez pas besoin de lever l’exception, car elle est accessible par le biais de la propriété [System. Management. Automation. ErrorRecord. exception](/dotnet/api/System.Management.Automation.ErrorRecord.Exception) de l’objet [System. Management. Automation. ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) .</span><span class="sxs-lookup"><span data-stu-id="5c438-110">However, you do not need to throw the exception because it can be accessed through the [System.Management.Automation.ErrorRecord.Exception](/dotnet/api/System.Management.Automation.ErrorRecord.Exception) property of the [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) object.</span></span>

- <span data-ttu-id="5c438-111">Identificateur d’erreur qui fournit un indicateur ciblé qui peut être utilisé à des fins de diagnostic et par les scripts Windows PowerShell pour gérer des conditions d’erreur spécifiques avec des gestionnaires d’erreurs spécifiques.</span><span class="sxs-lookup"><span data-stu-id="5c438-111">An error identifier that provides a targeted designator that can be used for diagnostic purposes and by Windows PowerShell scripts to handle specific error conditions with specific error handlers.</span></span> <span data-ttu-id="5c438-112">Chaque enregistrement d’erreur doit contenir un identificateur d’erreur (voir identificateur d’erreur).</span><span class="sxs-lookup"><span data-stu-id="5c438-112">Every error record must contain an error identifier (see Error Identifier).</span></span>

- <span data-ttu-id="5c438-113">Catégorie d’erreur qui fournit un indicateur général qui peut être utilisé à des fins de diagnostic.</span><span class="sxs-lookup"><span data-stu-id="5c438-113">An error category that provides a general designator that can be used for diagnostic purposes.</span></span>
  <span data-ttu-id="5c438-114">Chaque enregistrement d’erreur doit spécifier une catégorie d’erreur (voir la catégorie d’erreur).</span><span class="sxs-lookup"><span data-stu-id="5c438-114">Every error record must specify an error category (see Error Category).</span></span>

- <span data-ttu-id="5c438-115">Un message d’erreur de remplacement facultatif et une action recommandée (voir le message d’erreur de remplacement).</span><span class="sxs-lookup"><span data-stu-id="5c438-115">An optional replacement error message and a recommended action (see Replacement Error Message).</span></span>

- <span data-ttu-id="5c438-116">Informations d’appel facultatives sur l’applet de commande qui a levé l’erreur.</span><span class="sxs-lookup"><span data-stu-id="5c438-116">Optional invocation information about the cmdlet that threw the error.</span></span> <span data-ttu-id="5c438-117">Ces informations sont spécifiées par Windows PowerShell (voir message d’appel).</span><span class="sxs-lookup"><span data-stu-id="5c438-117">This information is specified by Windows PowerShell (see Invocation Message).</span></span>

- <span data-ttu-id="5c438-118">Objet cible qui était en cours de traitement lorsque l’erreur s’est produite.</span><span class="sxs-lookup"><span data-stu-id="5c438-118">The target object that was being processed when the error occurred.</span></span> <span data-ttu-id="5c438-119">Il peut s’agir de l’objet d’entrée ou d’un autre objet que votre applet de commande traitait.</span><span class="sxs-lookup"><span data-stu-id="5c438-119">This might be the input object, or it might be another object that your cmdlet was processing.</span></span> <span data-ttu-id="5c438-120">Par exemple, pour la commande `remove-item -recurse c:\somedirectory` , l’erreur peut être une instance d’un objet FileInfo pour « c:\somedirectory\lockedfile ».</span><span class="sxs-lookup"><span data-stu-id="5c438-120">For example, for the command `remove-item -recurse c:\somedirectory`, the error might be an instance of a FileInfo object for "c:\somedirectory\lockedfile".</span></span> <span data-ttu-id="5c438-121">Les informations de l’objet cible sont facultatives.</span><span class="sxs-lookup"><span data-stu-id="5c438-121">The target object information is optional.</span></span>

## <a name="error-identifier"></a><span data-ttu-id="5c438-122">Identificateur d’erreur</span><span class="sxs-lookup"><span data-stu-id="5c438-122">Error Identifier</span></span>

<span data-ttu-id="5c438-123">Lorsque vous créez un enregistrement d’erreur, spécifiez un identificateur qui désigne la condition d’erreur dans votre applet de commande.</span><span class="sxs-lookup"><span data-stu-id="5c438-123">When you create an error record, specify an identifier that designates the error condition within your cmdlet.</span></span> <span data-ttu-id="5c438-124">Windows PowerShell combine l’identificateur ciblé et le nom de votre applet de commande pour créer un identificateur d’erreur complet.</span><span class="sxs-lookup"><span data-stu-id="5c438-124">Windows PowerShell combines the targeted identifier with the name of your cmdlet to create a fully qualified error identifier.</span></span> <span data-ttu-id="5c438-125">L’identificateur d’erreur complet est accessible via la propriété [System. Management. Automation. ErrorRecord. FullyQualifiedErrorId](/dotnet/api/System.Management.Automation.ErrorRecord.FullyQualifiedErrorId) de l’objet [System. Management. Automation. ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) .</span><span class="sxs-lookup"><span data-stu-id="5c438-125">The fully qualified error identifier can be accessed through the [System.Management.Automation.ErrorRecord.FullyQualifiedErrorId](/dotnet/api/System.Management.Automation.ErrorRecord.FullyQualifiedErrorId) property of the [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) object.</span></span> <span data-ttu-id="5c438-126">L’identificateur d’erreur n’est pas disponible par lui-même.</span><span class="sxs-lookup"><span data-stu-id="5c438-126">The error identifier is not available by itself.</span></span> <span data-ttu-id="5c438-127">Elle est disponible uniquement dans le cadre de l’identificateur d’erreur complet.</span><span class="sxs-lookup"><span data-stu-id="5c438-127">It is available only as part of the fully qualified error identifier.</span></span>

<span data-ttu-id="5c438-128">Utilisez les instructions suivantes pour générer des identificateurs d’erreur lorsque vous créez des enregistrements d’erreurs :</span><span class="sxs-lookup"><span data-stu-id="5c438-128">Use the following guidelines to generate error identifiers when you create error records:</span></span>

- <span data-ttu-id="5c438-129">Définissez des identificateurs d’erreur spécifiques à une condition d’erreur.</span><span class="sxs-lookup"><span data-stu-id="5c438-129">Make error identifiers specific to an error condition.</span></span> <span data-ttu-id="5c438-130">Ciblez les identificateurs d’erreur à des fins de diagnostic et pour les scripts qui gèrent des conditions d’erreur spécifiques avec des gestionnaires d’erreurs spécifiques.</span><span class="sxs-lookup"><span data-stu-id="5c438-130">Target the error identifiers for diagnostic purposes and for scripts that handle specific error conditions with specific error handlers.</span></span> <span data-ttu-id="5c438-131">Un utilisateur doit être en mesure d’utiliser l’identificateur d’erreur pour identifier l’erreur et sa source.</span><span class="sxs-lookup"><span data-stu-id="5c438-131">A user should be able to use the error identifier to identify the error and its source.</span></span> <span data-ttu-id="5c438-132">Les identificateurs d’erreur activent également la création de rapports pour des conditions d’erreur spécifiques à partir d’exceptions existantes afin que les nouvelles sous-classes d’exception ne soient pas requises.</span><span class="sxs-lookup"><span data-stu-id="5c438-132">Error identifiers also enable reporting for specific error conditions from existing exceptions so that new exception subclasses are not required.</span></span>

- <span data-ttu-id="5c438-133">En général, assignez des identificateurs d’erreur différents à des chemins de code différents.</span><span class="sxs-lookup"><span data-stu-id="5c438-133">In general, assign different error identifiers to different code paths.</span></span> <span data-ttu-id="5c438-134">L’utilisateur final bénéficie d’identificateurs spécifiques.</span><span class="sxs-lookup"><span data-stu-id="5c438-134">The end-user benefits from specific identifiers.</span></span> <span data-ttu-id="5c438-135">Souvent, chaque chemin de code qui appelle [System. Management. Automation. applet de commande. WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) ou [System. Management. Automation. applet](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) de commande. ThrowTerminatingError \* a son propre identificateur.</span><span class="sxs-lookup"><span data-stu-id="5c438-135">Often, each code path that calls [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) or [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) has its own identifier.</span></span> <span data-ttu-id="5c438-136">En règle générale, définissez un nouvel identificateur lorsque vous définissez une nouvelle chaîne de modèle pour le message d’erreur, et vice-versa.</span><span class="sxs-lookup"><span data-stu-id="5c438-136">As a rule, define a new identifier when you define a new template string for the error message, and vice-versa.</span></span> <span data-ttu-id="5c438-137">N’utilisez pas le message d’erreur comme identificateur.</span><span class="sxs-lookup"><span data-stu-id="5c438-137">Do not use the error message as an identifier.</span></span>

- <span data-ttu-id="5c438-138">Lorsque vous publiez du code à l’aide d’un identificateur d’erreur particulier, vous établissez la sémantique des erreurs avec cet identificateur pour votre cycle de vie de support produit complet.</span><span class="sxs-lookup"><span data-stu-id="5c438-138">When you publish code using a particular error identifier, you establish the semantics of errors with that identifier for your complete product support lifecycle.</span></span> <span data-ttu-id="5c438-139">Ne la réutilisez pas dans un contexte qui est sémantiquement différent du contexte d’origine.</span><span class="sxs-lookup"><span data-stu-id="5c438-139">Do not reuse it in a context that is semantically different from the original context.</span></span> <span data-ttu-id="5c438-140">Si la sémantique de cette erreur change, créez et utilisez un nouvel identificateur.</span><span class="sxs-lookup"><span data-stu-id="5c438-140">If the semantics of this error change, create and then use a new identifier.</span></span>

- <span data-ttu-id="5c438-141">En général, vous devez utiliser un identificateur d’erreur particulier uniquement pour les exceptions d’un type CLR particulier.</span><span class="sxs-lookup"><span data-stu-id="5c438-141">You should generally use a particular error identifier only for exceptions of a particular CLR type.</span></span> <span data-ttu-id="5c438-142">Si le type de l’exception ou le type de l’objet cible change, créez et utilisez un nouvel identificateur.</span><span class="sxs-lookup"><span data-stu-id="5c438-142">If the type of the exception or the type of the target object changes, create and then use a new identifier.</span></span>

- <span data-ttu-id="5c438-143">Choisissez le texte de votre identificateur d’erreur qui correspond de façon concise à l’erreur que vous signalez.</span><span class="sxs-lookup"><span data-stu-id="5c438-143">Choose text for your error identifier that concisely corresponds to the error that you are reporting.</span></span> <span data-ttu-id="5c438-144">Utilisez des conventions de mise en majuscules et de noms de .NET Framework standard.</span><span class="sxs-lookup"><span data-stu-id="5c438-144">Use standard .NET Framework naming and capitalization conventions.</span></span> <span data-ttu-id="5c438-145">N’utilisez pas d’espace blanc ou de ponctuation.</span><span class="sxs-lookup"><span data-stu-id="5c438-145">Do not use white space or punctuation.</span></span> <span data-ttu-id="5c438-146">Ne Localisez pas les identificateurs d’erreur.</span><span class="sxs-lookup"><span data-stu-id="5c438-146">Do not localize error identifiers.</span></span>

- <span data-ttu-id="5c438-147">Ne générez pas dynamiquement des identificateurs d’erreur d’une manière non reproductible.</span><span class="sxs-lookup"><span data-stu-id="5c438-147">Do not dynamically generate error identifiers in a non-reproducible way.</span></span> <span data-ttu-id="5c438-148">Par exemple, n’incorporez pas d’informations d’erreur comme un ID de processus.</span><span class="sxs-lookup"><span data-stu-id="5c438-148">For example, do not incorporate error information such as a process ID.</span></span> <span data-ttu-id="5c438-149">Les identificateurs d’erreur sont utiles uniquement s’ils correspondent aux identificateurs d’erreur détectés par d’autres utilisateurs qui rencontrent la même condition d’erreur.</span><span class="sxs-lookup"><span data-stu-id="5c438-149">Error identifiers are useful only if they correspond to the error identifiers seen by other users who are experiencing the same error condition.</span></span>

## <a name="error-category"></a><span data-ttu-id="5c438-150">Catégorie de l'erreur</span><span class="sxs-lookup"><span data-stu-id="5c438-150">Error Category</span></span>

<span data-ttu-id="5c438-151">Lorsque vous créez un enregistrement d’erreur, spécifiez la catégorie de l’erreur à l’aide de l’une des constantes définies par l’énumération [System. Management. Automation. ErrorCategory](/dotnet/api/System.Management.Automation.ErrorCategory) .</span><span class="sxs-lookup"><span data-stu-id="5c438-151">When you create an error record, specify the category of the error using one of the constants defined by the [System.Management.Automation.ErrorCategory](/dotnet/api/System.Management.Automation.ErrorCategory) enumeration.</span></span> <span data-ttu-id="5c438-152">Windows PowerShell utilise la catégorie d’erreur pour afficher les informations d’erreur lorsque les utilisateurs définissent la `$ErrorView` variable sur `"CategoryView"` .</span><span class="sxs-lookup"><span data-stu-id="5c438-152">Windows PowerShell uses the error category to display error information when users set the `$ErrorView` variable to `"CategoryView"`.</span></span>

<span data-ttu-id="5c438-153">Évitez d’utiliser la constante NotSpecified [System. Management. Automation. ErrorCategory](/dotnet/api/System.Management.Automation.ErrorCategory) 
  .</span><span class="sxs-lookup"><span data-stu-id="5c438-153">Avoid using the [System.Management.Automation.ErrorCategory](/dotnet/api/System.Management.Automation.ErrorCategory)
**NotSpecified** constant.</span></span> <span data-ttu-id="5c438-154">Si vous avez des informations sur l’erreur ou sur l’opération à l’origine de l’erreur, choisissez la catégorie qui décrit le mieux l’erreur ou l’opération, même si la catégorie n’est pas parfaite.</span><span class="sxs-lookup"><span data-stu-id="5c438-154">If you have any information about the error or about the operation that caused the error, choose the category that best describes the error or the operation, even if the category is not a perfect match.</span></span>

<span data-ttu-id="5c438-155">Les informations affichées par Windows PowerShell sont appelées « chaîne de vue de catégorie » et sont générées à partir des propriétés de la classe [System. Management. Automation. Errorcategoryinfo](/dotnet/api/System.Management.Automation.ErrorCategoryInfo) .</span><span class="sxs-lookup"><span data-stu-id="5c438-155">The information displayed by Windows PowerShell is referred to as the category-view string and is built from the properties of the [System.Management.Automation.Errorcategoryinfo](/dotnet/api/System.Management.Automation.ErrorCategoryInfo) class.</span></span> <span data-ttu-id="5c438-156">(Cette classe est accessible via la propriété Error [System. Management. Automation. ErrorRecord. CategoryInfo](/dotnet/api/System.Management.Automation.ErrorRecord.CategoryInfo) .)</span><span class="sxs-lookup"><span data-stu-id="5c438-156">(This class is accessed through the error [System.Management.Automation.ErrorRecord.CategoryInfo](/dotnet/api/System.Management.Automation.ErrorRecord.CategoryInfo) property.)</span></span>

```
{Category}: ({TargetName}:{TargetType}):[{Activity}], {Reason}
```

<span data-ttu-id="5c438-157">La liste suivante décrit les informations affichées :</span><span class="sxs-lookup"><span data-stu-id="5c438-157">The following list describes the information displayed:</span></span>

- <span data-ttu-id="5c438-158">Category : une constante [System. Management. Automation. ErrorCategory](/dotnet/api/System.Management.Automation.ErrorCategory) définie par Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="5c438-158">Category: A Windows PowerShell-defined [System.Management.Automation.ErrorCategory](/dotnet/api/System.Management.Automation.ErrorCategory) constant.</span></span>

- <span data-ttu-id="5c438-159">TargetName : par défaut, nom de l’objet que l’applet de commande traitait lorsque l’erreur s’est produite.</span><span class="sxs-lookup"><span data-stu-id="5c438-159">TargetName: By default, the name of the object the cmdlet was processing when the error occurred.</span></span>
  <span data-ttu-id="5c438-160">Ou une autre chaîne définie par l’applet de commande.</span><span class="sxs-lookup"><span data-stu-id="5c438-160">Or, another cmdlet-defined string.</span></span>

- <span data-ttu-id="5c438-161">TargetType : par défaut, le type de l’objet cible.</span><span class="sxs-lookup"><span data-stu-id="5c438-161">TargetType: By default, the type of the target object.</span></span> <span data-ttu-id="5c438-162">Ou une autre chaîne définie par l’applet de commande.</span><span class="sxs-lookup"><span data-stu-id="5c438-162">Or, another cmdlet-defined string.</span></span>

- <span data-ttu-id="5c438-163">Activity : par défaut, il s’agit du nom de l’applet de commande qui a créé l’enregistrement d’erreur.</span><span class="sxs-lookup"><span data-stu-id="5c438-163">Activity: By default, the name of the cmdlet that created the error record.</span></span> <span data-ttu-id="5c438-164">Ou une autre chaîne définie par l’applet de commande.</span><span class="sxs-lookup"><span data-stu-id="5c438-164">Or, some other cmdlet-defined string.</span></span>

- <span data-ttu-id="5c438-165">Raison : par défaut, le type d’exception.</span><span class="sxs-lookup"><span data-stu-id="5c438-165">Reason: By default, the exception type.</span></span> <span data-ttu-id="5c438-166">Ou une autre chaîne définie par l’applet de commande.</span><span class="sxs-lookup"><span data-stu-id="5c438-166">Or, another cmdlet-defined string.</span></span>

## <a name="replacement-error-message"></a><span data-ttu-id="5c438-167">Message d’erreur de remplacement</span><span class="sxs-lookup"><span data-stu-id="5c438-167">Replacement Error Message</span></span>

<span data-ttu-id="5c438-168">Lorsque vous développez un enregistrement d’erreur pour une applet de commande, le message d’erreur par défaut de l’erreur provient du texte du message par défaut de la propriété [System. exception. message](/dotnet/api/System.Exception.Message) .</span><span class="sxs-lookup"><span data-stu-id="5c438-168">When you develop an error record for a cmdlet, the default error message for the error comes from the default message text in the [System.Exception.Message](/dotnet/api/System.Exception.Message) property.</span></span> <span data-ttu-id="5c438-169">Il s’agit d’une propriété en lecture seule dont le texte du message est destiné uniquement à des fins de débogage (conformément aux instructions .NET Framework).</span><span class="sxs-lookup"><span data-stu-id="5c438-169">This is a read-only property whose message text is intended only for debugging purposes (according to the .NET Framework guidelines).</span></span> <span data-ttu-id="5c438-170">Nous vous recommandons de créer un message d’erreur qui remplace ou augmente le texte du message par défaut.</span><span class="sxs-lookup"><span data-stu-id="5c438-170">We recommend that you create an error message that replaces or augments the default message text.</span></span> <span data-ttu-id="5c438-171">Rendez le message plus convivial et plus spécifique à l’applet de commande.</span><span class="sxs-lookup"><span data-stu-id="5c438-171">Make the message more user-friendly and more specific to the cmdlet.</span></span>

<span data-ttu-id="5c438-172">Le message de remplacement est fourni par un objet [System. Management. Automation. ErrorDetails](/dotnet/api/System.Management.Automation.ErrorDetails) .</span><span class="sxs-lookup"><span data-stu-id="5c438-172">The replacement message is provided by an [System.Management.Automation.ErrorDetails](/dotnet/api/System.Management.Automation.ErrorDetails) object.</span></span> <span data-ttu-id="5c438-173">Utilisez l’un des constructeurs suivants de cet objet, car ils fournissent des informations de localisation supplémentaires qui peuvent être utilisées par Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="5c438-173">Use one of the following constructors of this object because they provide additional localization information that can be used by Windows PowerShell.</span></span>

- <span data-ttu-id="5c438-174">[ErrorDetails (cmdlet, String, String, Object [])](/dotnet/api/system.management.automation.errordetails.-ctor#System_Management_Automation_ErrorDetails__ctor_System_Management_Automation_Cmdlet_System_String_System_String_System_Object___): utilisez ce constructeur si votre chaîne de modèle est une chaîne de ressource dans le même assembly que celui dans lequel l’applet de commande est implémentée ou si vous souhaitez charger la chaîne de modèle par le biais d’une substitution de la méthode [System. Management. Automation. cmdlet. GetResourceString](/dotnet/api/System.Management.Automation.Cmdlet.GetResourceString) .</span><span class="sxs-lookup"><span data-stu-id="5c438-174">[ErrorDetails(Cmdlet, String, String, Object[])](/dotnet/api/system.management.automation.errordetails.-ctor#System_Management_Automation_ErrorDetails__ctor_System_Management_Automation_Cmdlet_System_String_System_String_System_Object___): Use this constructor if your template string is a resource string in the same assembly in which the cmdlet is implemented or if you want to load the template string through an override of the [System.Management.Automation.Cmdlet.GetResourceString](/dotnet/api/System.Management.Automation.Cmdlet.GetResourceString) method.</span></span>

- <span data-ttu-id="5c438-175">[ErrorDetails (assembly, String, String, Object [])](/dotnet/api/system.management.automation.errordetails.-ctor#System_Management_Automation_ErrorDetails__ctor_System_Reflection_Assembly_System_String_System_String_System_Object___): utilisez ce constructeur si la chaîne de modèle se trouve dans un autre assembly et que vous ne la chargez pas par le biais d’une substitution de [System. Management. Automation. applet](/dotnet/api/System.Management.Automation.Cmdlet.GetResourceString)de commande. GetResourceString.</span><span class="sxs-lookup"><span data-stu-id="5c438-175">[ErrorDetails(Assembly, String, String, Object[])](/dotnet/api/system.management.automation.errordetails.-ctor#System_Management_Automation_ErrorDetails__ctor_System_Reflection_Assembly_System_String_System_String_System_Object___): Use this constructor if the template string is in another assembly and you do not load it through an override of [System.Management.Automation.Cmdlet.GetResourceString](/dotnet/api/System.Management.Automation.Cmdlet.GetResourceString).</span></span>

<span data-ttu-id="5c438-176">Le message de remplacement doit respecter les règles de conception de .NET Framework pour l’écriture de messages d’exception avec une petite différence.</span><span class="sxs-lookup"><span data-stu-id="5c438-176">The replacement message should conform to the .NET Framework design guidelines for writing exception messages with a small difference.</span></span> <span data-ttu-id="5c438-177">Les indications stipulent que les messages d’exception doivent être écrits pour les développeurs.</span><span class="sxs-lookup"><span data-stu-id="5c438-177">The guidelines state that exception messages should be written for developers.</span></span> <span data-ttu-id="5c438-178">Ces messages de remplacement doivent être écrits pour l’utilisateur de l’applet de commande.</span><span class="sxs-lookup"><span data-stu-id="5c438-178">These replacement messages should be written for the cmdlet user.</span></span>

<span data-ttu-id="5c438-179">Le message d’erreur de remplacement doit être ajouté avant l’appel des méthodes [System. Management. Automation. applet](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) de commande. WriteError ou [System. Management. Automation. cmdlet. ThrowTerminatingError \*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) .</span><span class="sxs-lookup"><span data-stu-id="5c438-179">The replacement error message must be added before the [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) or [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) methods are called.</span></span> <span data-ttu-id="5c438-180">Pour ajouter un message de remplacement, définissez la propriété [System. Management. Automation. ErrorRecord. ErrorDetails](/dotnet/api/System.Management.Automation.ErrorRecord.ErrorDetails) de l’enregistrement d’erreur.</span><span class="sxs-lookup"><span data-stu-id="5c438-180">To add a replacement message, set the [System.Management.Automation.ErrorRecord.ErrorDetails](/dotnet/api/System.Management.Automation.ErrorRecord.ErrorDetails) property of the error record.</span></span> <span data-ttu-id="5c438-181">Quand cette propriété est définie, Windows PowerShell affiche la propriété [System. Management. Automation. ErrorDetails. message \*](/dotnet/api/System.Management.Automation.ErrorDetails.Message) au lieu du texte du message par défaut.</span><span class="sxs-lookup"><span data-stu-id="5c438-181">When this property is set, Windows PowerShell displays the [System.Management.Automation.ErrorDetails.Message\*](/dotnet/api/System.Management.Automation.ErrorDetails.Message) property instead of the default message text.</span></span>

## <a name="recommended-action-information"></a><span data-ttu-id="5c438-182">Informations sur l’action recommandée</span><span class="sxs-lookup"><span data-stu-id="5c438-182">Recommended Action Information</span></span>

<span data-ttu-id="5c438-183">L’objet [System. Management. Automation. ErrorDetails](/dotnet/api/System.Management.Automation.ErrorDetails) peut également fournir des informations sur les actions qui sont recommandées lorsque l’erreur se produit.</span><span class="sxs-lookup"><span data-stu-id="5c438-183">The [System.Management.Automation.ErrorDetails](/dotnet/api/System.Management.Automation.ErrorDetails) object can also provide information about what actions are recommended when the error occurs.</span></span>

## <a name="invocation-information"></a><span data-ttu-id="5c438-184">Informations d’appel</span><span class="sxs-lookup"><span data-stu-id="5c438-184">Invocation information</span></span>

<span data-ttu-id="5c438-185">Quand une applet de commande utilise [System. Management. Automation. applet de commande. WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) ou [System. Management. Automation. cmdlet. ThrowTerminatingError \*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) pour signaler un enregistrement d’erreur, Windows PowerShell ajoute automatiquement des informations qui décrivent la commande qui a été appelée lorsque l’erreur s’est produite.</span><span class="sxs-lookup"><span data-stu-id="5c438-185">When a cmdlet uses [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) or [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) to report an error record, Windows PowerShell automatically adds information that describes the command that was invoked when the error occurred.</span></span> <span data-ttu-id="5c438-186">Ces informations sont fournies par un objet [System. Management. Automation. InvocationInfo](/dotnet/api/System.Management.Automation.InvocationInfo) qui contient le nom de l’applet de commande qui a été appelée par la commande, la commande elle-même et les informations sur le pipeline ou le script.</span><span class="sxs-lookup"><span data-stu-id="5c438-186">This information is provided by a [System.Management.Automation.Invocationinfo](/dotnet/api/System.Management.Automation.InvocationInfo) object that contains the name of the cmdlet that was invoked by the command, the command itself, and information about the pipeline or script.</span></span> <span data-ttu-id="5c438-187">Cette propriété est en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="5c438-187">This property is read-only.</span></span>

## <a name="see-also"></a><span data-ttu-id="5c438-188">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="5c438-188">See Also</span></span>

[<span data-ttu-id="5c438-189">System. Management. Automation. applet de commande. WriteError</span><span class="sxs-lookup"><span data-stu-id="5c438-189">System.Management.Automation.Cmdlet.WriteError</span></span>](/dotnet/api/System.Management.Automation.Cmdlet.WriteError)

[<span data-ttu-id="5c438-190">System. Management. Automation. applet de commande. ThrowTerminatingError \*</span><span class="sxs-lookup"><span data-stu-id="5c438-190">System.Management.Automation.Cmdlet.Throwterminatingerror\*</span></span>](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError)

[<span data-ttu-id="5c438-191">System. Management. Automation. ErrorCategory</span><span class="sxs-lookup"><span data-stu-id="5c438-191">System.Management.Automation.ErrorCategory</span></span>](/dotnet/api/System.Management.Automation.ErrorCategory)

[<span data-ttu-id="5c438-192">System. Management. Automation. Errorcategoryinfo</span><span class="sxs-lookup"><span data-stu-id="5c438-192">System.Management.Automation.Errorcategoryinfo</span></span>](/dotnet/api/System.Management.Automation.ErrorCategoryInfo)

[<span data-ttu-id="5c438-193">System. Management. Automation. ErrorRecord</span><span class="sxs-lookup"><span data-stu-id="5c438-193">System.Management.Automation.ErrorRecord</span></span>](/dotnet/api/System.Management.Automation.ErrorRecord)

[<span data-ttu-id="5c438-194">System. Management. Automation. ErrorDetails</span><span class="sxs-lookup"><span data-stu-id="5c438-194">System.Management.Automation.ErrorDetails</span></span>](/dotnet/api/System.Management.Automation.ErrorDetails)

[<span data-ttu-id="5c438-195">System. Management. Automation. InvocationInfo</span><span class="sxs-lookup"><span data-stu-id="5c438-195">System.Management.Automation.Invocationinfo</span></span>](/dotnet/api/System.Management.Automation.InvocationInfo)

[<span data-ttu-id="5c438-196">Rapport d’erreurs Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="5c438-196">Windows PowerShell Error Reporting</span></span>](./error-reporting-concepts.md)

[<span data-ttu-id="5c438-197">Écriture d’une applet de commande Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="5c438-197">Writing a Windows PowerShell Cmdlet</span></span>](./writing-a-windows-powershell-cmdlet.md)
