---
ms.date: 09/13/2016
ms.topic: reference
title: Interprétation des objets ErrorRecord
description: Interprétation des objets ErrorRecord
ms.openlocfilehash: 5a8556e0ba83e54dd197ed03665a119f0b565f2b
ms.sourcegitcommit: ba7315a496986451cfc1296b659d73ea2373d3f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/10/2020
ms.locfileid: "92666873"
---
# <a name="interpreting-errorrecord-objects"></a><span data-ttu-id="c483d-103">Interprétation des objets ErrorRecord</span><span class="sxs-lookup"><span data-stu-id="c483d-103">Interpreting ErrorRecord Objects</span></span>

<span data-ttu-id="c483d-104">Dans la plupart des cas, un objet [System. Management. Automation. ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) représente une erreur sans fin d’exécution générée par une commande ou un script.</span><span class="sxs-lookup"><span data-stu-id="c483d-104">In most cases, an [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) object represents a non-terminating error generated by a command or script.</span></span> <span data-ttu-id="c483d-105">Les erreurs de fin peuvent également spécifier des informations supplémentaires dans un ErrorRecord via l’interface [System. Management. Automation. Icontainserrorrecord](/dotnet/api/System.Management.Automation.IContainsErrorRecord) .</span><span class="sxs-lookup"><span data-stu-id="c483d-105">Terminating errors can also specify the additional information in an ErrorRecord via the [System.Management.Automation.Icontainserrorrecord](/dotnet/api/System.Management.Automation.IContainsErrorRecord) interface.</span></span>

<span data-ttu-id="c483d-106">Si vous souhaitez écrire un gestionnaire d’erreurs dans votre script ou un hôte pour gérer des erreurs spécifiques qui se produisent pendant l’exécution de la commande ou du script, vous devez interpréter l’objet [System. Management. Automation. ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) pour déterminer s’il représente la classe d’erreur que vous souhaitez gérer.</span><span class="sxs-lookup"><span data-stu-id="c483d-106">If you want to write an error handler in your script or a host to handle specific errors that occur during command or script execution, you must interpret the [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) object to determine whether it represents the class of error that you want to handle.</span></span>

<span data-ttu-id="c483d-107">Lorsqu’une applet de commande rencontre une erreur de fin ou sans fin d’achèvement, elle doit créer un enregistrement d’erreur qui décrit la condition d’erreur.</span><span class="sxs-lookup"><span data-stu-id="c483d-107">When a cmdlet encounters a terminating or non-terminating error, it should create an error record that describes the error condition.</span></span> <span data-ttu-id="c483d-108">L’application hôte doit examiner ces enregistrements d’erreur et exécuter toute action qui atténue l’erreur.</span><span class="sxs-lookup"><span data-stu-id="c483d-108">The host application must investigate these error records and perform whatever action will mitigate the error.</span></span> <span data-ttu-id="c483d-109">L’application hôte doit également examiner les enregistrements d’erreur pour les erreurs sans fin d’exécution qui n’ont pas réussi à traiter un enregistrement mais qui ont pu continuer, et il doit examiner les enregistrements d’erreur pour les erreurs de fin qui ont provoqué l’arrêt du pipeline.</span><span class="sxs-lookup"><span data-stu-id="c483d-109">The host application must also investigate error records for nonterminating errors that failed to process a record but were able to continue, and it must investigate error records for terminating errors that caused the pipeline to stop.</span></span>

> [!NOTE]
> <span data-ttu-id="c483d-110">Pour les erreurs de fin, l’applet de commande appelle la méthode [System. Management. Automation. applet](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) de commande. ThrowTerminatingError \*.</span><span class="sxs-lookup"><span data-stu-id="c483d-110">For terminating errors, the cmdlet calls the [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) method.</span></span> <span data-ttu-id="c483d-111">Pour les erreurs sans fin d’achèvement, l’applet de commande appelle la méthode [System. Management. Automation. applet de commande. WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) .</span><span class="sxs-lookup"><span data-stu-id="c483d-111">For non-terminating errors, the cmdlet calls the [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) method.</span></span>

## <a name="error-record-design"></a><span data-ttu-id="c483d-112">Conception des enregistrements d’erreurs</span><span class="sxs-lookup"><span data-stu-id="c483d-112">Error Record Design</span></span>

<span data-ttu-id="c483d-113">Les enregistrements d’erreurs sont conçus pour fournir des informations supplémentaires sur l’erreur qui ne sont pas disponibles dans les exceptions, tout en veillant à ce que les informations combinées dans chaque enregistrement d’erreur soient uniques.</span><span class="sxs-lookup"><span data-stu-id="c483d-113">Error records are designed to provide additional error information that is not available in exceptions while ensuring that the combined information in each error record is unique.</span></span> <span data-ttu-id="c483d-114">Cet unicité permet à l’application hôte d’inspecter les différentes parties de l’enregistrement d’erreur afin de pouvoir identifier la condition d’erreur et l’action que l’hôte doit entreprendre.</span><span class="sxs-lookup"><span data-stu-id="c483d-114">This uniqueness allows the host application to inspect the different parts of the error record so that it can identify the error condition and the action the host must take.</span></span>

## <a name="interpreting-error-records"></a><span data-ttu-id="c483d-115">Interprétation des enregistrements d’erreurs</span><span class="sxs-lookup"><span data-stu-id="c483d-115">Interpreting Error Records</span></span>

<span data-ttu-id="c483d-116">Vous pouvez examiner plusieurs parties de l’enregistrement d’erreur pour identifier l’erreur.</span><span class="sxs-lookup"><span data-stu-id="c483d-116">You can review several parts of the error record to identify the error.</span></span> <span data-ttu-id="c483d-117">Ces éléments sont les suivants :</span><span class="sxs-lookup"><span data-stu-id="c483d-117">These parts include the following:</span></span>

- <span data-ttu-id="c483d-118">Catégorie d’erreur</span><span class="sxs-lookup"><span data-stu-id="c483d-118">The error category</span></span>

- <span data-ttu-id="c483d-119">Exception d’erreur</span><span class="sxs-lookup"><span data-stu-id="c483d-119">The error exception</span></span>

- <span data-ttu-id="c483d-120">Identificateur d’erreur qualifié complet (FQID)</span><span class="sxs-lookup"><span data-stu-id="c483d-120">The fully qualified error identifier (FQID)</span></span>

- <span data-ttu-id="c483d-121">Autres informations</span><span class="sxs-lookup"><span data-stu-id="c483d-121">Other information</span></span>

### <a name="the-error-category"></a><span data-ttu-id="c483d-122">Catégorie d’erreur</span><span class="sxs-lookup"><span data-stu-id="c483d-122">The Error Category</span></span>

<span data-ttu-id="c483d-123">La catégorie d’erreur de l’enregistrement d’erreur est l’une des constantes prédéfinies fournies par l’énumération [System. Management. Automation. ErrorCategory](/dotnet/api/System.Management.Automation.ErrorCategory) .</span><span class="sxs-lookup"><span data-stu-id="c483d-123">The error category of the error record is one of the predefined constants provided by the [System.Management.Automation.Errorcategory](/dotnet/api/System.Management.Automation.ErrorCategory) enumeration.</span></span> <span data-ttu-id="c483d-124">Ces informations sont disponibles par le biais de la propriété [System. Management. Automation. ErrorRecord. CategoryInfo](/dotnet/api/System.Management.Automation.ErrorRecord.CategoryInfo) de l’objet [System. Management. Automation. ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) .</span><span class="sxs-lookup"><span data-stu-id="c483d-124">This information  is available through the [System.Management.Automation.ErrorRecord.CategoryInfo](/dotnet/api/System.Management.Automation.ErrorRecord.CategoryInfo) property of the [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) object.</span></span>

<span data-ttu-id="c483d-125">L’applet de commande peut spécifier les catégories CloseError, OpenError, InvalidType, ReadError et WriteError, ainsi que d’autres catégories d’erreur.</span><span class="sxs-lookup"><span data-stu-id="c483d-125">The cmdlet can specify the CloseError, OpenError, InvalidType, ReadError, and WriteError categories, and other error categories.</span></span> <span data-ttu-id="c483d-126">L’application hôte peut utiliser la catégorie d’erreur pour capturer des groupes d’erreurs.</span><span class="sxs-lookup"><span data-stu-id="c483d-126">The host application can use the error category to capture groups of errors.</span></span>

### <a name="the-exception"></a><span data-ttu-id="c483d-127">L’exception</span><span class="sxs-lookup"><span data-stu-id="c483d-127">The Exception</span></span>

<span data-ttu-id="c483d-128">L’exception incluse dans l’enregistrement d’erreur est fournie par l’applet de commande et est accessible via la propriété [System. Management. Automation. ErrorRecord. exception \*](/dotnet/api/System.Management.Automation.ErrorRecord.Exception) de l’objet [System. Management. Automation. ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) .</span><span class="sxs-lookup"><span data-stu-id="c483d-128">The exception included in the error record is provided by the cmdlet and can be accessed through the [System.Management.Automation.ErrorRecord.Exception\*](/dotnet/api/System.Management.Automation.ErrorRecord.Exception) property of the [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) object.</span></span>

<span data-ttu-id="c483d-129">Les applications hôtes peuvent utiliser le `is` mot clé pour identifier que l’exception est d’une classe spécifique ou d’une classe dérivée.</span><span class="sxs-lookup"><span data-stu-id="c483d-129">Host applications can use the `is` keyword to identify that the exception is of a specific class or of a derived class.</span></span> <span data-ttu-id="c483d-130">Il est préférable de créer une branche sur le type d’exception, comme illustré dans l’exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="c483d-130">It is better to branch on the exception type, as shown in the following example.</span></span>

`if (MyNonTerminatingError.Exception is AccessDeniedException)`

<span data-ttu-id="c483d-131">De cette façon, vous interceptez les classes dérivées.</span><span class="sxs-lookup"><span data-stu-id="c483d-131">This way, you catch the derived classes.</span></span> <span data-ttu-id="c483d-132">Toutefois, il existe des problèmes si l’exception est désérialisée.</span><span class="sxs-lookup"><span data-stu-id="c483d-132">However, there are problems if the exception is deserialized.</span></span>

### <a name="the-fqid"></a><span data-ttu-id="c483d-133">FQID</span><span class="sxs-lookup"><span data-stu-id="c483d-133">The FQID</span></span>

<span data-ttu-id="c483d-134">FQID est l’information la plus spécifique que vous pouvez utiliser pour identifier l’erreur.</span><span class="sxs-lookup"><span data-stu-id="c483d-134">The FQID is the most specific information you can use to identify the error.</span></span> <span data-ttu-id="c483d-135">Il s’agit d’une chaîne qui contient un identificateur défini par une applet de commande, le nom de la classe d’applet de commande et la source qui a signalé l’erreur.</span><span class="sxs-lookup"><span data-stu-id="c483d-135">It is a string that includes a cmdlet-defined identifier, the name of the cmdlet class, and the source that reported the error.</span></span> <span data-ttu-id="c483d-136">En général, un enregistrement d’erreur est analogue à un enregistrement d’événement d’un journal des événements Windows.</span><span class="sxs-lookup"><span data-stu-id="c483d-136">In general, an error record is analogous to an event record of a Windows Event log.</span></span> <span data-ttu-id="c483d-137">Le FQID est analogue au tuple suivant, qui identifie la classe de l’enregistrement d’événement : (*nom du journal*, *source*, ID de l' *événement*).</span><span class="sxs-lookup"><span data-stu-id="c483d-137">The FQID is analogous to the following tuple, which identifies the class of the event record: (*log name*, *source*, *event ID*).</span></span>

<span data-ttu-id="c483d-138">Le FQID est conçu pour être inspecté comme une chaîne unique.</span><span class="sxs-lookup"><span data-stu-id="c483d-138">The FQID is designed to be inspected as a single string.</span></span> <span data-ttu-id="c483d-139">Toutefois, il existe des cas dans lesquels l’identificateur d’erreur est conçu pour être analysé par l’application hôte.</span><span class="sxs-lookup"><span data-stu-id="c483d-139">However, cases exist in which the error identifier is designed to be parsed by the host application.</span></span> <span data-ttu-id="c483d-140">L’exemple suivant est un identificateur d’erreur qualifié complet bien formé.</span><span class="sxs-lookup"><span data-stu-id="c483d-140">The following example is a well-formed fully qualified error identifier.</span></span>

`CommandNotFoundException,Microsoft.PowerShell.Commands.GetCommandCommand.`

<span data-ttu-id="c483d-141">Dans l’exemple précédent, le premier jeton est l’identificateur d’erreur, qui est suivi du nom de la classe d’applet de commande.</span><span class="sxs-lookup"><span data-stu-id="c483d-141">In the previous example, the first token is the error identifier, which is followed by the name of the cmdlet class.</span></span> <span data-ttu-id="c483d-142">L’identificateur d’erreur peut être un jeton unique, ou il peut s’agir d’un identificateur séparé par des points qui permet la création de branches pour l’inspection de l’identificateur.</span><span class="sxs-lookup"><span data-stu-id="c483d-142">The error identifier can be a single token, or it can be a dot-separated identifier that allows for branching on inspection of the identifier.</span></span> <span data-ttu-id="c483d-143">N’utilisez pas d’espaces ni de signes de ponctuation dans l’identificateur d’erreur.</span><span class="sxs-lookup"><span data-stu-id="c483d-143">Do not use white space or punctuation in the error identifier.</span></span> <span data-ttu-id="c483d-144">Il est particulièrement important de ne pas utiliser de virgule. une virgule est utilisée par Windows PowerShell pour séparer l’identificateur et le nom de la classe de l’applet de commande.</span><span class="sxs-lookup"><span data-stu-id="c483d-144">It is especially important not to use a comma; a comma is used by Windows PowerShell to separate the identifier and the cmdlet class name.</span></span>

### <a name="other-information"></a><span data-ttu-id="c483d-145">Autres informations</span><span class="sxs-lookup"><span data-stu-id="c483d-145">Other Information</span></span>

<span data-ttu-id="c483d-146">L’objet [System. Management. Automation. ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) peut également fournir des informations qui décrivent l’environnement dans lequel l’erreur s’est produite.</span><span class="sxs-lookup"><span data-stu-id="c483d-146">The [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) object might also provide information that describes the environment in which the error occurred.</span></span> <span data-ttu-id="c483d-147">Ces informations incluent des éléments tels que les détails de l’erreur, les informations d’appel et l’objet cible qui était en cours de traitement lorsque l’erreur s’est produite.</span><span class="sxs-lookup"><span data-stu-id="c483d-147">This information includes items such as error details, invocation information, and the target object that was being processed when the error occurred.</span></span> <span data-ttu-id="c483d-148">Bien que ces informations puissent être utiles à l’application hôte, elles ne sont généralement pas utilisées pour identifier l’erreur.</span><span class="sxs-lookup"><span data-stu-id="c483d-148">Although this information might be useful to the host application, it is not typically used to identify the error.</span></span> <span data-ttu-id="c483d-149">Ces informations sont disponibles par le biais des propriétés suivantes :</span><span class="sxs-lookup"><span data-stu-id="c483d-149">This information is available through the following properties:</span></span>

[<span data-ttu-id="c483d-150">System. Management. Automation. ErrorRecord. ErrorDetails</span><span class="sxs-lookup"><span data-stu-id="c483d-150">System.Management.Automation.ErrorRecord.ErrorDetails</span></span>](/dotnet/api/System.Management.Automation.ErrorRecord.ErrorDetails)

[<span data-ttu-id="c483d-151">System. Management. Automation. ErrorRecord. InvocationInfo</span><span class="sxs-lookup"><span data-stu-id="c483d-151">System.Management.Automation.ErrorRecord.InvocationInfo</span></span>](/dotnet/api/System.Management.Automation.ErrorRecord.InvocationInfo)

[<span data-ttu-id="c483d-152">System. Management. Automation. ErrorRecord. TargetObject</span><span class="sxs-lookup"><span data-stu-id="c483d-152">System.Management.Automation.ErrorRecord.TargetObject</span></span>](/dotnet/api/System.Management.Automation.ErrorRecord.TargetObject)

## <a name="see-also"></a><span data-ttu-id="c483d-153">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="c483d-153">See Also</span></span>

[<span data-ttu-id="c483d-154">System. Management. Automation. ErrorRecord</span><span class="sxs-lookup"><span data-stu-id="c483d-154">System.Management.Automation.ErrorRecord</span></span>](/dotnet/api/System.Management.Automation.ErrorRecord)

[<span data-ttu-id="c483d-155">System. Management. Automation. ErrorCategory</span><span class="sxs-lookup"><span data-stu-id="c483d-155">System.Management.Automation.Errorcategory</span></span>](/dotnet/api/System.Management.Automation.ErrorCategory)

[<span data-ttu-id="c483d-156">System. Management. Automation. Errorcategoryinfo</span><span class="sxs-lookup"><span data-stu-id="c483d-156">System.Management.Automation.Errorcategoryinfo</span></span>](/dotnet/api/System.Management.Automation.ErrorCategoryInfo)

[<span data-ttu-id="c483d-157">System. Management. Automation. applet de commande. WriteError</span><span class="sxs-lookup"><span data-stu-id="c483d-157">System.Management.Automation.Cmdlet.WriteError</span></span>](/dotnet/api/System.Management.Automation.Cmdlet.WriteError)

[<span data-ttu-id="c483d-158">System. Management. Automation. applet de commande. ThrowTerminatingError \*</span><span class="sxs-lookup"><span data-stu-id="c483d-158">System.Management.Automation.Cmdlet.Throwterminatingerror\*</span></span>](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError)

[<span data-ttu-id="c483d-159">Ajout de rapport d’erreurs sans fin d’exécution à votre applet de commande</span><span class="sxs-lookup"><span data-stu-id="c483d-159">Adding Non-Terminating Error Reporting to Your Cmdlet</span></span>](./adding-non-terminating-error-reporting-to-your-cmdlet.md)

[<span data-ttu-id="c483d-160">Rapport d’erreurs Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="c483d-160">Windows PowerShell Error Reporting</span></span>](./error-reporting-concepts.md)

[<span data-ttu-id="c483d-161">Écriture d’une applet de commande Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="c483d-161">Writing a Windows PowerShell Cmdlet</span></span>](./writing-a-windows-powershell-cmdlet.md)
