---
ms.date: 08/23/2017
keywords: powershell,applet de commande
title: installer et utiliser Accès Web Windows PowerShell
ms.openlocfilehash: a3207c859c4b93b07d4c1b41d7df5269daa39a7d
ms.sourcegitcommit: c97dcf1e00ef540e7464c36c88f841474060044c
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/15/2020
ms.locfileid: "79402616"
---
# <a name="install-and-use-windows-powershell-web-access"></a><span data-ttu-id="59e9c-103">Installer et utiliser Accès Web Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="59e9c-103">Install and Use Windows PowerShell Web Access</span></span>

<span data-ttu-id="59e9c-104">Mise à jour : 5 novembre 2013 (modifié le 23 août 2017)</span><span class="sxs-lookup"><span data-stu-id="59e9c-104">Updated: November 5, 2013 (Edited: August 23, 2017)</span></span>

<span data-ttu-id="59e9c-105">S’applique à : Windows Server 2012 R2, Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="59e9c-105">Applies To: Windows Server 2012 R2, Windows Server 2012</span></span>

## <a name="introduction"></a><span data-ttu-id="59e9c-106">Introduction</span><span class="sxs-lookup"><span data-stu-id="59e9c-106">Introduction</span></span>

<span data-ttu-id="59e9c-107">Accès Web Windows PowerShell, introduit dans Windows Server 2012, joue le rôle d’une passerelle Windows PowerShell en fournissant une console web Windows PowerShell qui cible un ordinateur distant.</span><span class="sxs-lookup"><span data-stu-id="59e9c-107">Windows PowerShell Web Access, first introduced in Windows Server 2012, acts as a Windows PowerShell gateway, providing a web-based Windows PowerShell console that is targeted at a remote computer.</span></span> <span data-ttu-id="59e9c-108">Elle permet aux professionnels de l’informatique d’exécuter des commandes et des scripts Windows PowerShell à partir d’une console Windows PowerShell dans un navigateur web, sans nécessiter Windows PowerShell, ni de logiciel de gestion à distance ou d’installation d’un plug-in de navigateur sur le périphérique client.</span><span class="sxs-lookup"><span data-stu-id="59e9c-108">It enables IT Pros to run Windows PowerShell commands and scripts from a Windows PowerShell console in a web browser, with no Windows PowerShell, remote management software, or browser plug-in installation necessary on the client device.</span></span> <span data-ttu-id="59e9c-109">Tout ce qui est nécessaire pour exécuter la console web Windows PowerShell est une passerelle Accès Web Windows PowerShell correctement configurée, et un navigateur d’appareil client qui prend en charge JavaScript et accepte les cookies.</span><span class="sxs-lookup"><span data-stu-id="59e9c-109">All that is required to run the web-based Windows PowerShell console is a properly-configured Windows PowerShell Web Access gateway, and a client device browser that supports JavaScript and accepts cookies.</span></span>

<span data-ttu-id="59e9c-110">Un périphérique client est par exemple un ordinateur portable, un ordinateur personnel non professionnel, une tablette, une borne Web publique, un ordinateur sans système d’exploitation Windows ou encore un navigateur de téléphone portable.</span><span class="sxs-lookup"><span data-stu-id="59e9c-110">Examples of client devices include laptops, non-work personal computers, borrowed computers, tablet computers, web kiosks, computers that are not running a Windows-based operating system, and cell phone browsers.</span></span> <span data-ttu-id="59e9c-111">Les informaticiens peuvent effectuer des tâches de gestion stratégiques sur des serveurs Windows distants à partir de périphériques ayant accès à une connexion Internet et à un navigateur Web.</span><span class="sxs-lookup"><span data-stu-id="59e9c-111">IT Pros can perform critical management tasks on remote Windows-based servers from devices that have access to an Internet connection and a web browser.</span></span>

<span data-ttu-id="59e9c-112">Après avoir installé et configuré correctement la passerelle, les utilisateurs peuvent accéder à une console Windows PowerShell à l’aide d’un navigateur web.</span><span class="sxs-lookup"><span data-stu-id="59e9c-112">After successful gateway setup and configuration, users can access a Windows PowerShell console by using a web browser.</span></span> <span data-ttu-id="59e9c-113">Quand les utilisateurs ouvrent le site web Accès Web Windows PowerShell sécurisé, ils peuvent exécuter une console web Windows PowerShell après une authentification réussie.</span><span class="sxs-lookup"><span data-stu-id="59e9c-113">When users open the secured Windows PowerShell Web Access website, they can run a web-based Windows PowerShell console after successful authentication.</span></span>

<span data-ttu-id="59e9c-114">L’installation et la configuration d’Accès Web Windows PowerShell forment un processus en trois étapes :</span><span class="sxs-lookup"><span data-stu-id="59e9c-114">Windows PowerShell Web Access setup and configuration is a three-step process:</span></span>

1. [<span data-ttu-id="59e9c-115">Installer Accès Web Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="59e9c-115">Install Windows PowerShell Web Access</span></span>](#install-windows-powershell-web-access-using-powershell-cmdlets)
1. [<span data-ttu-id="59e9c-116">Configurer la passerelle</span><span class="sxs-lookup"><span data-stu-id="59e9c-116">Configure the Gateway</span></span>](#configure-the-gateway)
1. [<span data-ttu-id="59e9c-117">Configurer une règle d’autorisation restrictive</span><span class="sxs-lookup"><span data-stu-id="59e9c-117">Configure a restrictive authorization rule</span></span>](#configure-a-restrictive-authorization-rule)

<span data-ttu-id="59e9c-118">Avant d’installer et de configurer Accès Web Windows PowerShell, nous vous recommandons de lire ce guide dans son intégralité, qui inclut des instructions sur la façon d’installer, de sécuriser et de désinstaller cette fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="59e9c-118">Before you install and configure Windows PowerShell Web Access, we recommend that you read this entire guide, which includes instructions about how to install, secure, and uninstall Windows PowerShell Web Access.</span></span> <span data-ttu-id="59e9c-119">La rubrique [Utiliser la console web Windows PowerShell](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh831417(v=ws.11)) décrit comment les utilisateurs se connectent à la console web, et couvre les limitations et les différences entre la console Windows PowerShell basée sur le web et la console **powershell.exe**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-119">The [Use the Web-based Windows PowerShell Console](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh831417(v=ws.11)) topic describes how users sign in to the web-based console, and covers limitations and differences between the web-based Windows PowerShell console and the **powershell.exe** console.</span></span> <span data-ttu-id="59e9c-120">Les utilisateurs finaux de la console web doivent lire la rubrique [Utiliser la console web Windows PowerShell](use-the-web-based-windows-powershell-console.md), mais il n’est pas nécessaire qu’ils lisent le reste de ce guide.</span><span class="sxs-lookup"><span data-stu-id="59e9c-120">End users of the web-based console should read [Use the Web based Windows PowerShell Console](use-the-web-based-windows-powershell-console.md), but do not need to read the rest of this guide.</span></span>

<span data-ttu-id="59e9c-121">Cette rubrique ne fournit pas d’instructions détaillées sur les opérations du serveur Web IIS : elle décrit seulement les étapes nécessaires pour configurer la passerelle Accès Web Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="59e9c-121">This topic does not provide in-depth IIS Web Server operations guidance; only those steps required to configure the Windows PowerShell Web Access gateway are described in this topic.</span></span> <span data-ttu-id="59e9c-122">Pour plus d’informations sur la configuration et la sécurisation des sites web dans IIS, voir les ressources de documentation IIS dans la section Voir aussi.</span><span class="sxs-lookup"><span data-stu-id="59e9c-122">For more information about configuring and securing websites in IIS, see the IIS documentation resources in the See Also section.</span></span>

<span data-ttu-id="59e9c-123">Le diagramme suivant illustre le fonctionnement d’Accès Web Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="59e9c-123">The following diagram shows how Windows PowerShell Web Access works.</span></span>

![Diagramme Accès Web Windows PowerShell](media/install-and-use-windows-powershell-web-access/Windows-PowerShell-Web-Access-diagram.jpg)

## <a name="requirements-for-running-windows-powershell-web-access"></a><span data-ttu-id="59e9c-125">Configuration requise pour exécuter Accès Web Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="59e9c-125">Requirements for running Windows PowerShell Web Access</span></span>

<span data-ttu-id="59e9c-126">Accès Web Windows PowerShell nécessite l’exécution, sur le serveur sur lequel la passerelle doit s’exécuter, d’un serveur web (IIS), de .NET Framework 4.5 et de Windows PowerShell 3.0 ou Windows PowerShell 4.0.</span><span class="sxs-lookup"><span data-stu-id="59e9c-126">Windows PowerShell Web Access requires Web Server (IIS), .NET Framework 4.5, and Windows PowerShell 3.0 or Windows PowerShell 4.0 to be running on the server on which you want to run the gateway.</span></span> <span data-ttu-id="59e9c-127">Vous pouvez installer Accès Web Windows PowerShell sur un serveur qui exécute Windows Server 2012 R2 ou Windows Server 2012 en utilisant l’Assistant Ajout de rôles et de fonctionnalités dans le Gestionnaire de serveur ou des applets de commande de déploiement Windows PowerShell pour le Gestionnaire de serveur.</span><span class="sxs-lookup"><span data-stu-id="59e9c-127">You can install Windows PowerShell Web Access on a server that is running Windows Server 2012 R2 or Windows Server 2012 by using either the Add Roles and Features Wizard in Server Manager, or Windows PowerShell deployment cmdlets for Server Manager.</span></span> <span data-ttu-id="59e9c-128">Quand vous installez Accès Web Windows PowerShell à l’aide du Gestionnaire de serveur ou de ses applets de commande de déploiement, les rôles et fonctionnalités requis sont automatiquement ajoutés dans le cadre du processus d’installation.</span><span class="sxs-lookup"><span data-stu-id="59e9c-128">When you install Windows PowerShell Web Access by using Server Manager or its deployment cmdlets, required roles and features are automatically added as part of the installation process.</span></span>

<span data-ttu-id="59e9c-129">Accès Web Windows PowerShell permet aux utilisateurs distants d’accéder aux ordinateurs de votre organisation en utilisant Windows PowerShell dans un navigateur web.</span><span class="sxs-lookup"><span data-stu-id="59e9c-129">Windows PowerShell Web Access allows remote users to access computers in your organization by using Windows PowerShell in a web browser.</span></span> <span data-ttu-id="59e9c-130">Bien qu’Accès Web Windows PowerShell soit un outil de gestion pratique et puissant, l’accès web présente des risques de sécurité et doit être configuré de manière aussi sécurisée que possible.</span><span class="sxs-lookup"><span data-stu-id="59e9c-130">Although Windows PowerShell Web Access is a convenient and powerful management tool, the web-based access poses security risks, and should be configured as securely as possible.</span></span> <span data-ttu-id="59e9c-131">Nous recommandons aux administrateurs qui configurent la passerelle Accès Web Windows PowerShell d’utiliser les couches de sécurité disponibles, à la fois les règles d’autorisation basées sur des applets de commande incluses avec Accès Web Windows PowerShell et les couches de sécurité disponibles dans le serveur web (IIS) et les applications tierces.</span><span class="sxs-lookup"><span data-stu-id="59e9c-131">We recommend that administrators who configure the Windows PowerShell Web Access gateway use available security layers, both the cmdlet-based authorization rules included with Windows PowerShell Web Access, and security layers that are available in Web Server (IIS) and third-party applications.</span></span> <span data-ttu-id="59e9c-132">Cette documentation contient à la fois des exemples non sécurisés destinés uniquement aux environnements de test et des exemples recommandés pour des déploiements sécurisés.</span><span class="sxs-lookup"><span data-stu-id="59e9c-132">This documentation includes both unsecure examples that are only recommended for test environments, as well as examples that are recommended for secure deployments.</span></span>

## <a name="browser-and-client-device-support"></a><span data-ttu-id="59e9c-133">Prise en charge de navigateurs et de périphériques clients</span><span class="sxs-lookup"><span data-stu-id="59e9c-133">Browser and client device support</span></span>

<span data-ttu-id="59e9c-134">Accès Web Windows PowerShell prend en charge les navigateurs suivants.</span><span class="sxs-lookup"><span data-stu-id="59e9c-134">Windows PowerShell Web Access supports the following Internet browsers.</span></span> <span data-ttu-id="59e9c-135">Bien que les navigateurs mobiles ne soient pas officiellement pris en charge, nombre d’entre eux sont susceptibles de pouvoir exécuter la console web Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="59e9c-135">Although mobile browsers are not officially supported, many may be able to run the web-based Windows PowerShell console.</span></span>
<span data-ttu-id="59e9c-136">D’autres navigateurs acceptant les cookies, exécutant JavaScript et exécutant des sites web HTTPS sont censés fonctionner, mais n’ont pas été testés officiellement.</span><span class="sxs-lookup"><span data-stu-id="59e9c-136">Other browsers that accept cookies, run JavaScript, and run HTTPS websites are expected to work, but are not officially tested.</span></span>

### <a name="supported-desktop-computer-browsers"></a><span data-ttu-id="59e9c-137">Navigateurs d’ordinateur de bureau pris en charge</span><span class="sxs-lookup"><span data-stu-id="59e9c-137">Supported desktop computer browsers</span></span>

- <span data-ttu-id="59e9c-138">Windows Internet Explorer for Microsoft Windows 8.0, 9.0, 10.0 et 11.0</span><span class="sxs-lookup"><span data-stu-id="59e9c-138">Windows Internet Explorer for Microsoft Windows 8.0, 9.0, 10.0, and 11.0</span></span>
- <span data-ttu-id="59e9c-139">Mozilla Firefox 10.0.2</span><span class="sxs-lookup"><span data-stu-id="59e9c-139">Mozilla Firefox 10.0.2</span></span>
- <span data-ttu-id="59e9c-140">Google Chrome 17.0.963.56m pour Windows</span><span class="sxs-lookup"><span data-stu-id="59e9c-140">Google Chrome 17.0.963.56m for Windows</span></span>
- <span data-ttu-id="59e9c-141">Apple Safari 5.1.2 pour Windows</span><span class="sxs-lookup"><span data-stu-id="59e9c-141">Apple Safari 5.1.2 for Windows</span></span>
- <span data-ttu-id="59e9c-142">Apple Safari 5.1.2 pour Mac OS</span><span class="sxs-lookup"><span data-stu-id="59e9c-142">Apple Safari 5.1.2 for Mac OS</span></span>

### <a name="minimally-tested-mobile-devices-or-browsers"></a><span data-ttu-id="59e9c-143">Navigateurs ou appareils mobiles testés de façon minimale</span><span class="sxs-lookup"><span data-stu-id="59e9c-143">Minimally-tested mobile devices or browsers</span></span>

- <span data-ttu-id="59e9c-144">Windows Phone 7 et 7.5</span><span class="sxs-lookup"><span data-stu-id="59e9c-144">Windows Phone 7 and 7.5</span></span>
- <span data-ttu-id="59e9c-145">Google Android WebKit 3.1 pour navigateur Android 2.2.1 (Kernel 2.6)</span><span class="sxs-lookup"><span data-stu-id="59e9c-145">Google Android WebKit 3.1 Browser Android 2.2.1 (Kernel 2.6)</span></span>
- <span data-ttu-id="59e9c-146">Apple Safari pour système d’exploitation iPhone 5.0.1</span><span class="sxs-lookup"><span data-stu-id="59e9c-146">Apple Safari for iPhone operating system 5.0.1</span></span>
- <span data-ttu-id="59e9c-147">Apple Safari pour système d’exploitation iPad 2 5.0.1</span><span class="sxs-lookup"><span data-stu-id="59e9c-147">Apple Safari for iPad 2 operating system 5.0.1</span></span>

### <a name="browser-requirements"></a><span data-ttu-id="59e9c-148">Configuration requise des navigateurs</span><span class="sxs-lookup"><span data-stu-id="59e9c-148">Browser requirements</span></span>

<span data-ttu-id="59e9c-149">Pour utiliser la console web Accès Web Windows PowerShell, les navigateurs doivent :</span><span class="sxs-lookup"><span data-stu-id="59e9c-149">To use the Windows PowerShell Web Access web-based console, browsers must do the following.</span></span>

- <span data-ttu-id="59e9c-150">autoriser les cookies à partir du site web de la passerelle Accès Web Windows PowerShell ;</span><span class="sxs-lookup"><span data-stu-id="59e9c-150">Allow cookies from the Windows PowerShell Web Access gateway website.</span></span>
- <span data-ttu-id="59e9c-151">être en mesure d’ouvrir et de lire des pages HTTPS ;</span><span class="sxs-lookup"><span data-stu-id="59e9c-151">Be able to open and read HTTPS pages.</span></span>
- <span data-ttu-id="59e9c-152">ouvrir et exécuter des sites web qui utilisent JavaScript.</span><span class="sxs-lookup"><span data-stu-id="59e9c-152">Open and run websites that use JavaScript.</span></span>

## <a name="recommended-quick-deployment"></a><span data-ttu-id="59e9c-153">Déploiement rapide recommandé</span><span class="sxs-lookup"><span data-stu-id="59e9c-153">Recommended quick deployment</span></span>

<span data-ttu-id="59e9c-154">Vous pouvez installer la passerelle Accès Web Windows PowerShell sur un serveur qui exécute Windows Server 2012 R2 ou Windows Server 2012 en utilisant des applets de commande Windows PowerShell, ou l’Assistant Ajout de rôles et de fonctionnalités qui s’ouvre à partir du Gestionnaire de serveur.</span><span class="sxs-lookup"><span data-stu-id="59e9c-154">You can install the Windows PowerShell Web Access gateway on a server that is running Windows Server 2012 R2 or Windows Server 2012 by using either Windows PowerShell cmdlets, or by using the Add Roles and Features Wizard that is opened from within Server Manager.</span></span> <span data-ttu-id="59e9c-155">Pour une installation et une configuration rapides, utilisez les applets de commande Windows PowerShell, comme décrit dans cette section.</span><span class="sxs-lookup"><span data-stu-id="59e9c-155">For quick installation and configuration, use Windows PowerShell cmdlets, as described in this section.</span></span>

1. [<span data-ttu-id="59e9c-156">Installer Accès Web Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="59e9c-156">Install Windows PowerShell Web Access</span></span>](#install-windows-powershell-web-access-using-powershell-cmdlets)
1. [<span data-ttu-id="59e9c-157">Configurer la passerelle</span><span class="sxs-lookup"><span data-stu-id="59e9c-157">Configure the Gateway</span></span>](#configure-the-gateway)
1. [<span data-ttu-id="59e9c-158">Configurer une règle d’autorisation restrictive</span><span class="sxs-lookup"><span data-stu-id="59e9c-158">Configure a restrictive authorization rule</span></span>](#configure-a-restrictive-authorization-rule)

### <a name="install-windows-powershell-web-access-using-powershell-cmdlets"></a><span data-ttu-id="59e9c-159">Installer Accès Web Windows PowerShell à l’aide d’applets de commande PowerShell</span><span class="sxs-lookup"><span data-stu-id="59e9c-159">Install Windows PowerShell Web Access using PowerShell cmdlets</span></span>

#### <a name="to-install-windows-powershell-web-access-by-using-windows-powershell-cmdlets"></a><span data-ttu-id="59e9c-160">Pour installer Accès Web Windows PowerShell à l’aide des applets de commande Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="59e9c-160">To install Windows PowerShell Web Access by using Windows PowerShell cmdlets</span></span>

1. <span data-ttu-id="59e9c-161">Effectuez une des opérations suivantes pour ouvrir une session Windows PowerShell avec des droits utilisateur élevés.</span><span class="sxs-lookup"><span data-stu-id="59e9c-161">Do one of the following to open a Windows PowerShell session with elevated user rights.</span></span>

   - <span data-ttu-id="59e9c-162">Sur le Bureau Windows, cliquez avec le bouton droit dans la barre des tâches sur **Windows PowerShell**, puis cliquez sur **Exécuter en tant qu’administrateur**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-162">On the Windows desktop, right-click **Windows PowerShell** on the taskbar, and then click **Run as Administrator**.</span></span>
   - <span data-ttu-id="59e9c-163">Dans l’écran d’**accueil** de Windows, cliquez avec le bouton droit sur **Windows PowerShell**, puis cliquez sur **Exécuter en tant qu’administrateur**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-163">On the Windows **Start** screen, right-click **Windows PowerShell**, and then click **Run as Administrator**.</span></span>

   > [!NOTE]
   > <span data-ttu-id="59e9c-164">Dans Windows PowerShell 3.0 et 4.0, il n’est pas nécessaire d’importer le module d’applet de commande du Gestionnaire de serveur dans la session Windows PowerShell avant d’exécuter des applets de commande qui font partie du module.</span><span class="sxs-lookup"><span data-stu-id="59e9c-164">In Windows PowerShell 3.0 and 4.0, there is no need to import the Server Manager cmdlet module into the Windows PowerShell session before running cmdlets that are part of the module.</span></span> <span data-ttu-id="59e9c-165">Un module est automatiquement importé la première fois que vous exécutez une applet de commande qui fait partie du module.</span><span class="sxs-lookup"><span data-stu-id="59e9c-165">A module is automatically imported the first time you run a cmdlet that is part of the module.</span></span>
   > <span data-ttu-id="59e9c-166">En outre, les applets de commande Windows PowerShell ne respectent pas la casse.</span><span class="sxs-lookup"><span data-stu-id="59e9c-166">Also, Windows PowerShell cmdlets are not case-sensitive.</span></span>

1. <span data-ttu-id="59e9c-167">Tapez ce qui suit, puis appuyez sur **Entrée**, où *computer_name* représente le nom de l’ordinateur distant sur lequel vous souhaitez installer Accès Web Windows PowerShell, le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="59e9c-167">Type the following, and then press **Enter**, where *computer_name* represents a remote computer on which you want to install Windows PowerShell Web Access, if applicable.</span></span> <span data-ttu-id="59e9c-168">Le paramètre `-Restart` redémarre automatiquement les serveurs de destination si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="59e9c-168">The `-Restart` parameter automatically restarts destination servers if required.</span></span>

   `Install-WindowsFeature -Name WindowsPowerShellWebAccess -ComputerName <computer_name> -IncludeManagementTools -Restart`

   > [!NOTE]
   > <span data-ttu-id="59e9c-169">Installer Accès Web Windows PowerShell à l’aide d’applets de commande Windows PowerShell n’ajoute pas les outils de gestion de serveur web (IIS) par défaut.</span><span class="sxs-lookup"><span data-stu-id="59e9c-169">Installing Windows PowerShell Web Access by using Windows PowerShell cmdlets does not add Web Server (IIS) management tools by default.</span></span> <span data-ttu-id="59e9c-170">Si vous voulez installer les outils de gestion sur le même serveur que la passerelle Accès Web Windows PowerShell, ajoutez le paramètre `-IncludeManagementTools` à la commande d’installation (comme indiqué dans cette étape).</span><span class="sxs-lookup"><span data-stu-id="59e9c-170">If you want to install the management tools on the same server as the Windows PowerShell Web Access gateway, add the `-IncludeManagementTools` parameter to the installation command (as provided in this step).</span></span> <span data-ttu-id="59e9c-171">Si vous gérez le site web Accès Web Windows PowerShell à partir d’un ordinateur distant, installez le composant logiciel enfichable Gestionnaire des services Internet en installant les [outils d’administration de serveur distant pour Windows 8.1](https://www.microsoft.com/en-us/download/details.aspx?id=39296) ou les [outils d’administration pour serveur distant pour Windows 8](https://www.microsoft.com/en-us/download/details.aspx?id=28972) sur l’ordinateur à partir duquel vous voulez gérer la passerelle.</span><span class="sxs-lookup"><span data-stu-id="59e9c-171">If you are managing the Windows PowerShell Web Access website from a remote computer, install the IIS Manager snap-in by installing [Remote Server Administration Tools for Windows 8.1](https://www.microsoft.com/en-us/download/details.aspx?id=39296) or [Remote Server Administration Tools for Windows 8](https://www.microsoft.com/en-us/download/details.aspx?id=28972) on the computer from which you want to manage the gateway.</span></span>

   <span data-ttu-id="59e9c-172">Pour installer des rôles et des fonctionnalités sur un disque dur virtuel hors connexion, vous devez ajouter à la fois le paramètre `-ComputerName` et le paramètre `-VHD`.</span><span class="sxs-lookup"><span data-stu-id="59e9c-172">To install roles and features on an offline VHD, you must add both the `-ComputerName` parameter and the `-VHD` parameter.</span></span> <span data-ttu-id="59e9c-173">Le paramètre `-ComputerName` contient le nom du serveur sur lequel sera monté le disque dur virtuel et le paramètre `-VHD` le chemin du fichier VHD sur le serveur spécifié.</span><span class="sxs-lookup"><span data-stu-id="59e9c-173">The `-ComputerName` parameter contains the name of the server on which to mount the VHD, and the `-VHD` parameter contains the path to the VHD file on the specified server.</span></span>

   `Install-WindowsFeature -Name WindowsPowerShellWebAccess -VHD <path> -ComputerName <computer_name> -IncludeManagementTools -Restart`

1. <span data-ttu-id="59e9c-174">Quand l’installation est terminée, vérifiez qu’Accès Web Windows PowerShell a été installé sur les serveurs de destination en exécutant l’applet de commande `Get-WindowsFeature` sur un serveur de destination, dans une console Windows PowerShell ouverte avec des droits d’utilisateur élevés.</span><span class="sxs-lookup"><span data-stu-id="59e9c-174">When installation is complete, verify that Windows PowerShell Web Access was installed on destination servers by running the `Get-WindowsFeature` cmdlet on a destination server, in a Windows PowerShell console that has been opened with elevated user rights.</span></span> <span data-ttu-id="59e9c-175">Vous pouvez également vérifier qu’Accès Web Windows PowerShell a été installé dans la console Gestionnaire de serveur en sélectionnant un serveur de destination dans la page **Tous les serveurs**, puis en affichant la vignette **Rôles et fonctionnalités** du serveur sélectionné.</span><span class="sxs-lookup"><span data-stu-id="59e9c-175">You can also verify that Windows PowerShell Web Access was installed in the Server Manager console, by selecting a destination server on the **All Servers** page, and then viewing the **Roles and Features** tile for the selected server.</span></span> <span data-ttu-id="59e9c-176">Vous pouvez aussi afficher le fichier Lisez-moi associé à Accès Web Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="59e9c-176">You can also view the readme file for Windows PowerShell Web Access.</span></span>

1. <span data-ttu-id="59e9c-177">Une fois cette fonctionnalité installée, vous êtes invité à consulter le fichier Lisez-moi dans lequel se trouvent des instructions d’installation requises simples pour la passerelle.</span><span class="sxs-lookup"><span data-stu-id="59e9c-177">After Windows PowerShell Web Access is installed, you are prompted to review the readme file, which contains basic, required setup instructions for the gateway.</span></span> <span data-ttu-id="59e9c-178">Ces instructions d’installation se trouvent également dans la section suivante, [Configurer la passerelle](#configure-the-gateway).</span><span class="sxs-lookup"><span data-stu-id="59e9c-178">These setup instructions are also in the following section, [Configure the Gateway](#configure-the-gateway).</span></span> <span data-ttu-id="59e9c-179">Le chemin du fichier Lisez-moi est `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span><span class="sxs-lookup"><span data-stu-id="59e9c-179">The path to the readme file is `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span></span>

### <a name="configure-the-gateway"></a><span data-ttu-id="59e9c-180">Configurer la passerelle</span><span class="sxs-lookup"><span data-stu-id="59e9c-180">Configure the Gateway</span></span>

<span data-ttu-id="59e9c-181">L’applet de commande **Install-PswaWebApplication** constitue un moyen rapide de configurer l’Accès Web Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="59e9c-181">The **Install-PswaWebApplication** cmdlet is a quick way to get Windows PowerShell Web Access configured.</span></span> <span data-ttu-id="59e9c-182">Bien qu’il soit possible d’ajouter le paramètre `UseTestCertificate` à la cmdlet `Install-PswaWebApplication` pour installer un certificat SSL auto-signé à des fins de test, cette pratique n’est pas sécurisée ; pour un environnement de production sécurisé, utilisez toujours un certificat SSL valide signé par une autorité de certification.</span><span class="sxs-lookup"><span data-stu-id="59e9c-182">Although you can add the `UseTestCertificate` parameter to the `Install-PswaWebApplication` cmdlet to install a self-signed SSL certificate for test purposes, this is not secure; for a secure production environment, always use a valid SSL certificate that has been signed by a certification authority (CA).</span></span> <span data-ttu-id="59e9c-183">Les administrateurs peuvent remplacer le certificat de test par le certificat signé de leur choix à l’aide de la console du Gestionnaire des services Internet.</span><span class="sxs-lookup"><span data-stu-id="59e9c-183">Administrators can replace the test certificate with a signed certificate of their choice by using the IIS Manager console.</span></span>

<span data-ttu-id="59e9c-184">Vous pouvez terminer la configuration de l’application web Accès Web Windows PowerShell en exécutant l’applet de commande `Install-PswaWebApplication` ou en effectuant les étapes de configuration via l’interface graphique dans le Gestionnaire des services Internet.</span><span class="sxs-lookup"><span data-stu-id="59e9c-184">You can complete Windows PowerShell Web Access web application configuration either by running the `Install-PswaWebApplication` cmdlet or by performing GUI-based configuration steps in IIS Manager.</span></span>
<span data-ttu-id="59e9c-185">Par défaut, l’applet de commande installe l’application web, **pswa** (et son pool d’applications, **pswa_pool**), dans le conteneur **Site Web par défaut**, comme indiqué dans le Gestionnaire des services Internet ; si vous le voulez, vous pouvez obliger l’applet de commande à modifier le conteneur de site par défaut de l’application web.</span><span class="sxs-lookup"><span data-stu-id="59e9c-185">By default, the cmdlet installs the web application, **pswa** (and an application pool for it, **pswa_pool**), in the **Default Web Site** container, as shown in IIS Manager; if desired, you can instruct the cmdlet to change the default site container of the web application.</span></span> <span data-ttu-id="59e9c-186">Le Gestionnaire des services Internet propose des options de configuration pour les applications web, telles que la modification du numéro de port ou du certificat SSL (Secure Sockets Layer).</span><span class="sxs-lookup"><span data-stu-id="59e9c-186">IIS Manager offers configuration options that are available for web applications, such as changing the port number or the Secure Sockets Layer (SSL) certificate.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="59e9c-187">Nous conseillons vivement aux administrateurs de configurer la passerelle de façon à utiliser un certificat valide signé par une autorité de certification.</span><span class="sxs-lookup"><span data-stu-id="59e9c-187">We strongly recommend that administrators configure the gateway to use a valid certificate that has been signed by a CA.</span></span>

#### <a name="to-configure-the-windows-powershell-web-access-gateway-with-a-test-certificate-by-using-install-pswawebapplication"></a><span data-ttu-id="59e9c-188">Pour configurer la passerelle Accès Web Windows PowerShell avec un certificat de test à l’aide de Install-PswaWebApplication</span><span class="sxs-lookup"><span data-stu-id="59e9c-188">To configure the Windows PowerShell Web Access gateway with a test certificate by using Install-PswaWebApplication</span></span>

1. <span data-ttu-id="59e9c-189">Effectuez une des opérations suivantes pour ouvrir une session Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="59e9c-189">Do one of the following to open a Windows PowerShell session.</span></span>

   - <span data-ttu-id="59e9c-190">Sur le Bureau Windows, cliquez avec le bouton droit sur **Windows PowerShell** dans la barre des tâches.</span><span class="sxs-lookup"><span data-stu-id="59e9c-190">On the Windows desktop, right-click **Windows PowerShell** on the taskbar.</span></span>
   - <span data-ttu-id="59e9c-191">Dans l’écran d’**accueil** de Windows, cliquez sur **Windows PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-191">On the Windows **Start** screen, click **Windows PowerShell**.</span></span>

2. <span data-ttu-id="59e9c-192">Tapez ce qui suit, puis appuyez sur **Entrée**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-192">Type the following, and then press **Enter**.</span></span>

   `Install-PswaWebApplication -UseTestCertificate`

   > [!IMPORTANT]
   > <span data-ttu-id="59e9c-193">Le paramètre `UseTestCertificate` ne doit être utilisé que dans un environnement de test privé.</span><span class="sxs-lookup"><span data-stu-id="59e9c-193">The `UseTestCertificate` parameter should only be used in a private test environment.</span></span> <span data-ttu-id="59e9c-194">Pour un environnement de production sécurisé, nous vous recommandons d’utiliser un certificat valide signé par une autorité de certification.</span><span class="sxs-lookup"><span data-stu-id="59e9c-194">For a secure production environment, we recommend using a valid certificate that has been signed by a CA.</span></span>

   <span data-ttu-id="59e9c-195">L’exécution de l’applet de commande permet d’installer l’application web Accès Web Windows PowerShell au sein du conteneur de site web IIS par défaut.</span><span class="sxs-lookup"><span data-stu-id="59e9c-195">Running the cmdlet installs the Windows PowerShell Web Access web application within the IIS Default Web Site container.</span></span> <span data-ttu-id="59e9c-196">L’applet de commande crée l’infrastructure nécessaire pour exécuter Accès Web Windows PowerShell sur le site web par défaut, `https://<server_name>/pswa`.</span><span class="sxs-lookup"><span data-stu-id="59e9c-196">The cmdlet creates the infrastructure required to run Windows PowerShell Web Access on the default website, `https://<server_name>/pswa`.</span></span> <span data-ttu-id="59e9c-197">Pour installer l’application web dans un autre site web, indiquez le nom du site en ajoutant le paramètre `WebSiteName`.</span><span class="sxs-lookup"><span data-stu-id="59e9c-197">To install the web application in a different website, provide the website name by adding the `WebSiteName` parameter.</span></span> <span data-ttu-id="59e9c-198">Pour modifier le nom de l’application web (par défaut, `pswa`), ajoutez le paramètre `WebApplicationName`.</span><span class="sxs-lookup"><span data-stu-id="59e9c-198">To change the name of the web application (the default is `pswa`), add the `WebApplicationName` parameter.</span></span>

   <span data-ttu-id="59e9c-199">Les paramètres suivants peuvent être configurés en exécutant l’applet de commande.</span><span class="sxs-lookup"><span data-stu-id="59e9c-199">The following settings are configured by running the cmdlet.</span></span> <span data-ttu-id="59e9c-200">Vous pouvez les modifier manuellement dans la console du Gestionnaire des services Internet, si vous le souhaitez.</span><span class="sxs-lookup"><span data-stu-id="59e9c-200">You can change these manually in the IIS Manager console, if desired.</span></span>

   - <span data-ttu-id="59e9c-201">Path: /pswa</span><span class="sxs-lookup"><span data-stu-id="59e9c-201">Path: /pswa</span></span>
   - <span data-ttu-id="59e9c-202">ApplicationPool : pswa_pool</span><span class="sxs-lookup"><span data-stu-id="59e9c-202">ApplicationPool: pswa_pool</span></span>
   - <span data-ttu-id="59e9c-203">EnabledProtocols: http</span><span class="sxs-lookup"><span data-stu-id="59e9c-203">EnabledProtocols: http</span></span>
   - <span data-ttu-id="59e9c-204">PhysicalPath: %windir%/Web/PowerShellWebAccess/wwwroot</span><span class="sxs-lookup"><span data-stu-id="59e9c-204">PhysicalPath: %windir%/Web/PowerShellWebAccess/wwwroot</span></span>

   <span data-ttu-id="59e9c-205">**Example** : `Install-PswaWebApplication -webApplicationName myWebApp -useTestCertificate`</span><span class="sxs-lookup"><span data-stu-id="59e9c-205">**Example**: `Install-PswaWebApplication -webApplicationName myWebApp -useTestCertificate`</span></span>

   <span data-ttu-id="59e9c-206">Dans cet exemple, le site web obtenu pour Accès Web Windows PowerShell est `https://<server_name>/myWebApp`.</span><span class="sxs-lookup"><span data-stu-id="59e9c-206">In this example, the resulting website for Windows PowerShell Web Access is `https://<server_name>/myWebApp`.</span></span>

   > [!NOTE]
   > <span data-ttu-id="59e9c-207">Vous ne pouvez pas vous connecter tant que les utilisateurs ne se voient pas accorder l’accès au site web en ajoutant des règles d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="59e9c-207">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span> <span data-ttu-id="59e9c-208">Pour plus d’informations, consultez [Configurer une règle d’autorisation restrictive](#configure-a-restrictive-authorization-rule) et [Règles d’autorisation et fonctionnalités de sécurité d’Accès Web Windows PowerShell](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="59e9c-208">For more information, see [configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule) and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

#### <a name="to-configure-the-windows-powershell-web-access-gateway-with-a-genuine-certificate-by-using-install-pswawebapplication-and-iis-manager"></a><span data-ttu-id="59e9c-209">Pour configurer la passerelle Windows PowerShell Web Access avec un certificat authentique à l’aide de Install-PswaWebApplication et IIS Manager</span><span class="sxs-lookup"><span data-stu-id="59e9c-209">To configure the Windows PowerShell Web Access gateway with a genuine certificate by using Install-PswaWebApplication and IIS Manager</span></span>

1. <span data-ttu-id="59e9c-210">Effectuez une des opérations suivantes pour ouvrir une session Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="59e9c-210">Do one of the following to open a Windows PowerShell session.</span></span>

   - <span data-ttu-id="59e9c-211">Sur le Bureau Windows, cliquez avec le bouton droit sur **Windows PowerShell** dans la barre des tâches.</span><span class="sxs-lookup"><span data-stu-id="59e9c-211">On the Windows desktop, right-click **Windows PowerShell** on the taskbar.</span></span>
   - <span data-ttu-id="59e9c-212">Dans l’écran d’**accueil** de Windows, cliquez sur **Windows PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-212">On the Windows **Start** screen, click **Windows PowerShell**.</span></span>

2. <span data-ttu-id="59e9c-213">Tapez ce qui suit, puis appuyez sur **Entrée**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-213">Type the following, and then press **Enter**.</span></span>

   `Install-PswaWebApplication`

   <span data-ttu-id="59e9c-214">Les paramètres de passerelle suivants peuvent être configurés en exécutant l’applet de commande.</span><span class="sxs-lookup"><span data-stu-id="59e9c-214">The following gateway settings are configured by running the cmdlet.</span></span> <span data-ttu-id="59e9c-215">Vous pouvez les modifier manuellement dans la console du Gestionnaire des services Internet, si vous le souhaitez.</span><span class="sxs-lookup"><span data-stu-id="59e9c-215">You can change these manually in the IIS Manager console, if desired.</span></span> <span data-ttu-id="59e9c-216">Vous pouvez également spécifier des valeurs pour les paramètres `WebsiteName` et `WebApplicationName` de la cmdlet `Install-PswaWebApplication`.</span><span class="sxs-lookup"><span data-stu-id="59e9c-216">You can also specify values for the `WebsiteName` and `WebApplicationName` parameters of the `Install-PswaWebApplication` cmdlet.</span></span>

   - <span data-ttu-id="59e9c-217">Path: /pswa</span><span class="sxs-lookup"><span data-stu-id="59e9c-217">Path: /pswa</span></span>
   - <span data-ttu-id="59e9c-218">ApplicationPool : pswa_pool</span><span class="sxs-lookup"><span data-stu-id="59e9c-218">ApplicationPool: pswa_pool</span></span>
   - <span data-ttu-id="59e9c-219">EnabledProtocols: http</span><span class="sxs-lookup"><span data-stu-id="59e9c-219">EnabledProtocols: http</span></span>
   - <span data-ttu-id="59e9c-220">PhysicalPath: %windir%/Web/PowerShellWebAccess/wwwroot</span><span class="sxs-lookup"><span data-stu-id="59e9c-220">PhysicalPath: %windir%/Web/PowerShellWebAccess/wwwroot</span></span>

3. <span data-ttu-id="59e9c-221">Ouvrez la console du Gestionnaire des services Internet en procédant de l’une des manières suivantes.</span><span class="sxs-lookup"><span data-stu-id="59e9c-221">Open the IIS Manager console by doing one of the following.</span></span>

   - <span data-ttu-id="59e9c-222">Sur le Bureau Windows, démarrez le Gestionnaire de serveur en cliquant sur **Gestionnaire de serveur** dans la barre des tâches Windows.</span><span class="sxs-lookup"><span data-stu-id="59e9c-222">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span> <span data-ttu-id="59e9c-223">Dans le menu **Outils** du Gestionnaire de serveur, cliquez sur **Gestionnaire des services Internet (IIS)** .</span><span class="sxs-lookup"><span data-stu-id="59e9c-223">On the **Tools** menu in Server Manager, click **Internet Information Services (IIS) Manager**.</span></span>
   - <span data-ttu-id="59e9c-224">Dans l’écran d’**accueil** de Windows, cliquez sur **Gestionnaire de serveur**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-224">On the Windows **Start** screen, click **Server Manager**.</span></span>

4. <span data-ttu-id="59e9c-225">Dans le volet de l’arborescence du Gestionnaire des services Internet, développez le nœud du serveur sur lequel Accès Web Windows PowerShell est installé jusqu’à ce que le dossier **Sites** apparaisse.</span><span class="sxs-lookup"><span data-stu-id="59e9c-225">In the IIS Manager tree pane, expand the node for the server on which Windows PowerShell Web Access is installed until the **Sites** folder is visible.</span></span> <span data-ttu-id="59e9c-226">Développez le dossier **Sites**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-226">Expand the **Sites** folder.</span></span>

5. <span data-ttu-id="59e9c-227">Sélectionnez le site web dans lequel vous avez installé l’application web d’Accès Web Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="59e9c-227">Select the website in which you have installed the Windows PowerShell Web Access web application.</span></span>
   <span data-ttu-id="59e9c-228">Dans le volet **Actions**, cliquez sur **Liaisons**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-228">In the **Actions** pane, click **Bindings**.</span></span>

6. <span data-ttu-id="59e9c-229">Dans la boîte de dialogue **Liaisons de site**, cliquez sur **Ajouter**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-229">In the **Site Binding** dialog box, click **Add**.</span></span>

7. <span data-ttu-id="59e9c-230">Dans la boîte de dialogue **Ajouter la liaison de site**, dans le champ **Type**, sélectionnez **https**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-230">In the **Add Site Binding** dialog box, in the **Type** field, select **https**.</span></span>

8. <span data-ttu-id="59e9c-231">Dans le champ **Certificat SSL**, sélectionnez votre certificat signé dans le menu déroulant.</span><span class="sxs-lookup"><span data-stu-id="59e9c-231">In the **SSL certificate** field, select your signed certificate from the drop-down menu.</span></span>
   <span data-ttu-id="59e9c-232">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-232">Click **OK**.</span></span> <span data-ttu-id="59e9c-233">Pour plus d’informations sur l’obtention d’un certificat, consultez [Pour configurer un certificat SSL dans le Gestionnaire des services Internet](#to-configure-an-ssl-certificate-in-iis-manager) dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="59e9c-233">See [To configure an SSL certificate in IIS Manager](#to-configure-an-ssl-certificate-in-iis-manager) in this topic for more information about how to obtain a certificate.</span></span>

   <span data-ttu-id="59e9c-234">L’application web d’Accès Web Windows PowerShell est à présent configurée pour utiliser votre certificat SSL signé.</span><span class="sxs-lookup"><span data-stu-id="59e9c-234">The Windows PowerShell Web Access web application is now configured to use your signed SSL certificate.</span></span>

   <span data-ttu-id="59e9c-235">Vous pouvez accéder à la fonctionnalité Accès Web Windows PowerShell en ouvrant `https://<server_name>/pswa` dans une fenêtre de navigateur.</span><span class="sxs-lookup"><span data-stu-id="59e9c-235">You can access Windows PowerShell Web Access by opening `https://<server_name>/pswa` in a browser window.</span></span>

   > [!NOTE]
   > <span data-ttu-id="59e9c-236">Vous ne pouvez pas vous connecter tant que les utilisateurs ne se voient pas accorder l’accès au site web en ajoutant des règles d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="59e9c-236">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span> <span data-ttu-id="59e9c-237">Pour plus d’informations, consultez [Configurer une règle d’autorisation restrictive](#configure-a-restrictive-authorization-rule) dans cette rubrique, et [Règles d’autorisation et fonctionnalités de sécurité d’Accès Web Windows PowerShell](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="59e9c-237">For more information, see [Configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule), in this topic, and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

### <a name="configure-a-restrictive-authorization-rule"></a><span data-ttu-id="59e9c-238">Configurer une règle d’autorisation restrictive</span><span class="sxs-lookup"><span data-stu-id="59e9c-238">Configure a restrictive authorization rule</span></span>

<span data-ttu-id="59e9c-239">Une fois Accès Web Windows PowerShell installé et la passerelle configurée, les utilisateurs peuvent ouvrir la page de connexion dans un navigateur, mais ils ne peuvent pas se connecter tant que l’administrateur d’Accès Web Windows PowerShell ne leur a pas octroyé explicitement un accès.</span><span class="sxs-lookup"><span data-stu-id="59e9c-239">After Windows PowerShell Web Access is installed and the gateway is configured, users can open the sign-in page in a browser, but they cannot sign in until the Windows PowerShell Web Access administrator grants users access explicitly.</span></span> <span data-ttu-id="59e9c-240">Le contrôle d’accès d’Accès Web Windows PowerShell est géré à l’aide de l’ensemble d’applets de commande Windows PowerShell décrit dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="59e9c-240">Windows PowerShell Web Access access control is managed by using the set of Windows PowerShell cmdlets described in the following table.</span></span> <span data-ttu-id="59e9c-241">Il n’existe aucune interface utilisateur graphique équivalente pour ajouter ou gérer les règles d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="59e9c-241">There is no comparable GUI for adding or managing authorization rules.</span></span> <span data-ttu-id="59e9c-242">Pour plus d’informations sur les applets de commande Accès Web Windows PowerShell, consultez les rubriques de référence des applets de commande, [Applets de commande Accès Web Windows PowerShell](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps).</span><span class="sxs-lookup"><span data-stu-id="59e9c-242">For more detailed information about Windows PowerShell Web Access cmdlets, see the cmdlet reference topics, [Windows PowerShell Web Access Cmdlets](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps).</span></span>

<span data-ttu-id="59e9c-243">Pour plus de détails sur les règles d’autorisation et la sécurité d’Accès Web Windows PowerShell, consultez [Règles d’autorisation et fonctionnalités de sécurité d’Accès Web Windows PowerShell](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="59e9c-243">For more detail about Windows PowerShell Web Access authorization rules and security, see [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

#### <a name="to-add-a-restrictive-authorization-rule"></a><span data-ttu-id="59e9c-244">Pour ajouter une règle d’autorisation restrictive</span><span class="sxs-lookup"><span data-stu-id="59e9c-244">To add a restrictive authorization rule</span></span>

1. <span data-ttu-id="59e9c-245">Effectuez une des opérations suivantes pour ouvrir une session Windows PowerShell avec des droits utilisateur élevés.</span><span class="sxs-lookup"><span data-stu-id="59e9c-245">Do one of the following to open a Windows PowerShell session with elevated user rights.</span></span>

   - <span data-ttu-id="59e9c-246">Sur le Bureau Windows, cliquez avec le bouton droit dans la barre des tâches sur **Windows PowerShell**, puis cliquez sur **Exécuter en tant qu’administrateur**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-246">On the Windows desktop, right-click **Windows PowerShell** on the taskbar, and then click **Run as Administrator**.</span></span>
   - <span data-ttu-id="59e9c-247">Dans l’écran d’**accueil** de Windows, cliquez avec le bouton droit sur **Windows PowerShell**, puis cliquez sur **Exécuter en tant qu’administrateur**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-247">On the Windows **Start** screen, right-click **Windows PowerShell**, and then click **Run as Administrator**.</span></span>

2. <span data-ttu-id="59e9c-248">Étape facultative pour restreindre l’accès utilisateur à l’aide de configurations de session : vérifiez que les configurations de session que vous souhaitez utiliser dans vos règles existent déjà.</span><span class="sxs-lookup"><span data-stu-id="59e9c-248">Optional step for restricting user access by using session configurations: Verify that session configurations that you want to use in your rules already exist.</span></span> <span data-ttu-id="59e9c-249">Si elles n’ont pas encore été créées, utilisez les instructions relatives à la création de configurations de session dans [About Session Configuration Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span><span class="sxs-lookup"><span data-stu-id="59e9c-249">If they have not yet been created, use instructions for creating session configurations in [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span></span>

3. <span data-ttu-id="59e9c-250">Tapez ce qui suit, puis appuyez sur **Entrée**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-250">Type the following, and then press **Enter**.</span></span>

   `Add-PswaAuthorizationRule -UserName <domain\user | computer\user> -ComputerName <computer_name> -ConfigurationName <session_configuration_name>`

   <span data-ttu-id="59e9c-251">Cette règle d’autorisation accorde à un utilisateur spécifique d’accéder à un ordinateur sur le réseau auquel il a généralement accès, avec un accès à une configuration de session spécifique limitée aux besoins habituels de l’utilisateur en matière de script et d’applet de commande.</span><span class="sxs-lookup"><span data-stu-id="59e9c-251">This authorization rule allows a specific user access to one computer on the network to which they typically have access, with access to a specific session configuration that is scoped to the user's typical scripting and cmdlet needs.</span></span>

   <span data-ttu-id="59e9c-252">Dans l’exemple suivant, un utilisateur nommé `JSmith` dans le domaine `Contoso` se voit accorder un accès permettant de gérer l’ordinateur `Contoso_214` et d’utiliser une configuration de session nommée `NewAdminsOnly`.</span><span class="sxs-lookup"><span data-stu-id="59e9c-252">In the following example, a user named `JSmith` in the `Contoso` domain is granted access to manage the computer `Contoso_214`, and use a session configuration named `NewAdminsOnly`.</span></span>

   `Add-PswaAuthorizationRule -UserName Contoso\JSmith -ComputerName Contoso_214 -ConfigurationName NewAdminsOnly`

4. <span data-ttu-id="59e9c-253">Vérifiez que la règle a été créée en exécutant l’applet de commande `Get-PswaAuthorizationRule` ou `Test-PswaAuthorizationRule -UserName <domain\user> -ComputerName <computer-name>`.</span><span class="sxs-lookup"><span data-stu-id="59e9c-253">Verify that the rule has been created by running either the `Get-PswaAuthorizationRule` cmdlet, or `Test-PswaAuthorizationRule -UserName <domain\user> -ComputerName <computer-name>`</span></span>

   <span data-ttu-id="59e9c-254">Par exemple : `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span><span class="sxs-lookup"><span data-stu-id="59e9c-254">For example, `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span></span>

<span data-ttu-id="59e9c-255">Après avoir configuré une règle d’autorisation, les utilisateurs autorisés peuvent se connecter à la console web et commencer à utiliser Accès Web Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="59e9c-255">After you have configured an authorization rule, you are ready for authorized users to sign in to the web-based console and begin using Windows PowerShell Web Access.</span></span>

## <a name="custom-deployment"></a><span data-ttu-id="59e9c-256">Déploiement personnalisé</span><span class="sxs-lookup"><span data-stu-id="59e9c-256">Custom deployment</span></span>

<span data-ttu-id="59e9c-257">Vous pouvez installer la passerelle Accès Web Windows PowerShell sur un serveur qui exécute Windows Server 2012 R2 ou Windows Server 2012 en utilisant l’Assistant Ajout de rôles et de fonctionnalités dans le Gestionnaire de serveur.</span><span class="sxs-lookup"><span data-stu-id="59e9c-257">You can install the Windows PowerShell Web Access gateway on a server that is running Windows Server 2012 R2 or Windows Server 2012 by using the Add Roles and Features Wizard in Server Manager.</span></span>
<span data-ttu-id="59e9c-258">Après avoir installé Accès Web Windows PowerShell, vous pouvez personnaliser la configuration de la passerelle dans le Gestionnaire des services Internet.</span><span class="sxs-lookup"><span data-stu-id="59e9c-258">After Windows PowerShell Web Access is installed, you can customize the configuration of the gateway in IIS Manager.</span></span>

### <a name="install-windows-powershell-web-access-using-the-add-roles-and-features-wizard"></a><span data-ttu-id="59e9c-259">Installer Accès Web Windows PowerShell à l’aide de l’Assistant Ajout de rôles et de fonctionnalités</span><span class="sxs-lookup"><span data-stu-id="59e9c-259">Install Windows PowerShell Web Access using the Add Roles and Features Wizard</span></span>

1. <span data-ttu-id="59e9c-260">Si le Gestionnaire de serveur est déjà ouvert, passez à l’étape suivante.</span><span class="sxs-lookup"><span data-stu-id="59e9c-260">If Server Manager is already open, go on to the next step.</span></span> <span data-ttu-id="59e9c-261">S’il n’est pas déjà ouvert, ouvrez-le en effectuant l’une des opérations suivantes.</span><span class="sxs-lookup"><span data-stu-id="59e9c-261">If Server Manager is not already open, open it by doing one of the following.</span></span>

   - <span data-ttu-id="59e9c-262">Sur le Bureau Windows, démarrez le Gestionnaire de serveur en cliquant sur **Gestionnaire de serveur** dans la barre des tâches Windows.</span><span class="sxs-lookup"><span data-stu-id="59e9c-262">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span>
   - <span data-ttu-id="59e9c-263">Dans l’écran d’**accueil** de Windows, cliquez sur **Gestionnaire de serveur**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-263">On the Windows **Start** screen, click **Server Manager**.</span></span>

2. <span data-ttu-id="59e9c-264">Dans le menu **Gérer**, cliquez sur **Ajouter des rôles et fonctionnalités**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-264">On the **Manage** menu, click **Add Roles and Features**.</span></span>

3. <span data-ttu-id="59e9c-265">Sur la page **Sélectionner le type d’installation**, sélectionnez **Installation basée sur un rôle ou une fonctionnalité**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-265">On the **Select installation type** page, select **Role-based or feature-based installation**.</span></span>
   <span data-ttu-id="59e9c-266">Cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-266">Click **Next**.</span></span>

4. <span data-ttu-id="59e9c-267">Dans la page **Sélectionner le serveur de destination**, sélectionnez un serveur dans le pool de serveurs ou sélectionnez un disque dur virtuel hors connexion.</span><span class="sxs-lookup"><span data-stu-id="59e9c-267">On the **Select destination server** page, select a server from the server pool, or select an offline VHD.</span></span> <span data-ttu-id="59e9c-268">Pour sélectionner un disque dur virtuel hors connexion en guise de serveur de destination, choisissez d’abord le serveur sur lequel monter le disque dur virtuel, puis sélectionnez le fichier VHD.</span><span class="sxs-lookup"><span data-stu-id="59e9c-268">To select an offline VHD as your destination server, first select the server on which to mount the VHD, and then select the VHD file.</span></span> <span data-ttu-id="59e9c-269">Pour plus d’informations sur l’ajout de serveurs à votre pool de serveurs, consultez l’Aide du Gestionnaire de serveur.</span><span class="sxs-lookup"><span data-stu-id="59e9c-269">For information about how to add servers to your server pool, see the Server Manager Help.</span></span> <span data-ttu-id="59e9c-270">Une fois que vous avez sélectionné le serveur de destination, cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-270">After you have selected the destination server, click **Next**.</span></span>

5. <span data-ttu-id="59e9c-271">Dans la page **Sélectionner des fonctionnalités** de l’Assistant, développez **Windows PowerShell**, puis sélectionnez **Accès Web Windows PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-271">On the **Select features** page of the wizard, expand **Windows PowerShell**, and then select **Windows PowerShell Web Access**.</span></span>

6. <span data-ttu-id="59e9c-272">Notez que vous êtes invité à ajouter les fonctionnalités requises, telles que le .NET Framework 4.5 et les services de rôle du serveur web (IIS).</span><span class="sxs-lookup"><span data-stu-id="59e9c-272">Note that you are prompted to add required features, such as .NET Framework 4.5, and role services of Web Server (IIS).</span></span> <span data-ttu-id="59e9c-273">Ajoutez les fonctionnalités requises et continuez.</span><span class="sxs-lookup"><span data-stu-id="59e9c-273">Add required features and continue.</span></span>

   > [!NOTE]
   > <span data-ttu-id="59e9c-274">Installer Accès Web Windows PowerShell à l’aide de l’Assistant Ajout de rôles et de fonctionnalités installe également le serveur web (IIS), y compris le composant logiciel enfichable Gestionnaire des services Internet.</span><span class="sxs-lookup"><span data-stu-id="59e9c-274">Installing Windows PowerShell Web Access by using the Add Roles and Features Wizard also installs Web Server (IIS), including the IIS Manager snap-in.</span></span> <span data-ttu-id="59e9c-275">Le composant logiciel enfichable et d’autres outils de gestion des services Internet IIS sont installés par défaut si vous utilisez l’Assistant Ajout de rôles et de fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="59e9c-275">The snap-in and other IIS management tools are installed by default if you use Add Roles and Features Wizard.</span></span> <span data-ttu-id="59e9c-276">Si vous installez Accès Web Windows PowerShell à l’aide d’applets de commande Windows PowerShell comme décrit dans la procédure suivante, les outils de gestion ne sont pas ajoutés par défaut.</span><span class="sxs-lookup"><span data-stu-id="59e9c-276">If you install Windows PowerShell Web Access by using Windows PowerShell cmdlets as described in the following procedure, management tools are not added by default.</span></span>

7. <span data-ttu-id="59e9c-277">Dans la page **Confirmer les sélections d’installation**, si les fichiers de fonctionnalités d’Accès Web Windows PowerShell ne sont pas enregistrés sur le serveur de destination que vous avez sélectionné à l’étape 4, cliquez sur **Spécifier un autre chemin d’accès source**, puis indiquez le chemin des fichiers de fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="59e9c-277">On the **Confirm installation selections** page, if the feature files for Windows PowerShell Web Access are not stored on the destination server that you selected in step 4, click **Specify an alternate source path**, and provide the path to the feature files.</span></span> <span data-ttu-id="59e9c-278">Sinon, cliquez sur **Installer**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-278">Otherwise, click **Install**.</span></span>

8. <span data-ttu-id="59e9c-279">Une fois que vous avez cliqué sur **Installer**, la page **Progression de l’installation** affiche la progression de l’installation, les résultats et des messages tels que des avertissements, échecs ou étapes de configuration de post-installation requises pour Accès Web Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="59e9c-279">After you click **Install**, the **Installation progress** page displays installation progress, results, and messages such as warnings, failures, or post-installation configuration steps that are required for Windows PowerShell Web Access.</span></span> <span data-ttu-id="59e9c-280">Une fois cette fonctionnalité installée, vous êtes invité à consulter le fichier Lisez-moi dans lequel se trouvent des instructions d’installation requises simples pour la passerelle.</span><span class="sxs-lookup"><span data-stu-id="59e9c-280">After Windows PowerShell Web Access is installed, you are prompted to review the readme file, which contains basic, required setup instructions for the gateway.</span></span> <span data-ttu-id="59e9c-281">Ces instructions sont également incluses dans la présente rubrique.</span><span class="sxs-lookup"><span data-stu-id="59e9c-281">These instructions are also included in this topic.</span></span> <span data-ttu-id="59e9c-282">Le chemin du fichier Lisez-moi est `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span><span class="sxs-lookup"><span data-stu-id="59e9c-282">The path to the readme file is `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span></span>

### <a name="configure-the-gateway"></a><span data-ttu-id="59e9c-283">Configurer la passerelle</span><span class="sxs-lookup"><span data-stu-id="59e9c-283">Configure the gateway</span></span>

<span data-ttu-id="59e9c-284">Les instructions données dans cette section concernent l’installation de l’application web Accès Web Windows PowerShell dans un sous-répertoire, et non pas dans le répertoire racine de votre site web.</span><span class="sxs-lookup"><span data-stu-id="59e9c-284">Instructions in this section are for installing the Windows PowerShell Web Access web application in a subdirectory and not in the root directory of your website.</span></span> <span data-ttu-id="59e9c-285">Cette procédure est l’équivalent sur interface utilisateur graphique des actions effectuées par la cmdlet `Install-PswaWebApplication`.</span><span class="sxs-lookup"><span data-stu-id="59e9c-285">This procedure is the GUI-based equivalent of the actions performed by the `Install-PswaWebApplication` cmdlet.</span></span> <span data-ttu-id="59e9c-286">Cette section inclut également des instructions sur la manière d’utiliser le Gestionnaire des services Internet pour configurer la passerelle Accès Web Windows PowerShell en tant que site web racine.</span><span class="sxs-lookup"><span data-stu-id="59e9c-286">This section also includes instructions for how to use IIS Manager to configure the Windows PowerShell Web Access gateway as a root website.</span></span>

#### <a name="to-use-iis-manager-to-configure-the-gateway-in-an-existing-website"></a><span data-ttu-id="59e9c-287">Pour configurer la passerelle dans un site web existant à l’aide du Gestionnaire des services Internet</span><span class="sxs-lookup"><span data-stu-id="59e9c-287">To use IIS Manager to configure the gateway in an existing website</span></span>

1. <span data-ttu-id="59e9c-288">Ouvrez la console du Gestionnaire des services Internet en procédant de l’une des manières suivantes.</span><span class="sxs-lookup"><span data-stu-id="59e9c-288">Open the IIS Manager console by doing one of the following.</span></span>

   - <span data-ttu-id="59e9c-289">Sur le Bureau Windows, démarrez le Gestionnaire de serveur en cliquant sur **Gestionnaire de serveur** dans la barre des tâches Windows.</span><span class="sxs-lookup"><span data-stu-id="59e9c-289">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span> <span data-ttu-id="59e9c-290">Dans le menu **Outils** du Gestionnaire de serveur, cliquez sur **Gestionnaire des services Internet (IIS)** .</span><span class="sxs-lookup"><span data-stu-id="59e9c-290">On the **Tools** menu in Server Manager, click **Internet Information Services (IIS) Manager**.</span></span>
   - <span data-ttu-id="59e9c-291">Sur l’écran d’**accueil** de Windows, tapez une partie du nom **Gestionnaire des services Internet (IIS)** .</span><span class="sxs-lookup"><span data-stu-id="59e9c-291">On the Windows **Start** screen, type any part of the name **Internet Information Services (IIS) Manager**.</span></span> <span data-ttu-id="59e9c-292">Cliquez sur le raccourci quand il s’affiche dans les résultats **Applications**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-292">Click the shortcut when it is displayed in the **Apps** results.</span></span>

2. <span data-ttu-id="59e9c-293">Créez un pool d’applications pour Accès Web Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="59e9c-293">Create a new application pool for Windows PowerShell Web Access.</span></span> <span data-ttu-id="59e9c-294">Développez le nœud du serveur de passerelle dans l’arborescence du Gestionnaire des services Internet, sélectionnez **Pools d’applications**, puis cliquez sur **Ajouter un pool d’applications** dans le volet **Actions**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-294">Expand the node of the gateway server in the IIS Manager tree pane, select **Application Pools**, and click **Add Application Pool** in the **Actions** pane.</span></span>

3. <span data-ttu-id="59e9c-295">Ajoutez un nouveau pool d’applications portant le nom **pswa_pool** ou indiquez un autre nom.</span><span class="sxs-lookup"><span data-stu-id="59e9c-295">Add a new application pool with the name **pswa_pool**, or provide another name.</span></span> <span data-ttu-id="59e9c-296">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-296">Click **OK**.</span></span>

4. <span data-ttu-id="59e9c-297">Dans le volet de l’arborescence du Gestionnaire des services Internet, développez le nœud du serveur sur lequel Accès Web Windows PowerShell est installé jusqu’à ce que le dossier **Sites** apparaisse.</span><span class="sxs-lookup"><span data-stu-id="59e9c-297">In the IIS Manager tree pane, expand the node for the server on which Windows PowerShell Web Access is installed until the **Sites** folder is visible.</span></span> <span data-ttu-id="59e9c-298">Sélectionnez le dossier **Sites**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-298">Select the **Sites** folder.</span></span>

5. <span data-ttu-id="59e9c-299">Cliquez avec le bouton droit sur le site web (par exemple, **Site web par défaut**) auquel vous voulez ajouter le site web Accès Web Windows PowerShell, puis cliquez sur **Ajouter une application**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-299">Right-click the website (for example, **Default Web Site**) to which you would like to add the Windows PowerShell Web Access website, and then click **Add Application**.</span></span>

6. <span data-ttu-id="59e9c-300">Dans le champ **Alias**, tapez pswa ou indiquez un autre alias.</span><span class="sxs-lookup"><span data-stu-id="59e9c-300">In the **Alias** field, type pswa, or provide another alias.</span></span> <span data-ttu-id="59e9c-301">L’alias devient le nom du répertoire virtuel.</span><span class="sxs-lookup"><span data-stu-id="59e9c-301">The alias becomes the virtual directory name.</span></span> <span data-ttu-id="59e9c-302">Par exemple, **pswa** dans l’URL suivante représente l’alias spécifié au cours de cette étape : `https://<server-name>/pswa`.</span><span class="sxs-lookup"><span data-stu-id="59e9c-302">For example, **pswa** in the following URL represents the alias specified in this step: `https://<server-name>/pswa`.</span></span>

7. <span data-ttu-id="59e9c-303">Dans le champ **Pool d’applications**, sélectionnez le pool d’applications que vous avez créé à l’étape 3.</span><span class="sxs-lookup"><span data-stu-id="59e9c-303">In the **Application pool** field, select the application pool that you created in step 3.</span></span>

8. <span data-ttu-id="59e9c-304">Dans le champ **Chemin d’accès physique**, naviguez jusqu’à l’emplacement de l’application.</span><span class="sxs-lookup"><span data-stu-id="59e9c-304">In the **Physical path** field, browse for the location of the application.</span></span> <span data-ttu-id="59e9c-305">Vous pouvez utiliser l’emplacement par défaut, `$env:windir/Web/PowerShellWebAccess/wwwroot`.</span><span class="sxs-lookup"><span data-stu-id="59e9c-305">You can use the default location, `$env:windir/Web/PowerShellWebAccess/wwwroot`.</span></span> <span data-ttu-id="59e9c-306">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-306">Click **OK**.</span></span>

9. <span data-ttu-id="59e9c-307">Suivez les étapes de la procédure [Pour configurer un certificat SSL dans le Gestionnaire des services Internet](#to-configure-an-ssl-certificate-in-iis-manager) dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="59e9c-307">Follow the steps in the procedure [To configure an SSL certificate in IIS Manager](#to-configure-an-ssl-certificate-in-iis-manager) in this topic.</span></span>

10. <span data-ttu-id="59e9c-308">Étape de sécurité facultative :</span><span class="sxs-lookup"><span data-stu-id="59e9c-308">Optional security step:</span></span>

    <span data-ttu-id="59e9c-309">Avec le site web sélectionné dans l’arborescence, double-cliquez sur **Paramètres SSL** dans le volet de contenu.</span><span class="sxs-lookup"><span data-stu-id="59e9c-309">With the website selected in the tree pane, double-click **SSL Settings** in the content pane.</span></span>
    <span data-ttu-id="59e9c-310">Sélectionnez **Exiger SSL**, puis dans le volet **Actions**, cliquez sur **Appliquer**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-310">Select **Require SSL**, and then in the **Actions** pane, click **Apply**.</span></span> <span data-ttu-id="59e9c-311">Dans le volet **Paramètres SSL**, vous pouvez éventuellement exiger que les utilisateurs qui se connectent au site web d’Accès Web Windows PowerShell possèdent des certificats clients.</span><span class="sxs-lookup"><span data-stu-id="59e9c-311">Optionally, in the **SSL Settings** pane, you can require that users connecting to the Windows PowerShell Web Access website have client certificates.</span></span> <span data-ttu-id="59e9c-312">Ceux-ci aident à vérifier l’identité d’un utilisateur de périphérique client.</span><span class="sxs-lookup"><span data-stu-id="59e9c-312">Client certificates help to verify the identity of a client device user.</span></span> <span data-ttu-id="59e9c-313">Pour plus d’informations sur la manière dont l’exigence de certificats clients permet de renforcer la sécurité d’Accès Web Windows PowerShell, consultez [Règles d’autorisation et fonctionnalités de sécurité d’Accès Web Windows PowerShell](authorization-rules-and-security-features-of-windows-powershell-web-access.md) dans ce guide.</span><span class="sxs-lookup"><span data-stu-id="59e9c-313">For more information about how requiring client certificates can increase the security of Windows PowerShell Web Access, see [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md) in this guide.</span></span>

11. <span data-ttu-id="59e9c-314">Ouvrez une session de navigateur sur un périphérique client.</span><span class="sxs-lookup"><span data-stu-id="59e9c-314">Open a browser session on a client device.</span></span> <span data-ttu-id="59e9c-315">Pour plus d’informations sur les navigateurs et périphériques pris en charge, consultez [Prise en charge de navigateurs et de périphériques client](#browser-and-client-device-support) dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="59e9c-315">For more information about supported browsers and devices, see [Browser and client device support](#browser-and-client-device-support) in this topic.</span></span>

12. <span data-ttu-id="59e9c-316">Ouvrez le nouveau site web Accès Web Windows PowerShell, **https://\<*nom_serveur_de_passerelle*\>/pswa**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-316">Open the new Windows PowerShell Web Access website, **https://\<*gateway-server-name*\>/pswa**.</span></span>

    <span data-ttu-id="59e9c-317">Le navigateur doit afficher la page de connexion de la console d’Accès Web Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="59e9c-317">The browser should display the Windows PowerShell Web Access console sign-in page.</span></span>

    > [!NOTE]
    > <span data-ttu-id="59e9c-318">Vous ne pouvez pas vous connecter tant que les utilisateurs ne se voient pas accorder l’accès au site web en ajoutant des règles d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="59e9c-318">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span> <span data-ttu-id="59e9c-319">Pour plus d’informations, consultez [Configurer une règle d’autorisation restrictive](#configure-a-restrictive-authorization-rule) dans cette rubrique, et [Règles d’autorisation et fonctionnalités de sécurité d’Accès Web Windows PowerShell](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="59e9c-319">For more information, see [Configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule), in this topic, and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

13. <span data-ttu-id="59e9c-320">Dans une session Windows PowerShell qui a été ouverte avec des droits d’utilisateur élevés (Exécuter en tant qu’administrateur), exécutez le script suivant dans lequel *application_pool_name* représente le nom du pool d’applications que vous avez créé à l’étape 3, afin de donner les droits d’accès au pool d’applications dans le fichier d’autorisations.</span><span class="sxs-lookup"><span data-stu-id="59e9c-320">In a Windows PowerShell session that has been opened with elevated user rights (Run as Administrator), run the following script, in which *application_pool_name* represents the name of the application pool that you created in step 3, to give the application pool access rights to the authorization file.</span></span>

    ```powershell
    $applicationPoolName = "<application_pool_name>"
    $authorizationFile = "C:\windows\web\powershellwebaccess\data\AuthorizationRules.xml"
    c:\windows\system32\icacls.exe $authorizationFile /grant ('"' + "IIS AppPool\$applicationPoolName" + '":R') > $null
    ```

    <span data-ttu-id="59e9c-321">Pour afficher les droits d’accès existants sur le fichier d’autorisations, exécutez la commande suivante :</span><span class="sxs-lookup"><span data-stu-id="59e9c-321">To view existing access rights on the authorization file, run the following command:</span></span>

    ```powershell
    c:\windows\system32\icacls.exe $authorizationFile
    ```

#### <a name="to-use-iis-manager-to-configure-the-gateway-as-a-root-website-with-a-test-certificate"></a><span data-ttu-id="59e9c-322">Pour configurer la passerelle comme site web racine avec un certificat de test à l’aide du Gestionnaire des services Internet</span><span class="sxs-lookup"><span data-stu-id="59e9c-322">To use IIS Manager to configure the gateway as a root website with a test certificate</span></span>

1. <span data-ttu-id="59e9c-323">Ouvrez la console du Gestionnaire des services Internet en procédant de l’une des manières suivantes.</span><span class="sxs-lookup"><span data-stu-id="59e9c-323">Open the IIS Manager console by doing one of the following.</span></span>

   - <span data-ttu-id="59e9c-324">Sur le Bureau Windows, démarrez le Gestionnaire de serveur en cliquant sur **Gestionnaire de serveur** dans la barre des tâches Windows.</span><span class="sxs-lookup"><span data-stu-id="59e9c-324">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span> <span data-ttu-id="59e9c-325">Dans le menu **Outils** du Gestionnaire de serveur, cliquez sur **Gestionnaire des services Internet (IIS)** .</span><span class="sxs-lookup"><span data-stu-id="59e9c-325">On the **Tools** menu in Server Manager, click **Internet Information Services (IIS) Manager**.</span></span>
   - <span data-ttu-id="59e9c-326">Sur l’écran d’**accueil** de Windows, tapez une partie du nom **Gestionnaire des services Internet (IIS)** .</span><span class="sxs-lookup"><span data-stu-id="59e9c-326">On the Windows **Start** screen, type any part of the name **Internet Information Services (IIS) Manager**.</span></span> <span data-ttu-id="59e9c-327">Cliquez sur le raccourci quand il s’affiche dans les résultats **Applications**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-327">Click the shortcut when it is displayed in the **Apps** results.</span></span>

1. <span data-ttu-id="59e9c-328">Dans le volet de l’arborescence du Gestionnaire des services Internet, développez le nœud du serveur sur lequel Accès Web Windows PowerShell est installé jusqu’à ce que le dossier **Sites** apparaisse.</span><span class="sxs-lookup"><span data-stu-id="59e9c-328">In the IIS Manager tree pane, expand the node for the server on which Windows PowerShell Web Access is installed until the **Sites** folder is visible.</span></span> <span data-ttu-id="59e9c-329">Sélectionnez le dossier **Sites**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-329">Select the **Sites** folder.</span></span>

1. <span data-ttu-id="59e9c-330">Dans le volet **Actions**, cliquez sur **Ajouter un site Web**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-330">In the **Actions** pane, click **Add Website**.</span></span>

1. <span data-ttu-id="59e9c-331">Tapez le nom du site web, comme **Accès Web Windows PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-331">Type a name for the website, such as **Windows PowerShell Web Access**.</span></span>

1. <span data-ttu-id="59e9c-332">Un pool d’applications est créé automatiquement pour le nouveau site web.</span><span class="sxs-lookup"><span data-stu-id="59e9c-332">An application pool is automatically created for the new website.</span></span> <span data-ttu-id="59e9c-333">Pour utiliser un autre pool d’applications, cliquez sur **Sélectionner** pour sélectionner un pool d’applications à associer au nouveau site web.</span><span class="sxs-lookup"><span data-stu-id="59e9c-333">To use a different application pool, click **Select** to select an application pool to associate with the new website.</span></span> <span data-ttu-id="59e9c-334">Sélectionnez l’autre pool d’applications dans la boîte de dialogue **Sélectionner un pool d’applications**, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-334">Select the alternate application pool in the **Select Application Pool** dialog box, and then click **OK**.</span></span>

1. <span data-ttu-id="59e9c-335">Dans la zone de texte **Chemin d’accès physique**, accédez à %windir%/Web/PowerShellWebAccess/wwwroot.</span><span class="sxs-lookup"><span data-stu-id="59e9c-335">In the **Physical path** text box, navigate to %windir%/Web/PowerShellWebAccess/wwwroot.</span></span>

1. <span data-ttu-id="59e9c-336">Dans le champ **Type** de la zone **Liaison**, sélectionnez **https**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-336">In the **Type** field of the **Binding** area, select **https**.</span></span>

1. <span data-ttu-id="59e9c-337">Assignez au site web un numéro de port qui n’est pas déjà utilisé par un autre site ou une autre application.</span><span class="sxs-lookup"><span data-stu-id="59e9c-337">Assign a port number to the website that is not already in use by another site or application.</span></span>
   <span data-ttu-id="59e9c-338">Pour localiser les ports ouverts, vous pouvez exécuter la commande **netstat** dans une fenêtre d’invite de commandes.</span><span class="sxs-lookup"><span data-stu-id="59e9c-338">To locate open ports, you can run the **netstat** command in a Command Prompt window.</span></span> <span data-ttu-id="59e9c-339">Le numéro de port par défaut est 443.</span><span class="sxs-lookup"><span data-stu-id="59e9c-339">The default port number is 443.</span></span>

   <span data-ttu-id="59e9c-340">Modifiez le port par défaut si un autre site web utilise déjà le port 443 ou si vous avez d’autres raisons d’ordre sécuritaire.</span><span class="sxs-lookup"><span data-stu-id="59e9c-340">Change the default port if another website is already using 443, or if you have other security reasons for changing the port number.</span></span> <span data-ttu-id="59e9c-341">Si un autre site web qui s’exécute sur votre serveur de passerelle utilise votre port sélectionné, un avertissement s’affiche quand vous cliquez sur **OK** dans la boîte de dialogue **Ajouter un site Web**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-341">If another website that is running on your gateway server is using your selected port, a warning is displayed when you click **OK** in the **Add Website** dialog box.</span></span> <span data-ttu-id="59e9c-342">Vous devez utiliser un port inutilisé pour exécuter Accès Web Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="59e9c-342">You must use an unused port to run Windows PowerShell Web Access.</span></span>

1. <span data-ttu-id="59e9c-343">Selon les besoins de votre organisation, spécifiez éventuellement un nom d’hôte qui a du sens pour votre organisation et ses utilisateurs, comme **`www.contoso.com`** .</span><span class="sxs-lookup"><span data-stu-id="59e9c-343">Optionally, if needed for your organization, specify a host name that makes sense to your organization and users, such as **`www.contoso.com`**.</span></span> <span data-ttu-id="59e9c-344">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-344">Click **OK**.</span></span>

1. <span data-ttu-id="59e9c-345">Pour un environnement de production plus sécurisé, nous vous recommandons vivement de fournir un certificat valide signé par une autorité de certification.</span><span class="sxs-lookup"><span data-stu-id="59e9c-345">For a more secure production environment, we strongly recommend providing a valid certificate that has been signed by a CA.</span></span> <span data-ttu-id="59e9c-346">Vous devez fournir un certificat SSL, car les utilisateurs peuvent uniquement se connecter à Accès Web Windows PowerShell par le biais d’un site web HTTPS.</span><span class="sxs-lookup"><span data-stu-id="59e9c-346">You must provide an SSL certificate, because users can only connect to Windows PowerShell Web Access through an HTTPS website.</span></span> <span data-ttu-id="59e9c-347">Pour plus d’informations sur l’obtention d’un certificat, consultez [Pour configurer un certificat SSL dans le Gestionnaire des services Internet](#to-configure-an-ssl-certificate-in-iis-manager) dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="59e9c-347">See [To configure an SSL certificate in IIS Manager](#to-configure-an-ssl-certificate-in-iis-manager) in this topic for more information about how to obtain a certificate.</span></span>

1. <span data-ttu-id="59e9c-348">Cliquez sur **OK** pour fermer la boîte de dialogue **Ajouter un site Web**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-348">Click **OK** to close the **Add Website** dialog box.</span></span>

1. <span data-ttu-id="59e9c-349">Dans une session Windows PowerShell qui a été ouverte avec des droits d’utilisateur élevés (Exécuter en tant qu’administrateur), exécutez le script suivant dans lequel _application_pool_name_ représente le nom du pool d’applications que vous avez créé à l’étape 4, afin de donner les droits d’accès au pool d’applications dans le fichier d’autorisations.</span><span class="sxs-lookup"><span data-stu-id="59e9c-349">In a Windows PowerShell session that has been opened with elevated user rights (Run as Administrator), run the following script, in which _application_pool_name_ represents the name of the application pool that you created in step 4, to give the application pool access rights to the authorization file.</span></span>

   ```powershell
   $applicationPoolName = "<application_pool_name>"
   $authorizationFile = "C:\windows\web\powershellwebaccess\data\AuthorizationRules.xml"
   c:\windows\system32\icacls.exe $authorizationFile /grant ('"' + "IIS AppPool\$applicationPoolName" + '":R') > $null
   ```

   <span data-ttu-id="59e9c-350">Pour afficher les droits d’accès existants sur le fichier d’autorisations, exécutez la commande suivante :</span><span class="sxs-lookup"><span data-stu-id="59e9c-350">To view existing access rights on the authorization file, run the following command:</span></span>

   ```powershell
   c:\windows\system32\icacls.exe $authorizationFile
   ```

1. <span data-ttu-id="59e9c-351">Avec le nouveau site web sélectionné dans le volet de l’arborescence du Gestionnaire des services Internet, cliquez sur **Démarrer** dans le volet **Actions** pour démarrer le site web.</span><span class="sxs-lookup"><span data-stu-id="59e9c-351">With the new website selected in the IIS Manager tree pane, click **Start** in the **Actions** pane to start the website.</span></span>

1. <span data-ttu-id="59e9c-352">Ouvrez une session de navigateur sur un périphérique client.</span><span class="sxs-lookup"><span data-stu-id="59e9c-352">Open a browser session on a client device.</span></span> <span data-ttu-id="59e9c-353">Pour plus d’informations sur les navigateurs et périphériques pris en charge, voir [Prise en charge de navigateurs et de périphériques client](#browser-and-client-device-support) dans ce document.</span><span class="sxs-lookup"><span data-stu-id="59e9c-353">For more information about supported browsers and devices, see [Browser and client device support](#browser-and-client-device-support) in this document.</span></span>

1. <span data-ttu-id="59e9c-354">Ouvrez le site web Accès Web Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="59e9c-354">Open the new Windows PowerShell Web Access website.</span></span>

   <span data-ttu-id="59e9c-355">Dans la mesure où le site web racine pointe vers le dossier Accès Web Windows PowerShell, le navigateur doit afficher la page de connexion Accès Web Windows PowerShell quand vous ouvrez `https://<gateway_server_name>`.</span><span class="sxs-lookup"><span data-stu-id="59e9c-355">Because the root website points to the Windows PowerShell Web Access folder, the browser should display the Windows PowerShell Web Access sign-in page when you open `https://<gateway_server_name>`.</span></span> <span data-ttu-id="59e9c-356">Il n’est pas nécessaire d’ajouter **/pswa** à l’URL.</span><span class="sxs-lookup"><span data-stu-id="59e9c-356">You should not need to add **/pswa** to the URL.</span></span>

   > [!NOTE]
   > <span data-ttu-id="59e9c-357">Vous ne pouvez pas vous connecter tant que les utilisateurs ne se voient pas accorder l’accès au site web en ajoutant des règles d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="59e9c-357">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span> <span data-ttu-id="59e9c-358">Pour plus d’informations, consultez [Configurer une règle d’autorisation restrictive](#configure-a-restrictive-authorization-rule) dans cette rubrique, et [Règles d’autorisation et fonctionnalités de sécurité d’Accès Web Windows PowerShell](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="59e9c-358">For more information, see [Configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule), in this topic, and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

### <a name="configuring-a-restrictive-authorization-rule"></a><span data-ttu-id="59e9c-359">Configuration d’une règle d’autorisation restrictive</span><span class="sxs-lookup"><span data-stu-id="59e9c-359">Configuring a restrictive authorization rule</span></span>

<span data-ttu-id="59e9c-360">Une fois Accès Web Windows PowerShell installé et la passerelle configurée, les utilisateurs peuvent ouvrir la page de connexion dans un navigateur, mais ils ne peuvent pas se connecter tant que l’administrateur d’Accès Web Windows PowerShell ne leur a pas octroyé explicitement un accès.</span><span class="sxs-lookup"><span data-stu-id="59e9c-360">After Windows PowerShell Web Access is installed and the gateway is configured, users can open the sign-in page in a browser, but they cannot sign in until the Windows PowerShell Web Access administrator grants users access explicitly.</span></span> <span data-ttu-id="59e9c-361">Le contrôle d’accès d’Accès Web Windows PowerShell est géré à l’aide de l’ensemble d’applets de commande Windows PowerShell décrit dans le tableau suivant.</span><span class="sxs-lookup"><span data-stu-id="59e9c-361">Windows PowerShell Web Access access control is managed by using the set of Windows PowerShell cmdlets described in the following table.</span></span> <span data-ttu-id="59e9c-362">Il n’existe aucune interface utilisateur graphique équivalente pour ajouter ou gérer les règles d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="59e9c-362">There is no comparable GUI for adding or managing authorization rules.</span></span> <span data-ttu-id="59e9c-363">Pour plus d’informations sur les applets de commande Accès Web Windows PowerShell, consultez les rubriques de référence des applets de commande, [Applets de commande Accès Web Windows PowerShell](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps).</span><span class="sxs-lookup"><span data-stu-id="59e9c-363">For more detailed information about Windows PowerShell Web Access cmdlets, see the cmdlet reference topics, [Windows PowerShell Web Access Cmdlets](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps).</span></span>

<span data-ttu-id="59e9c-364">Pour plus de détails sur les règles d’autorisation et la sécurité d’Accès Web Windows PowerShell, consultez [Règles d’autorisation et fonctionnalités de sécurité d’Accès Web Windows PowerShell](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="59e9c-364">For more detail about Windows PowerShell Web Access authorization rules and security, see [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

#### <a name="adding-a-restrictive-authorization-rule"></a><span data-ttu-id="59e9c-365">Ajout d’une règle d’autorisation restrictive</span><span class="sxs-lookup"><span data-stu-id="59e9c-365">Adding a restrictive authorization rule</span></span>

1. <span data-ttu-id="59e9c-366">Effectuez une des opérations suivantes pour ouvrir une session Windows PowerShell avec des droits utilisateur élevés.</span><span class="sxs-lookup"><span data-stu-id="59e9c-366">Do one of the following to open a Windows PowerShell session with elevated user rights.</span></span>

   - <span data-ttu-id="59e9c-367">Sur le Bureau Windows, cliquez avec le bouton droit dans la barre des tâches sur **Windows PowerShell**, puis cliquez sur **Exécuter en tant qu’administrateur**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-367">On the Windows desktop, right-click **Windows PowerShell** on the taskbar, and then click **Run as Administrator**.</span></span>
   - <span data-ttu-id="59e9c-368">Dans l’écran d’**accueil** de Windows, cliquez avec le bouton droit sur **Windows PowerShell**, puis cliquez sur **Exécuter en tant qu’administrateur**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-368">On the Windows **Start** screen, right-click **Windows PowerShell**, and then click **Run as Administrator**.</span></span>

1. <span data-ttu-id="59e9c-369">Étape facultative pour restreindre l’accès utilisateur à l’aide de configurations de session :</span><span class="sxs-lookup"><span data-stu-id="59e9c-369">Optional step for restricting user access by using session configurations:</span></span>

   <span data-ttu-id="59e9c-370">vérifiez que les configurations de session que vous souhaitez utiliser dans vos règles existent déjà.</span><span class="sxs-lookup"><span data-stu-id="59e9c-370">Verify that session configurations that you want to use in your rules already exist.</span></span> <span data-ttu-id="59e9c-371">Si elles n’ont pas encore été créées, utilisez les instructions relatives à la création de configurations de session dans [About Session Configuration Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span><span class="sxs-lookup"><span data-stu-id="59e9c-371">If they have not yet been created, use instructions for creating session configurations in [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span></span>

1. <span data-ttu-id="59e9c-372">Tapez ce qui suit, puis appuyez sur **Entrée**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-372">Type the following, and then press **Enter**.</span></span>

   `Add-PswaAuthorizationRule -UserName <domain\user | computer\user> -ComputerName <computer_name> -ConfigurationName <session_configuration_name>`

   <span data-ttu-id="59e9c-373">Cette règle d’autorisation permet à un utilisateur donné d’accéder à un ordinateur sur le réseau auquel il a généralement accès, avec un accès à une configuration de session spécifique limitée aux besoins habituels de l’utilisateur en matière de scripts et de cmdlets.</span><span class="sxs-lookup"><span data-stu-id="59e9c-373">This authorization rule allows a specific user access to one computer on the network to which they typically have access, with access to a specific session configuration that is scoped to the user'&trade;s typical scripting and cmdlet needs.</span></span>

   <span data-ttu-id="59e9c-374">Dans l’exemple suivant, un utilisateur nommé `JSmith` dans le domaine `Contoso` se voit accorder un accès permettant de gérer l’ordinateur `Contoso_214` et d’utiliser une configuration de session nommée `NewAdminsOnly`.</span><span class="sxs-lookup"><span data-stu-id="59e9c-374">In the following example, a user named `JSmith` in the `Contoso` domain is granted access to manage the computer `Contoso_214`, and use a session configuration named `NewAdminsOnly`.</span></span>

   `Add-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214 -ConfigurationName NewAdminsOnly`

1. <span data-ttu-id="59e9c-375">Vérifiez que la règle a été créée en exécutant l’applet de commande `Get-PswaAuthorizationRule` ou `Test-PswaAuthorizationRule -UserName '<domain\user>' -ComputerName <computer-name>`.</span><span class="sxs-lookup"><span data-stu-id="59e9c-375">Verify that the rule has been created by running either the `Get-PswaAuthorizationRule` cmdlet, or `Test-PswaAuthorizationRule -UserName '<domain\user>' -ComputerName <computer-name>`.</span></span>

   <span data-ttu-id="59e9c-376">Par exemple : `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span><span class="sxs-lookup"><span data-stu-id="59e9c-376">For example, `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span></span>

   <span data-ttu-id="59e9c-377">Après avoir configuré une règle d’autorisation, les utilisateurs autorisés peuvent se connecter à la console web et commencer à utiliser Accès Web Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="59e9c-377">After you have configured an authorization rule, you are ready for authorized users to sign in to the web-based console and begin using Windows PowerShell Web Access.</span></span>

## <a name="configure-a-genuine-certificate"></a><span data-ttu-id="59e9c-378">Configurer un certificat authentique</span><span class="sxs-lookup"><span data-stu-id="59e9c-378">Configure a genuine certificate</span></span>

<span data-ttu-id="59e9c-379">Pour un environnement de production sécurisé, utilisez toujours un certificat SSL valide signé par une autorité de certification.</span><span class="sxs-lookup"><span data-stu-id="59e9c-379">For a secure production environment, always use a valid SSL certificate that has been signed by a certification authority (CA).</span></span> <span data-ttu-id="59e9c-380">La procédure décrite dans cette section détaille comment obtenir et appliquer un certificat SSL valide à partir d’une autorité de certification.</span><span class="sxs-lookup"><span data-stu-id="59e9c-380">The procedure in this section describes how to obtain and apply a valid SSL certificate from a CA.</span></span>

### <a name="to-configure-an-ssl-certificate-in-iis-manager"></a><span data-ttu-id="59e9c-381">Pour configurer un certificat SSL dans le Gestionnaire des services Internet</span><span class="sxs-lookup"><span data-stu-id="59e9c-381">To configure an SSL certificate in IIS Manager</span></span>

1. <span data-ttu-id="59e9c-382">Dans le volet de l’arborescence du Gestionnaire des services Internet, sélectionnez le serveur sur lequel Accès Web Windows PowerShell est installé.</span><span class="sxs-lookup"><span data-stu-id="59e9c-382">In the IIS Manager tree pane, select the server on which Windows PowerShell Web Access is installed.</span></span>

1. <span data-ttu-id="59e9c-383">Dans le volet de contenu, double-cliquez sur **Certificats de serveur**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-383">In the content pane, double click **Server Certificates**.</span></span>

1. <span data-ttu-id="59e9c-384">Dans le volet **Actions**, effectuez l’une des opérations suivantes.</span><span class="sxs-lookup"><span data-stu-id="59e9c-384">In the **Actions** pane, do one of the following.</span></span> <span data-ttu-id="59e9c-385">Pour plus d’informations sur la configuration des certificats de serveur dans IIS, consultez [Configuration des certificats de serveur dans IIS 7](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732230(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="59e9c-385">For more information about configuring server certificates in IIS, see [Configuring Server Certificates in IIS 7](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732230(v=ws.10)).</span></span>

   - <span data-ttu-id="59e9c-386">Cliquez sur **Importer** pour importer un certificat existant valide depuis un emplacement sur votre réseau.</span><span class="sxs-lookup"><span data-stu-id="59e9c-386">Click **Import** to import an existing, valid certificate from a location on your network.</span></span>
   - <span data-ttu-id="59e9c-387">Cliquez sur **Créer une demande de certificat** pour demander un certificat auprès d’une autorité de certification comme [VeriSign](https://www.verisign.com/), [Thawte](https://www.thawte.com/) ou [GeoTrust](https://www.geotrust.com/).</span><span class="sxs-lookup"><span data-stu-id="59e9c-387">Click **Create Certificate Request** to request a certificate from a CA such as [VeriSign](https://www.verisign.com/), [Thawte](https://www.thawte.com/), or [GeoTrust](https://www.geotrust.com/).</span></span> <span data-ttu-id="59e9c-388">Le nom courant du certificat doit correspondre à l’en-tête d’hôte dans la demande.</span><span class="sxs-lookup"><span data-stu-id="59e9c-388">The certificate's common name must match the host header in the request.</span></span>

     <span data-ttu-id="59e9c-389">Par exemple, si le navigateur client demande `http://www.contoso.com/`, le nom commun doit également être `http://www.contoso.com/`.</span><span class="sxs-lookup"><span data-stu-id="59e9c-389">For example, if the client browser requests `http://www.contoso.com/`, then the common name must also be `http://www.contoso.com/`.</span></span> <span data-ttu-id="59e9c-390">Il s’agit de l’option recommandée la plus sécurisée pour fournir un certificat à la passerelle Accès Web Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="59e9c-390">This is the most secure and recommended option for providing the Windows PowerShell Web Access gateway with a certificate.</span></span>

   - <span data-ttu-id="59e9c-391">Cliquez sur **Créer un certificat auto-signé** pour créer un certificat que vous pouvez utiliser immédiatement, puis faire signer ultérieurement par une autorité de certification si besoin.</span><span class="sxs-lookup"><span data-stu-id="59e9c-391">Click **Create a Self-Signed Certificate** to create a certificate that you can use immediately, and have signed later by a CA if desired.</span></span> <span data-ttu-id="59e9c-392">Spécifiez un nom convivial pour le certificat auto-signé, comme **Accès Web Windows PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-392">Specify a friendly name for the self-signed certificate, such as **Windows PowerShell Web Access**.</span></span> <span data-ttu-id="59e9c-393">Cette option est considérée comme non sécurisée et recommandée uniquement dans un environnement de test privé.</span><span class="sxs-lookup"><span data-stu-id="59e9c-393">This option is not considered secure, and is recommended only for a private test environment.</span></span>

1. <span data-ttu-id="59e9c-394">Après avoir créé ou obtenu un certificat, sélectionnez le site web auquel il est appliqué (par exemple, le **Site Web par défaut**) dans le volet de l’arborescence du Gestionnaire des services Internet, puis cliquez sur **Liaisons** dans le volet **Actions**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-394">After creating or obtaining a certificate, select the website to which the certificate is applied (for example, **Default Web Site**) in the IIS Manager tree pane, and then click **Bindings** in the **Actions** pane.</span></span>

1. <span data-ttu-id="59e9c-395">Dans la boîte de dialogue **Ajouter la liaison de site**, ajoutez une liaison **https** pour le site, si aucune n’est déjà affichée.</span><span class="sxs-lookup"><span data-stu-id="59e9c-395">In the **Add Site Binding** dialog box, add an **https** binding for the site, if one is not already displayed.</span></span> <span data-ttu-id="59e9c-396">Si vous n’utilisez pas de certificat auto-signé, spécifiez le nom d’hôte de l’étape 3 de cette procédure.</span><span class="sxs-lookup"><span data-stu-id="59e9c-396">If you are not using a self-signed certificate, specify the host name from step 3 of this procedure.</span></span> <span data-ttu-id="59e9c-397">Si vous utilisez un certificat auto-signé, vous pouvez ignorer cette étape.</span><span class="sxs-lookup"><span data-stu-id="59e9c-397">If you are using a self-signed certificate, this step is not required.</span></span>

1. <span data-ttu-id="59e9c-398">Sélectionnez le certificat que vous avez obtenu ou créé à l’étape 3 de cette procédure, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="59e9c-398">Select the certificate that you obtained or created in step 3 of this procedure, and then click **OK**.</span></span>

## <a name="using-the-web-based-windows-powershell-console"></a><span data-ttu-id="59e9c-399">Utilisation de la console Web Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="59e9c-399">Using the web-based Windows PowerShell console</span></span>

<span data-ttu-id="59e9c-400">Une fois qu’Accès Web Windows PowerShell est installé et la configuration de la passerelle terminée comme décrit dans cette rubrique, la console web Windows PowerShell est prête à être utilisée.</span><span class="sxs-lookup"><span data-stu-id="59e9c-400">After Windows PowerShell Web Access is installed and the gateway configuration is finished as described in this topic, the Windows PowerShell web-based console is ready to use.</span></span> <span data-ttu-id="59e9c-401">Pour plus d’informations sur la prise en main de la console web, consultez [Utiliser la console web Windows PowerShell](use-the-web-based-windows-powershell-console.md).</span><span class="sxs-lookup"><span data-stu-id="59e9c-401">For more information about getting started in the web-based console, see [Use the Web-based Windows PowerShell Console](use-the-web-based-windows-powershell-console.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="59e9c-402">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="59e9c-402">See Also</span></span>

<span data-ttu-id="59e9c-403">[Documentation d’Internet Information Services (IIS) 7.0](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc753433(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="59e9c-403">[Internet Information Services (IIS) 7.0 Documentation](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc753433(v=ws.10))</span></span>

<span data-ttu-id="59e9c-404">[Aide du Gestionnaire des services Internet](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732664(v=ws.11))</span><span class="sxs-lookup"><span data-stu-id="59e9c-404">[IIS Manager 7.0 Help](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732664(v=ws.11))</span></span>

<span data-ttu-id="59e9c-405">[Configure Web Server Security (IIS 7)](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc731278(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="59e9c-405">[Configure Web Server Security (IIS 7)](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc731278(v=ws.10))</span></span>

<span data-ttu-id="59e9c-406">[Ressources de déploiement de la sécurité IPsec](/previous-versions/windows/it-pro/windows-server-2003/cc776369(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="59e9c-406">[IPsec Deployment Resources](/previous-versions/windows/it-pro/windows-server-2003/cc776369(v=ws.10))</span></span>
