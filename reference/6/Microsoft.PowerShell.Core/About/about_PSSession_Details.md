---
description: Fournit des informations détaillées sur les sessions PowerShell et le rôle qu’elles jouent dans les commandes distantes.
keywords: powershell,applet de commande
Locale: en-US
ms.date: 06/09/2017
online version: https://docs.microsoft.com/powershell/module/microsoft.powershell.core/about/about_pssession_details?view=powershell-6&WT.mc_id=ps-gethelp
schema: 2.0.0
title: about_PSSession_Details
ms.openlocfilehash: 6f469d0bf2268604e9a1bf09535c53afe89e184e
ms.sourcegitcommit: f874dc1d4236e06a3df195d179f59e0a7d9f8436
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/13/2020
ms.locfileid: "93207010"
---
# <a name="about-pssession-details"></a><span data-ttu-id="ac8f1-104">À propos des détails de PSSession</span><span class="sxs-lookup"><span data-stu-id="ac8f1-104">About PSSession Details</span></span>

## <a name="short-description"></a><span data-ttu-id="ac8f1-105">Description courte</span><span class="sxs-lookup"><span data-stu-id="ac8f1-105">Short Description</span></span>
<span data-ttu-id="ac8f1-106">Fournit des informations détaillées sur les sessions PowerShell et le rôle qu’elles jouent dans les commandes distantes.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-106">Provides detailed information about PowerShell sessions and the role they play in remote commands.</span></span>

## <a name="long-description"></a><span data-ttu-id="ac8f1-107">Description longue</span><span class="sxs-lookup"><span data-stu-id="ac8f1-107">Long Description</span></span>

<span data-ttu-id="ac8f1-108">Une session est un environnement dans lequel PowerShell s’exécute.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-108">A session is an environment in which PowerShell runs.</span></span> <span data-ttu-id="ac8f1-109">Une session est créée à chaque fois que vous démarrez PowerShell.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-109">A session is created for you whenever you start PowerShell.</span></span> <span data-ttu-id="ac8f1-110">Vous pouvez créer des sessions supplémentaires, appelées « sessions PowerShell » ou « sessions PSSession » sur votre ordinateur ou un autre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-110">You can create additional sessions, called "PowerShell sessions" or "PSSessions" on your computer or another computer.</span></span>

<span data-ttu-id="ac8f1-111">Contrairement aux sessions que PowerShell crée pour vous, vous pouvez contrôler et gérer les sessions PSSession que vous créez.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-111">Unlike the sessions that PowerShell creates for you, you control and manage the PSSessions that you create.</span></span>

<span data-ttu-id="ac8f1-112">Sessions PSSession jouent un rôle important dans l’informatique à distance.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-112">PSSessions play an important role in remote computing.</span></span> <span data-ttu-id="ac8f1-113">Quand vous créez une session PSSession qui est connectée à un ordinateur distant, PowerShell établit une connexion permanente à l’ordinateur distant pour prendre en charge la session PSSession.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-113">When you create a PSSession that is connected to a remote computer, PowerShell establishes a persistent connection to the remote computer to support the PSSession.</span></span> <span data-ttu-id="ac8f1-114">Vous pouvez utiliser la session PSSession pour exécuter une série de commandes, de fonctions et de scripts qui partagent des données.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-114">You can use the PSSession to run a series of commands, functions, and scripts that share data.</span></span>

<span data-ttu-id="ac8f1-115">Cette rubrique fournit des informations détaillées sur les sessions et les sessions PSSession dans PowerShell.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-115">This topic provides detailed information about sessions and PSSessions in PowerShell.</span></span> <span data-ttu-id="ac8f1-116">Pour obtenir des informations de base sur les tâches que vous pouvez effectuer avec les sessions, consultez [about_PSSessions](about_PSSessions.md).</span><span class="sxs-lookup"><span data-stu-id="ac8f1-116">For basic information about the tasks that you can perform with sessions, see [about_PSSessions](about_PSSessions.md).</span></span>

## <a name="about-sessions"></a><span data-ttu-id="ac8f1-117">À propos des sessions</span><span class="sxs-lookup"><span data-stu-id="ac8f1-117">About Sessions</span></span>

<span data-ttu-id="ac8f1-118">Techniquement, une session est un environnement d’exécution dans lequel PowerShell s’exécute.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-118">Technically, a session is an execution environment in which PowerShell runs.</span></span> <span data-ttu-id="ac8f1-119">Chaque session comprend une instance du moteur System. Management. Automation et un programme hôte dans lequel PowerShell s’exécute.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-119">Each session includes an instance of the System.Management.Automation engine and a host program in which PowerShell runs.</span></span> <span data-ttu-id="ac8f1-120">L’hôte peut être la console PowerShell familière ou un autre programme qui exécute des commandes, telles que Cmd.exe, ou un programme conçu pour héberger PowerShell, tel que Environnement d’écriture de scripts intégré de Windows PowerShell (ISE).</span><span class="sxs-lookup"><span data-stu-id="ac8f1-120">The host can be the familiar PowerShell console or another program that runs commands, such as Cmd.exe, or a program built to host PowerShell, such as Windows PowerShell Integrated Scripting Environment (ISE).</span></span> <span data-ttu-id="ac8f1-121">Du point de vue de Windows, une session est un processus Windows sur l’ordinateur cible.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-121">From a Windows perspective, a session is a Windows process on the target computer.</span></span>

<span data-ttu-id="ac8f1-122">Chaque session est configurée indépendamment.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-122">Each session is configured independently.</span></span> <span data-ttu-id="ac8f1-123">Il comprend ses propres propriétés, sa propre stratégie d’exécution et ses propres profils.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-123">It includes its own properties, its own execution policy, and its own profiles.</span></span> <span data-ttu-id="ac8f1-124">L’environnement qui existe lorsque la session est créée persiste pendant sa durée de vie, même si vous modifiez l’environnement sur l’ordinateur.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-124">The environment that exists when the session is created persists for its lifetime even if you change the environment on the computer.</span></span> <span data-ttu-id="ac8f1-125">Toutes les sessions sont créées dans une étendue globale, même les sessions que vous créez dans un script.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-125">All sessions are created in a global scope, even sessions that you create in a script.</span></span>

<span data-ttu-id="ac8f1-126">Vous ne pouvez exécuter qu’une seule commande (ou pipeline de commande) dans une session à la fois.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-126">You can run only one command (or command pipeline) in a session at one time.</span></span> <span data-ttu-id="ac8f1-127">Une deuxième commande exécutée de façon synchrone (une à la fois) attend jusqu’à quatre minutes que la première commande soit terminée.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-127">A second command run synchronously (one at a time) waits up to four minutes for the first command to be completed.</span></span> <span data-ttu-id="ac8f1-128">Une deuxième commande exécutée de façon asynchrone (simultanément) échoue.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-128">A second command run asynchronously (concurrently) fails.</span></span>

## <a name="about-pssessions"></a><span data-ttu-id="ac8f1-129">À propos de sessions PSSession</span><span class="sxs-lookup"><span data-stu-id="ac8f1-129">About PSSessions</span></span>

<span data-ttu-id="ac8f1-130">Une session est créée chaque fois que vous démarrez PowerShell.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-130">A session is created each time that you start PowerShell.</span></span> <span data-ttu-id="ac8f1-131">Et PowerShell crée des sessions temporaires pour exécuter des commandes individuelles.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-131">And, PowerShell creates temporary sessions to run individual commands.</span></span>
<span data-ttu-id="ac8f1-132">Toutefois, vous pouvez également créer des sessions (appelées « sessions PowerShell » ou « sessions PSSession ») que vous contrôlez et gérez.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-132">However, you can also create sessions (called "PowerShell sessions" or "PSSessions") that you control and manage.</span></span>

<span data-ttu-id="ac8f1-133">Les sessions PSSession sont essentiels pour les commandes à distance.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-133">PSSessions are critical to remote commands.</span></span> <span data-ttu-id="ac8f1-134">Si vous utilisez le paramètre **ComputerName** des `Invoke-Command` `Enter-PSSession` applets de commande ou, PowerShell établit une session temporaire pour exécuter la commande, puis ferme la session dès que la commande ou la session interactive est terminée.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-134">If you use the **ComputerName** parameter of the `Invoke-Command` or `Enter-PSSession` cmdlets, PowerShell establishes a temporary session to run the command and then closes the session as soon as the command or the interactive session is complete.</span></span>

<span data-ttu-id="ac8f1-135">Toutefois, si vous utilisez l' `New-PSSession` applet de commande pour créer une session PSSession, PowerShell établit une session persistante sur l’ordinateur distant dans lequel vous pouvez exécuter plusieurs commandes ou sessions interactives.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-135">However, if you use the `New-PSSession` cmdlet to create a PSSession, PowerShell establishes a persistent session on the remote computer in which you can run multiple commands or interactive sessions.</span></span> <span data-ttu-id="ac8f1-136">Les sessions PSSession que vous créez restent ouverts et utilisables jusqu’à ce que vous les supprimiez ou que vous fermiez la session dans laquelle ils ont été créés.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-136">The PSSessions that you create remain open and available for use until you delete them or until you close the session in which they were created.</span></span>

<span data-ttu-id="ac8f1-137">Lorsque vous créez une session PSSession sur un ordinateur distant, le système crée un processus PowerShell sur l’ordinateur distant et établit une connexion entre l’ordinateur local et le processus sur l’ordinateur distant.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-137">When you create a PSSession on a remote computer, the system creates a PowerShell process on the remote computer and establishes a connection from the local computer to the process on the remote computer.</span></span> <span data-ttu-id="ac8f1-138">Lorsque vous créez une session PSSession sur l’ordinateur local, le nouveau processus et les connexions sont créés sur l’ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-138">When you create a PSSession on the local computer, both the new process and the connections are created on the local computer.</span></span>

## <a name="when-do-i-need-a-pssession"></a><span data-ttu-id="ac8f1-139">Quand ai-je besoin d’une session PSSession ?</span><span class="sxs-lookup"><span data-stu-id="ac8f1-139">When Do I Need a PSSession?</span></span>

<span data-ttu-id="ac8f1-140">Les `Invoke-Command` applets de commande et `Enter-PSSession` possèdent des paramètres **ComputerName** et **session** .</span><span class="sxs-lookup"><span data-stu-id="ac8f1-140">The `Invoke-Command` and `Enter-PSSession` cmdlets have both **ComputerName** and **Session** parameters.</span></span> <span data-ttu-id="ac8f1-141">Vous pouvez utiliser l’une ou l’autre pour exécuter une commande à distance.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-141">You can use either to run a remote command.</span></span>

<span data-ttu-id="ac8f1-142">Utilisez le paramètre **ComputerName** pour exécuter une seule commande ou une série de commandes non liées sur un ou plusieurs ordinateurs.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-142">Use the **ComputerName** parameter to run a single command or a series of unrelated commands on one or many computers.</span></span>

<span data-ttu-id="ac8f1-143">Pour exécuter des commandes qui partagent des données, vous devez disposer d’une connexion permanente à l’ordinateur distant.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-143">To run commands that share data, you need a persistent connection to the remote computer.</span></span> <span data-ttu-id="ac8f1-144">Dans ce cas, créez une session PSSession, puis utilisez le paramètre session pour exécuter des commandes dans la **session** PSSession.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-144">In that case, create a PSSession, and then use the **Session** parameter to run commands in the PSSession.</span></span>

<span data-ttu-id="ac8f1-145">De nombreuses autres applets de commande qui obtiennent des données à partir d’ordinateurs distants, telles que `Get-Process` ,, `Get-Service` `Get-EventLog` et `Get-WmiObject` ont uniquement un paramètre **ComputerName** .</span><span class="sxs-lookup"><span data-stu-id="ac8f1-145">Many other cmdlets that get data from remote computers, such as `Get-Process`, `Get-Service`, `Get-EventLog`, and `Get-WmiObject` have only a **ComputerName** parameter.</span></span> <span data-ttu-id="ac8f1-146">Ils utilisent des technologies autres que la communication à distance PowerShell pour collecter des données à distance.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-146">They use technologies other than PowerShell remoting to gather data remotely.</span></span> <span data-ttu-id="ac8f1-147">Ces applets de commande n’ont pas de paramètre de **session** , mais vous pouvez utiliser l' `Invoke-Command` applet de commande pour exécuter ces commandes dans une session PSSession.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-147">These cmdlets do not have a **Session** parameter, but you can use the `Invoke-Command` cmdlet to run these commands in a PSSession.</span></span>

## <a name="how-do-i-create-a-pssession"></a><span data-ttu-id="ac8f1-148">Comment créer une session PSSession ?</span><span class="sxs-lookup"><span data-stu-id="ac8f1-148">How Do I Create a PSSession?</span></span>

<span data-ttu-id="ac8f1-149">Pour créer une session PSSession, utilisez l’applet de commande `New-PSSession` .</span><span class="sxs-lookup"><span data-stu-id="ac8f1-149">To create a PSSession, use the `New-PSSession` cmdlet.</span></span> <span data-ttu-id="ac8f1-150">Vous pouvez utiliser `New-PSSession` pour créer une session PSSession sur un ordinateur local ou distant.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-150">You can use `New-PSSession` to create a PSSession on a local or remote computer.</span></span>

## <a name="can-i-create-a-pssession-on-any-computer"></a><span data-ttu-id="ac8f1-151">Puis-je créer une session PSSession sur n’importe quel ordinateur ?</span><span class="sxs-lookup"><span data-stu-id="ac8f1-151">Can I Create a PSSession on Any Computer?</span></span>

<span data-ttu-id="ac8f1-152">Pour créer une session PSSession qui est connectée à un ordinateur distant, l’ordinateur doit être configuré pour la communication à distance dans PowerShell.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-152">To create a PSSession that is connected to a remote computer, the computer must be configured for remoting in PowerShell.</span></span> <span data-ttu-id="ac8f1-153">L’utilisateur actuel doit être membre du groupe Administrateurs sur l’ordinateur distant, ou l’utilisateur actuel doit être en mesure de fournir les informations d’identification d’un membre du groupe administrateurs.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-153">The current user must be a member of the Administrators group on the remote computer, or the current user must be able to supply the credentials of a member of the Administrators group.</span></span> <span data-ttu-id="ac8f1-154">Pour plus d'informations, consultez [about_Remote_Requirements](about_Remote_Requirements.md).</span><span class="sxs-lookup"><span data-stu-id="ac8f1-154">For more information, see [about_Remote_Requirements](about_Remote_Requirements.md).</span></span>

## <a name="can-i-see-my-pssessions-in-other-sessions"></a><span data-ttu-id="ac8f1-155">Puis-je voir mes sessions PSSession dans d’autres sessions ?</span><span class="sxs-lookup"><span data-stu-id="ac8f1-155">Can I See My PSSessions in Other Sessions?</span></span>

<span data-ttu-id="ac8f1-156">À compter de Windows PowerShell 3,0, le paramètre **ComputerName** de l' `Get-PSSession` applet de commande obtient les sessions PSSession que vous avez créés sur les ordinateurs distants spécifiés.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-156">Beginning in Windows PowerShell 3.0, the **ComputerName** parameter of the `Get-PSSession` cmdlet gets PSSessions that you created on the specified remote computers.</span></span>

<span data-ttu-id="ac8f1-157">Les sessions PSSession actifs sont conservés sur l’ordinateur distant (côté serveur d’une connexion) et vous pouvez les obtenir à partir de n’importe quelle session sur n’importe quel ordinateur.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-157">Active PSSessions are maintained on the remote computer (the "server-side" of a connection) and you can get them from any session on any computer.</span></span>

<span data-ttu-id="ac8f1-158">Par exemple, si vous créez une session PSSession à partir de l’ordinateur SERVEUR01 vers l’ordinateur Server02, puis que vous basculez vers l’ordinateur Server03, vous pouvez utiliser une commande comme celle qui suit pour obtenir la session.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-158">For example, if you create a PSSession from the Server01 computer to the Server02 computer, and then switch to the Server03 computer, you can use a command like the following one to get the session.</span></span>

```powershell
Get-PSSession -ComputerName Server02
```

<span data-ttu-id="ac8f1-159">Même si vous vous déconnectez de la session, la session est conservée sur l’ordinateur distant jusqu’à ce que vous le supprimiez ou expirez.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-159">Even if you disconnect from the session, the session is maintained on the remote computer until you delete it or it times out.</span></span>

<span data-ttu-id="ac8f1-160">Dans Windows PowerShell 2,0, vous pouvez obtenir uniquement les sessions PSSession que vous avez créés dans la session active.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-160">In Windows PowerShell 2.0, you can get only the PSSessions that you have created in the current session.</span></span> <span data-ttu-id="ac8f1-161">Vous ne pouvez pas accéder aux sessions PSSession que vous avez créés dans d’autres sessions.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-161">You cannot get PSSessions that you created in other sessions.</span></span>

<span data-ttu-id="ac8f1-162">Pour plus d’informations, consultez la page [obtenir-PSSession](xref:Microsoft.PowerShell.Core.Get-PSSession).</span><span class="sxs-lookup"><span data-stu-id="ac8f1-162">For more information, see [Get-PSSession](xref:Microsoft.PowerShell.Core.Get-PSSession).</span></span>

## <a name="can-i-see-the-pssessions-that-others-have-created-on-my-computer"></a><span data-ttu-id="ac8f1-163">Puis-je voir le sessions PSSession que les autres ont créés sur Poste de travail ?</span><span class="sxs-lookup"><span data-stu-id="ac8f1-163">Can I See the PSSessions That Others Have Created on My Computer?</span></span>

<span data-ttu-id="ac8f1-164">Vous pouvez obtenir et gérer uniquement les sessions PSSession que d’autres ont créés uniquement si vous pouvez fournir les informations d’identification de l’utilisateur qui a créé la session PSSession ou la configuration de session que la session PSSession utilise, y compris les informations d’identification RunAs.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-164">You can get and manage only the PSSessions that others have created only if you can supply the credentials of the user who created the PSSession or the session configuration that the PSSession uses includes RunAs credentials.</span></span> <span data-ttu-id="ac8f1-165">Dans le cas contraire, vous pouvez vous procurer, vous connecter à, utiliser et gérer uniquement les sessions PSSession que vous avez créés.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-165">Otherwise, you can get, connect to, use, and manage only the PSSessions that you created.</span></span>

## <a name="can-i-connect-to-a-pssession-from-a-different-computer"></a><span data-ttu-id="ac8f1-166">Puis-je me connecter à une session PSSession à partir d’un autre ordinateur ?</span><span class="sxs-lookup"><span data-stu-id="ac8f1-166">Can I Connect to a PSSession From a Different Computer?</span></span>

<span data-ttu-id="ac8f1-167">À compter de Windows PowerShell 3,0, les sessions PSSession sont indépendants des sessions dans lesquelles elles ont été créées.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-167">Beginning in Windows PowerShell 3.0, PSSessions are independent of the sessions in which they were created.</span></span> <span data-ttu-id="ac8f1-168">Les sessions PSSession actifs sont conservés sur l’ordinateur à distance ou côté serveur d’une connexion.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-168">Active PSSessions are maintained on the computer at the remote or "server-side" of a connection.</span></span>

<span data-ttu-id="ac8f1-169">Vous pouvez utiliser l' `Disconnect-PSSession` applet de commande pour vous déconnecter d’une session PSSession.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-169">You can use the `Disconnect-PSSession` cmdlet to disconnect from a PSSession.</span></span> <span data-ttu-id="ac8f1-170">La session PSSession est déconnectée de la session locale, mais est conservée sur l’ordinateur distant.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-170">The PSSession is disconnected from the local session, but is maintained on the remote computer.</span></span>
<span data-ttu-id="ac8f1-171">Les commandes continuent à s’exécuter dans la session PSSession déconnectée.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-171">Commands continue to run in the disconnected PSSession.</span></span> <span data-ttu-id="ac8f1-172">Vous pouvez fermer PowerShell et arrêter l’ordinateur d’origine sans interrompre la session PSSession.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-172">You can close PowerShell and shut down the originating computer without interrupting the PSSession.</span></span>

<span data-ttu-id="ac8f1-173">Ensuite, même quelques heures plus tard, vous pouvez utiliser l' `Get-PSSession` applet de commande pour obtenir la session PSSession et l' `Connect-PSSession` applet de commande pour vous connecter à la session PSSession à partir d’une nouvelle session sur un autre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-173">Then, even hours later, you can use the `Get-PSSession` cmdlet to get the PSSession and the `Connect-PSSession` cmdlet to connect to the PSSession from a new session on a different computer.</span></span>

<span data-ttu-id="ac8f1-174">Pour plus d’informations, consultez [about_Remote_Disconnected_Sessions](about_Remote_Disconnected_Sessions.md).</span><span class="sxs-lookup"><span data-stu-id="ac8f1-174">For more information, see [about_Remote_Disconnected_Sessions](about_Remote_Disconnected_Sessions.md).</span></span>

## <a name="what-happens-to-my-pssession-if-my-computer-stops"></a><span data-ttu-id="ac8f1-175">Qu’advient-il de ma session PSSession si Poste de travail s’arrête ?</span><span class="sxs-lookup"><span data-stu-id="ac8f1-175">What Happens to My PSSession if My Computer Stops?</span></span>

<span data-ttu-id="ac8f1-176">Les sessions PSSession déconnectées sont indépendantes des sessions dans lesquelles elles ont été créées.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-176">Disconnected PSSessions are independent of the sessions in which they were created.</span></span> <span data-ttu-id="ac8f1-177">Si vous déconnectez une session PSSession, puis fermez l’ordinateur d’origine, la session PSSession est conservée sur l’ordinateur distant.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-177">If you disconnect a PSSession and then close the originating computer, the PSSession is maintained on the remote computer.</span></span>

<span data-ttu-id="ac8f1-178">En outre, PowerShell tente de récupérer les sessions PSSession actifs qui sont déconnectés involontairement, par exemple par un redémarrage de l’ordinateur, une panne d’alimentation temporaire ou une interruption du réseau.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-178">In addition, PowerShell attempts to recover active PSSessions that are disconnected unintentionally, such as by a computer reboot, a temporary power outage or network disruption.</span></span> <span data-ttu-id="ac8f1-179">PowerShell tente de maintenir ou de récupérer la session PSSession à un état ouvert, si la session d’origine est toujours disponible, ou à un état déconnecté, si ce n’est pas le cas.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-179">PowerShell attempts to maintain or recover the PSSession to an Opened state, if the originating session is still available, or to a disconnected state if it is not.</span></span>

<span data-ttu-id="ac8f1-180">Une session PSSession « active » est une session qui exécute des commandes.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-180">An "active" PSSession is one that is running commands.</span></span> <span data-ttu-id="ac8f1-181">Si une session PSSession est connectée (non déconnectée) et si les commandes s’exécutent dans la session PSSession lorsque la session connectée se ferme, PowerShell tente de maintenir la session PSSession sur l’ordinateur distant.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-181">If a PSSession is connected (not disconnected) and commands are running in the PSSession when the connected session closes, PowerShell attempts to maintain the PSSession on the remote computer.</span></span> <span data-ttu-id="ac8f1-182">Toutefois, si aucune commande n’est en cours d’exécution dans la session PSSession, PowerShell ferme la session PSSession lorsque la session connectée se ferme.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-182">However, if no commands are running in the PSSession, PowerShell closes the PSSession when the connected session closes.</span></span>

<span data-ttu-id="ac8f1-183">Pour plus d’informations, consultez [about_Remote_Disconnected_Sessions](about_Remote_Disconnected_Sessions.md).</span><span class="sxs-lookup"><span data-stu-id="ac8f1-183">For more information, see [about_Remote_Disconnected_Sessions](about_Remote_Disconnected_Sessions.md).</span></span>

## <a name="can-i-run-a-background-job-in-a-pssession"></a><span data-ttu-id="ac8f1-184">Puis-je exécuter une tâche en arrière-plan dans une session PSSession ?</span><span class="sxs-lookup"><span data-stu-id="ac8f1-184">Can I Run a Background Job in a PSSession?</span></span>

<span data-ttu-id="ac8f1-185">Oui.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-185">Yes.</span></span> <span data-ttu-id="ac8f1-186">Une tâche en arrière-plan est une commande qui s’exécute de façon asynchrone en arrière-plan sans interagir avec la session active.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-186">A background job is a command that runs asynchronously in the background without interacting with the current session.</span></span> <span data-ttu-id="ac8f1-187">Lorsque vous envoyez une commande pour démarrer un travail, la commande retourne un objet de traitement, mais le travail continue à s’exécuter en arrière-plan jusqu’à ce qu’il soit terminé.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-187">When you submit a command to start a job, the command returns a job object, but the job continues to run in the background until it is complete.</span></span>

<span data-ttu-id="ac8f1-188">Pour démarrer une tâche en arrière-plan sur un ordinateur local, utilisez la `Start-Job` commande.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-188">To start a background job on a local computer, use the `Start-Job` command.</span></span>
<span data-ttu-id="ac8f1-189">Vous pouvez exécuter le travail en arrière-plan dans une connexion temporaire (à l’aide du paramètre **ComputerName** ) ou dans une session PSSession (à l’aide du paramètre **session** ).</span><span class="sxs-lookup"><span data-stu-id="ac8f1-189">You can run the background job in a temporary connection (by using the **ComputerName** parameter) or in a PSSession (by using the **Session** parameter).</span></span>

<span data-ttu-id="ac8f1-190">Pour démarrer une tâche en arrière-plan sur un ordinateur distant, utilisez l' `Invoke-Command` applet de commande avec son paramètre **AsJob** ou utilisez l' `Invoke-Command` applet de commande pour exécuter une `Start-Job` commande sur un ordinateur distant.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-190">To start a background job on a remote computer, use the `Invoke-Command` cmdlet with its **AsJob** parameter, or use the `Invoke-Command` cmdlet to run a `Start-Job` command on a remote computer.</span></span> <span data-ttu-id="ac8f1-191">Quand vous utilisez le paramètre **AsJob** , vous pouvez utiliser les paramètres **ComputerName** ou **session** .</span><span class="sxs-lookup"><span data-stu-id="ac8f1-191">When using the **AsJob** parameter, you can use the **ComputerName** or **Session** parameters.</span></span>

<span data-ttu-id="ac8f1-192">Lorsque `Invoke-Command` vous utilisez pour exécuter une `Start-Job` commande, vous devez exécuter la commande dans une session PSSession.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-192">When using `Invoke-Command` to run a `Start-Job` command, you must run the command in a PSSession.</span></span> <span data-ttu-id="ac8f1-193">Si vous utilisez le paramètre **ComputerName** , PowerShell met fin à la connexion quand l’objet de traitement est retourné et la tâche est interrompue.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-193">If you use the **ComputerName** parameter, PowerShell ends the connection when the job object returns, and the job is interrupted.</span></span>

<span data-ttu-id="ac8f1-194">Pour plus d’informations, consultez [à propos des_tâches](about_Jobs.md).</span><span class="sxs-lookup"><span data-stu-id="ac8f1-194">For more information, see [about_Jobs](about_Jobs.md).</span></span>

## <a name="can-i-run-an-interactive-session"></a><span data-ttu-id="ac8f1-195">Puis-je exécuter une session interactive ?</span><span class="sxs-lookup"><span data-stu-id="ac8f1-195">Can I Run an Interactive Session?</span></span>

<span data-ttu-id="ac8f1-196">Oui.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-196">Yes.</span></span> <span data-ttu-id="ac8f1-197">Pour démarrer une session interactive avec un ordinateur distant, utilisez l' `Enter-PSSession` applet de commande.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-197">To start an interactive session with a remote computer, use the `Enter-PSSession` cmdlet.</span></span> <span data-ttu-id="ac8f1-198">Dans une session interactive, les commandes que vous tapez s’exécutent sur l’ordinateur distant, comme si vous les tapiiez directement sur l’ordinateur distant.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-198">In an interactive session, the commands that you type run on the remote computer, just as if you typed them directly on the remote computer.</span></span>

<span data-ttu-id="ac8f1-199">Vous pouvez exécuter une session interactive dans une session temporaire (à l’aide du paramètre **ComputerName** ) ou dans une session PSSession (à l’aide du paramètre **session** ).</span><span class="sxs-lookup"><span data-stu-id="ac8f1-199">You can run an interactive session in a temporary session (by using the **ComputerName** parameter) or in a PSSession (by using the **Session** parameter).</span></span>
<span data-ttu-id="ac8f1-200">Si vous utilisez une session PSSession, la session PSSession conserve les données des commandes précédentes, et la session PSSession conserve toutes les données générées pendant la session interactive pour une utilisation dans les commandes ultérieures.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-200">If you use a PSSession, the PSSession retains the data from previous commands, and the PSSession retains any data generated during the interactive session for use in later commands.</span></span>

<span data-ttu-id="ac8f1-201">Lorsque vous terminez la session interactive, la session PSSession reste ouverte et disponible pour utilisation.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-201">When you end the interactive session, the PSSession remains open and available for use.</span></span>

<span data-ttu-id="ac8f1-202">Pour plus d’informations, consultez [Enter-PSSession](xref:Microsoft.PowerShell.Core.Enter-PSSession) et [Exit-PSSession](xref:Microsoft.PowerShell.Core.Exit-PSSession).</span><span class="sxs-lookup"><span data-stu-id="ac8f1-202">For more information, see [Enter-PSSession](xref:Microsoft.PowerShell.Core.Enter-PSSession) and [Exit-PSSession](xref:Microsoft.PowerShell.Core.Exit-PSSession).</span></span>

## <a name="must-i-delete-the-pssessions"></a><span data-ttu-id="ac8f1-203">Dois-je supprimer le sessions PSSession ?</span><span class="sxs-lookup"><span data-stu-id="ac8f1-203">Must I Delete the PSSessions?</span></span>

<span data-ttu-id="ac8f1-204">Oui.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-204">Yes.</span></span> <span data-ttu-id="ac8f1-205">Une session PSSession est un processus, qui est un environnement autonome qui utilise de la mémoire et d’autres ressources même lorsque vous ne l’utilisez pas.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-205">A PSSession is a process, which is a self-contained environment that uses memory and other resources even when you are not using it.</span></span> <span data-ttu-id="ac8f1-206">Une fois que vous avez terminé avec une session PSSession, supprimez-la.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-206">When you are finished with a PSSession, delete it.</span></span> <span data-ttu-id="ac8f1-207">Si vous créez plusieurs sessions PSSession, fermez ceux que vous n’utilisez pas et conservez uniquement ceux en cours d’utilisation.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-207">If you create multiple PSSessions, close the ones that you are not using, and maintain only the ones currently in use.</span></span>

<span data-ttu-id="ac8f1-208">Pour supprimer sessions PSSession, utilisez l' `Remove-PSSession` applet de commande.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-208">To delete PSSessions, use the `Remove-PSSession` cmdlet.</span></span> <span data-ttu-id="ac8f1-209">Elle supprime le sessions PSSession et libère toutes les ressources qu’il utilisait.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-209">It deletes the PSSessions and releases all of the resources that they were using.</span></span>

<span data-ttu-id="ac8f1-210">Vous pouvez également utiliser le paramètre **IdleTimeout** de `New-PSSessionOption` pour fermer une session PSSession inactive après un intervalle que vous spécifiez.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-210">You can also use the **IdleTimeOut** parameter of `New-PSSessionOption` to close an idle PSSession after an interval that you specify.</span></span> <span data-ttu-id="ac8f1-211">Pour plus d’informations, consultez [New-PSSessionOption](xref:Microsoft.PowerShell.Core.New-PSSessionOption).</span><span class="sxs-lookup"><span data-stu-id="ac8f1-211">For more information, see [New-PSSessionOption](xref:Microsoft.PowerShell.Core.New-PSSessionOption).</span></span>

<span data-ttu-id="ac8f1-212">Si vous enregistrez un objet PSSession dans une variable, puis supprimez la session PSSession ou laissez-le expirer, la variable contient toujours l’objet PSSession, mais la session PSSession n’est pas active et ne peut pas être utilisée ou réparée.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-212">If you save a PSSession object in a variable and then delete the PSSession or let it time out, the variable still contains the PSSession object, but the PSSession is not active and cannot be used or repaired.</span></span>

## <a name="are-all-sessions-and-pssessions-alike"></a><span data-ttu-id="ac8f1-213">Toutes les sessions et sessions PSSession sont-elles identiques ?</span><span class="sxs-lookup"><span data-stu-id="ac8f1-213">Are All Sessions and PSSessions Alike?</span></span>

<span data-ttu-id="ac8f1-214">Non.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-214">No.</span></span> <span data-ttu-id="ac8f1-215">Les développeurs peuvent créer des sessions personnalisées qui incluent uniquement des fournisseurs et des applets de commande sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-215">Developers can create custom sessions that include only selected providers and cmdlets.</span></span> <span data-ttu-id="ac8f1-216">Si une commande fonctionne dans une session, mais pas dans une autre, cela peut être dû au fait que la session est restreinte.</span><span class="sxs-lookup"><span data-stu-id="ac8f1-216">If a command works in one session but not in another, it might be because the session is restricted.</span></span>

## <a name="see-also"></a><span data-ttu-id="ac8f1-217">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="ac8f1-217">See Also</span></span>

[<span data-ttu-id="ac8f1-218">about_Jobs</span><span class="sxs-lookup"><span data-stu-id="ac8f1-218">about_Jobs</span></span>](about_Jobs.md)

[<span data-ttu-id="ac8f1-219">about_PSSessions</span><span class="sxs-lookup"><span data-stu-id="ac8f1-219">about_PSSessions</span></span>](about_PSSessions.md)

[<span data-ttu-id="ac8f1-220">about_Remote</span><span class="sxs-lookup"><span data-stu-id="ac8f1-220">about_Remote</span></span>](about_Remote.md)

[<span data-ttu-id="ac8f1-221">about_Remote_Disconnected_Sessions</span><span class="sxs-lookup"><span data-stu-id="ac8f1-221">about_Remote_Disconnected_Sessions</span></span>](about_Remote_Disconnected_Sessions.md)

[<span data-ttu-id="ac8f1-222">about_Remote_Requirements</span><span class="sxs-lookup"><span data-stu-id="ac8f1-222">about_Remote_Requirements</span></span>](about_Remote_Requirements.md)

[<span data-ttu-id="ac8f1-223">Invoke-Command</span><span class="sxs-lookup"><span data-stu-id="ac8f1-223">Invoke-Command</span></span>](xref:Microsoft.PowerShell.Core.Invoke-Command)

[<span data-ttu-id="ac8f1-224">Enter-PSSession</span><span class="sxs-lookup"><span data-stu-id="ac8f1-224">Enter-PSSession</span></span>](xref:Microsoft.PowerShell.Core.Enter-PSSession)

[<span data-ttu-id="ac8f1-225">Exit-PSSession</span><span class="sxs-lookup"><span data-stu-id="ac8f1-225">Exit-PSSession</span></span>](xref:Microsoft.PowerShell.Core.Exit-PSSession)

[<span data-ttu-id="ac8f1-226">Get-PSSession</span><span class="sxs-lookup"><span data-stu-id="ac8f1-226">Get-PSSession</span></span>](xref:Microsoft.PowerShell.Core.Get-PSSession)

[<span data-ttu-id="ac8f1-227">New-PSSession</span><span class="sxs-lookup"><span data-stu-id="ac8f1-227">New-PSSession</span></span>](xref:Microsoft.PowerShell.Core.New-PSSession)

[<span data-ttu-id="ac8f1-228">Remove-PSSession</span><span class="sxs-lookup"><span data-stu-id="ac8f1-228">Remove-PSSession</span></span>](xref:Microsoft.PowerShell.Core.Remove-PSSession)
